{"version":3,"file":"index.js","mappings":"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","sources":["webpack://egg-born-mparse/webpack/bootstrap","webpack://egg-born-mparse/webpack/runtime/define property getters","webpack://egg-born-mparse/webpack/runtime/hasOwnProperty shorthand","webpack://egg-born-mparse/webpack/runtime/make namespace object","webpack://egg-born-mparse/./src/main.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const PREFIX_A = '/api/';\nconst PREFIX_B = 'egg-born-module-';\nconst PREFIX_C = './egg-born-module-';\nconst PREFIX_D = './';\n\nexport default {\n  // aa-hello aa/hello\n  //   first check / then -\n  parseInfo(moduleName) {\n    if (!moduleName) return null;\n    if (moduleName.indexOf('://') > -1) return null;\n    if (moduleName.charAt(0) === '/') moduleName = moduleName.substr(1);\n    let parts = moduleName.split('/').filter(item => item);\n    if (parts.length < 2) {\n      parts = moduleName.split('-').filter(item => item);\n      if (parts.length < 2) return null;\n    }\n    return {\n      pid: parts[0],\n      name: parts[1],\n      fullName: `egg-born-module-${parts[0]}-${parts[1]}`,\n      relativeName: `${parts[0]}-${parts[1]}`,\n      url: `${parts[0]}/${parts[1]}`,\n      sync: parts[2] === 'sync',\n      monkey: parts[2] === 'monkey',\n    };\n  },\n  // /api/aa/hello/home/index\n  // egg-born-module-aa-hello\n  // ./aa-hello/\n  // ./egg-born-module-aa-hello/\n  parseName(moduleUrl) {\n    if (!moduleUrl) return null;\n    if (moduleUrl.indexOf(PREFIX_A) === 0) {\n      const posA = PREFIX_A.length;\n      const posB = moduleUrl.indexOf('/', posA) + 1;\n      if (posB === -1) return null;\n      const posC = moduleUrl.indexOf('/', posB);\n      if (posC === -1) return null;\n      return moduleUrl.substring(posA, posC);\n    } else if (moduleUrl.indexOf(PREFIX_B) === 0) {\n      return this._parseName(moduleUrl, PREFIX_B);\n    } else if (moduleUrl.indexOf(PREFIX_C) === 0) {\n      return this._parseName(moduleUrl, PREFIX_C);\n    } else if (moduleUrl.indexOf(PREFIX_D) === 0) {\n      return this._parseName(moduleUrl, PREFIX_D);\n    }\n    return null;\n  },\n  _parseName(moduleUrl, prefix) {\n    const posA = prefix.length;\n    let posB = moduleUrl.indexOf('/', posA);\n    if (posB === -1) posB = moduleUrl.length;\n    return moduleUrl.substring(posA, posB);\n  },\n};\n"],"names":["PREFIX_A","PREFIX_B","PREFIX_C","PREFIX_D","parseInfo","moduleName","indexOf","charAt","substr","parts","split","filter","item","length","pid","name","fullName","relativeName","url","sync","monkey","parseName","moduleUrl","posA","posB","posC","substring","_parseName","prefix"],"sourceRoot":""}