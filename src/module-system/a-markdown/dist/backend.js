(()=>{var t={129:t=>{t.exports=t=>({})},194:(t,e,n)=>{function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e,n,r,o,a,c){try{var s=t[a](c),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}const a=n(17),c=n(638),s=c("@zhennann/markdown"),l=c("@zhennann/markdown-it-block"),i=c("uuid");t.exports=t=>class{render(e){var c,u=this;return(c=function*(){let o=e.host,c=e.content,p=e.locale;if(!c)return"";const d={},f={utils:{text:function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.text).locale.apply(e,[p||t.app.config.i18n.defaultLocale].concat(r))},register:t=>{let e=t.params,n=t.content;const r="__markdown_block_placeholder__".concat(i.v4().replace(/-/g,""));return d[r]={params:e,content:n},r}}};let m=s.create().use(l,f).render(c);for(const e in d){const c=d[e],s=c.params,l=c.content,i=(y=s.split(":"),b=2,function(t){if(Array.isArray(t))return t}(y)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],c=!0,s=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{c||null==n.return||n.return()}finally{if(s)throw o}}return a}}(y,b)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(y,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=i[0],v=i[1];if(!f||!v)throw new Error("Invalid Markdown Block: ".concat(s));const h=t.app.meta.modules[f];if(!h)throw new Error("Module Not Found: ".concat(f));const x=a.join(h.static.backend,"blocks/".concat(v,"/main.js")),w=new(n(353)(x))(u._getHost({host:o,content:l,locale:p}));let k="";w.render&&(k=yield w.render());const g=encodeURIComponent(JSON5.stringify(l,null,2));k='\n<div class="markdown-it-cabloy-block" data-block-params="'.concat(s,'" data-block-content="').concat(g,'">\n  ').concat(k,"\n</div>\n");const T=new RegExp(e);m=m.replace(T,k)}var y,b;return m},function(){var t=this,e=arguments;return new Promise((function(n,r){var a=c.apply(t,e);function s(t){o(a,n,r,s,l,"next",t)}function l(t){o(a,n,r,s,l,"throw",t)}s(void 0)}))})()}_getHost(e){let n=e.host,r=e.content,o=e.locale;return{$host:n,$content:r,$util:t.bean.util.hostUtil({locale:o||t.bean.util.getProperty(n,"atom.atomLanguage")})}}}},223:t=>{function e(t,e,n,r,o,a,c){try{var s=t[a](c),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function n(t){return function(){var n=this,r=arguments;return new Promise((function(o,a){var c=t.apply(n,r);function s(t){e(c,o,a,s,l,"next",t)}function l(t){e(c,o,a,s,l,"throw",t)}s(void 0)}))}}t.exports=t=>{class e extends t.meta.BeanBase{update(t){return n((function*(){}))()}init(t){return n((function*(){}))()}test(){return n((function*(){}))()}}return e}},313:(t,e,n)=>{const r=n(223),o=n(194);t.exports=t=>({"version.manager":{mode:"app",bean:r},markdown:{mode:"ctx",bean:o,global:!0}})},817:t=>{t.exports=t=>({})},971:t=>{t.exports={}},724:t=>{t.exports={}},995:t=>{t.exports={"Markdown Block":"Markdown区块"}},266:(t,e,n)=>{t.exports={"en-us":n(724),"zh-cn":n(995)}},326:t=>{t.exports=t=>({link:{type:"object",properties:{href:{type:"string",ebType:"text",ebTitle:"Link",format:"uri",notEmpty:!0},title:{type:"string",ebType:"text",ebTitle:"Description"}}},table:{type:"object",properties:{rowCount:{type:"number",ebType:"text",ebTitle:"RowCount",default:3,notEmpty:!0},columnCount:{type:"number",ebType:"text",ebTitle:"ColumnCount",default:3,notEmpty:!0}}}})},691:t=>{t.exports=t=>({})},312:(t,e,n)=>{const r=n(817),o=n(266),a=n(971);t.exports=t=>{const e=n(129)(t),c=n(313)(t),s=n(788)(t),l=n(691)(t),i=n(481)(t),u=n(700)(t),p=n(730)(t);return{aops:e,beans:c,routes:s,controllers:l,services:i,models:u,config:r,locales:o,errors:a,meta:p}}},730:(t,e,n)=>{t.exports=t=>({base:{atoms:{},resources:{block:{title:"Markdown Block"}}},validation:{validators:{link:{schemas:"link"},table:{schemas:"table"}},keywords:{},schemas:n(326)(t)}})},700:t=>{t.exports=t=>({})},788:t=>{t.exports=t=>[]},481:t=>{t.exports=t=>({})},353:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=353,t.exports=e},638:t=>{"use strict";t.exports=require("require3")},17:t=>{"use strict";t.exports=require("path")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r=n(312);module.exports=r})();