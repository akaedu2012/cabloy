(()=>{var t={998:(t,e,n)=>{"use strict";function a(t,e,n,a,r,o,i){try{var s=t[o](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}n.d(e,{Z:()=>S});const r={meta:{global:!1},props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{items:[]}},created:function(){this.layoutManager.layout.instance=this,this.layoutManager.container.atomClass&&"select"!==this.layoutManager.container.scene&&"selecting"!==this.layoutManager.container.scene&&(this.layoutManager.subnavbar.enable=!0,this.layoutManager.bulk_loadActions())},methods:{onPageRefresh:function(t){this.$refs.loadMore.reload(t)},onPageInfinite:function(){this.$refs.loadMore.loadMore()},onPageClear:function(){this.$refs.loadMore.clear()},onLoadClear:function(t){this.items=[],this.layoutManager.bulk.selectedAtoms=[],t()},onLoadMore:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.index,(r=n.layoutManager.base_prepareSelectParams()).options.page={index:a},e.next=5,n.$api.post("/a/base/atom/select",r);case 5:return o=e.sent,n.items=n.items.concat(o.list),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(t){a(i,r,o,s,l,"next",t)}function l(t){a(i,r,o,s,l,"throw",t)}s(void 0)}))})()},getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this.layoutManager,layout:this,blockConfig:e}}},getItems:function(){return this.items},_renderBlock:function(t){var e=t.blockName,n=this.$createElement,a=this.layoutConfig.blocks[e];return a?n("eb-component",{attrs:{module:a.component.module,name:a.component.name,options:this.getBlockComponentOptions({blockConfig:a})}}):null},_renderLoadMore:function(){return(0,this.$createElement)("eb-load-more",{ref:"loadMore",props:{onLoadClear:this.onLoadClear,onLoadMore:this.onLoadMore},attrs:{autoInit:"search"!==this.layoutManager.container.scene}})}},render:function(){var t=arguments[0];return t("div",[this._renderBlock({blockName:"items"}),this._renderLoadMore()])}};var o=n(5),i=n.n(o);function s(t,e,n,a,r,o,i){try{var s=t[o](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){s(o,a,r,i,l,"next",t)}function l(t){s(o,a,r,i,l,"throw",t)}i(void 0)}))}}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}const g={data:function(){return{antdv:{locales:null}}},created:function(){var t=this;this.$meta.util.performAction({ctx:this,action:{actionModule:"a-antdv",actionComponent:"antdv",name:"locales"}}).then((function(e){t.antdv.locales=e}))},methods:{antdv_getLocale:function(){if(!this.antdv.locales)return null;var t=this.$meta.util.getLocale();return t&&"en-us"!==t?this.antdv.locales[t]:null}}};function p(t,e,n,a,r,o,i){try{var s=t[o](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function b(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function $(t,e,n,a,r,o,i){try{var s=t[o](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}function I(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){$(o,a,r,i,s,"next",t)}function s(t){$(o,a,r,i,s,"throw",t)}i(void 0)}))}}function x(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}const S={listLayoutList:r,listLayoutBlockFilter:{meta:{global:!1},mixins:[i().prototype.$meta.module.get("a-base").options.mixins.ebAtomClasses],props:{layoutManager:{type:Object},filterConfig:{type:Object},filterContainer:{type:Object}},data:function(){return{form:this.$meta.util.getProperty(this.layoutManager,"filter.data.form")||{atomName:null,mine:this.layoutManager.container.options&&this.layoutManager.container.options.mine||0,stage:this.layoutManager.container.options&&this.layoutManager.container.options.stage||"formal",language:this.layoutManager.container.options&&this.layoutManager.container.options.language||"",category:this.layoutManager.container.options&&this.layoutManager.container.options.category||0,tag:this.layoutManager.container.options&&this.layoutManager.container.options.tag||0,star:this.layoutManager.container.options&&this.layoutManager.container.options.star||0,label:this.layoutManager.container.options&&this.layoutManager.container.options.label||0,atomClass:this.layoutManager.container.atomClass},formAtomClass:this.$meta.util.getProperty(this.layoutManager,"filter.data.formAtomClass")||{},validateParams:null,categoriesAll:null,tagsAll:null,ready:!1,schemaSearch:null}},computed:{userLabels:function(){var t=this.$store.getters["a/base/userLabels"];if(!t)return null;var e=[{title:"",value:0}];for(var n in t)e.push({title:t[n].text,value:n});return e},locales:function(){var t=this.$store.getState("a/base/locales");return t?[{title:"",value:""}].concat(t):[]},atomClass:function(){return this.form.atomClass},atomClassBase:function(){return this.atomClass?this.getAtomClass(this.atomClass):null},atomClassTitle:function(){if(!this.atomClass)return"";if(this.atomClass.title)return this.atomClass.title;var t=this.atomClassBase;return t?t.titleLocale:""},stages:function(){for(var t=[],e=0,n=["draft","formal","history"];e<n.length;e++){var a=n[e];t.push({title:a.replace(a[0],a[0].toUpperCase()),value:a})}return t}},watch:{form:{handler:function(){this.onFilterChanged()},deep:!0},formAtomClass:{handler:function(){this.onFilterChanged()},deep:!0}},created:function(){},methods:{onAtomClassesReady:function(){this.init()},init:function(){var t=this;return l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getLabels");case 2:return e.next=4,t.$store.dispatch("a/base/getLocales");case 4:return e.next=6,t.atomClassChanged();case 6:t.ready=!0;case 7:case"end":return e.stop()}}),e)})))()},loadCategoriesAll:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((a=e.atomClassBase)&&a.category){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e.$store.dispatch("a/base/getCategories",{atomClass:e.atomClass,language:t});case 5:e.categoriesAll=n.sent;case 6:case"end":return n.stop()}}),n)})))()},loadTagsAll:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((a=e.atomClassBase)&&a.tag){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e.$store.dispatch("a/base/getTags",{atomClass:e.atomClass,language:t});case 5:e.tagsAll=n.sent;case 6:case"end":return n.stop()}}),n)})))()},atomClassChanged:function(){var t=this;return l(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.validateParams=null,n=t.atomClass){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.loadCategoriesAll(t.form.language);case 6:return e.next=8,t.loadTagsAll(t.form.language);case 8:return e.next=10,t.$meta.module.use(n.module);case 10:return e.next=12,t.$api.post("/a/base/atomClass/validatorSearch",{atomClass:{module:n.module,atomClassName:n.atomClassName}});case 12:a=e.sent,t.validateParams={module:a.module,validator:a.validator};case 14:case"end":return e.stop()}}),e)})))()},onSelectAtomClass:function(){var t=this;this.$view.navigate("/a/basefront/atom/selectAtomClass",{target:"_self",context:{params:{atomClass:this.atomClass,optional:!0},callback:function(e,n){200===e&&t.form.atomClass!==n&&(t.form.atomClass=n,t.formAtomClass={},t.atomClassChanged())}}})},onFilterChanged:function(t){(t||this.filterContainer.immediate)&&this.onFilterDebounce()},onFilterDebounce:i().prototype.$meta.util.debounce((function(){this.layoutManager.filter_onChanged({form:this.form,formAtomClass:this.formAtomClass,schemaSearch:this.schemaSearch})}),300),onPerformSearch:function(){this.onFilterChanged(!0),this.$f7router.back()},onFormSubmit:function(){this.filterContainer.immediate||this.onPerformSearch()},onSchemaReady:function(t){this.schemaSearch=t},getCategoryName:function(t){if(!this.categoriesAll||!t)return"";var e=this.categoriesAll.find((function(e){return e.id===t}));return e?e.categoryName:""},getTagName:function(t){if(!this.tagsAll||!t)return"";var e=this.tagsAll.find((function(e){return e.id===t}));return e?e.tagName:""},combineAtomClassAndLanguage:function(t){var e={module:this.atomClass.module,atomClassName:this.atomClass.atomClassName};return t&&(e.language=t),e},_selectLanguage:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a={actionModule:"a-base",actionComponent:"action",name:"selectLocale",targetEl:t.target},!e.form.language){n.next=5;break}r=e.form.language,n.next=9;break;case 5:return n.next=7,e.$meta.util.performAction({ctx:e,action:a,item:e.atomClass});case 7:(o=n.sent)&&(r=o.value,e.form.language=o.value);case 9:return n.abrupt("return",r);case 10:case"end":return n.stop()}}),n)})))()},onChooseCategory:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e._selectLanguage(t);case 2:if(!(a=n.sent)){n.next=6;break}return n.next=6,e.loadCategoriesAll(a);case 6:return n.abrupt("return",new Promise((function(t){var n=e.$meta.util.combineQueries("/a/basefront/category/select",e.combineAtomClassAndLanguage(a));e.$view.navigate(n,{target:"_self",context:{params:{categoryIdStart:0,leafOnly:!0},callback:function(n,a){200===n?(e.form.category=a?a.id:0,t(!0)):!1===n&&t(!1)}}})})));case 7:case"end":return n.stop()}}),n)})))()},onChooseTag:function(t){var e=this;return l(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e._selectLanguage(t);case 2:if(!(a=n.sent)){n.next=6;break}return n.next=6,e.loadTagsAll(a);case 6:return n.abrupt("return",new Promise((function(t){var n=e.$meta.util.combineQueries("/a/basefront/tag/select",e.combineAtomClassAndLanguage(a));e.$view.navigate(n,{target:"_self",context:{params:{tags:e.form.tag?[e.form.tag]:null,multiple:!1},callback:function(n,a){200===n?(e.form.tag=a,t(!0)):!1===n&&t(!1)}}})})));case 7:case"end":return n.stop()}}),n)})))()},_renderForm:function(){var t=this,e=this.$createElement;return e("eb-list",{attrs:{form:!0,"inline-labels":!0,"no-hairlines-md":!0},on:{submit:this.onFormSubmit}},[e("eb-list-input",{attrs:{label:this.$text("Atom Name"),type:"text","clear-button":!0,placeholder:this.$text("Atom Name")},model:{value:t.form.atomName,callback:function(e){t.$set(t.form,"atomName",e)}}}),e("f7-list-item",{attrs:{title:this.$text("Mine")}},[e("eb-toggle",{slot:"after",model:{value:t.form.mine,callback:function(e){t.$set(t.form,"mine",e)}}})]),e("f7-list-item",{attrs:{smartSelect:!0,title:this.$text("Stage"),smartSelectParams:{openIn:"sheet",closeOnSelect:!0}}},[e("eb-select",{attrs:{name:"stage",options:this.stages},model:{value:t.form.stage,callback:function(e){t.$set(t.form,"stage",e)}}})]),e("f7-list-item",{attrs:{divider:!0}}),this._renderLanguageAndOthers(),e("f7-list-item",{attrs:{title:this.$text("UserStar")}},[e("eb-toggle",{slot:"after",model:{value:t.form.star,callback:function(e){t.$set(t.form,"star",e)}}})]),e("f7-list-item",{attrs:{smartSelect:!0,title:this.$text("UserLabel"),smartSelectParams:{openIn:"sheet",closeOnSelect:!0}}},[e("eb-select",{attrs:{name:"label",options:this.userLabels},model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)}}})]),e("f7-list-item",{attrs:{divider:!0}}),this._renderAtomClass()])},_renderLanguage:function(){var t=this,e=this.$createElement;return e("f7-list-item",{key:"form.language",attrs:{smartSelect:!0,title:this.$text("Language"),smartSelectParams:{openIn:"sheet",closeOnSelect:!0}}},[e("eb-select",{attrs:{name:"language",options:this.locales},model:{value:t.form.language,callback:function(e){t.$set(t.form,"language",e)}}})])},_renderCategory:function(){var t=this.$createElement;return t("eb-list-item-choose",{key:"form.category",attrs:{link:"#",title:this.$text("Category")},props:{onChoose:this.onChooseCategory}},[t("div",{slot:"after"},[this.getCategoryName(this.form.category)])])},_renderTag:function(){var t=this.$createElement;return t("eb-list-item-choose",{key:"form.tag",attrs:{link:"#",title:this.$text("Tag")},props:{onChoose:this.onChooseTag}},[t("div",{slot:"after"},[this.getTagName(this.form.tag)])])},_renderLanguageAndOthers:function(){var t=this.$createElement,e=this.atomClassBase;if(!e)return null;var n=[];return e.language&&n.push(this._renderLanguage()),e.category&&n.push(this._renderCategory()),e.tag&&n.push(this._renderTag()),n.length>0&&n.push(t("f7-list-item",{attrs:{divider:!0}})),n},_renderAtomClass:function(){var t=this.$createElement;return this.layoutManager.container.atomClass?null:t("f7-list-item",{attrs:{title:this.$text("Atom Class"),link:"#"},on:{click:this.onSelectAtomClass}},[t("div",{slot:"after"},[this.atomClassTitle])])},_renderFormAtomClass:function(){var t=this.$createElement;return this.validateParams?t("eb-validate",{ref:"validate",attrs:{auto:!0,data:this.formAtomClass,params:this.validateParams},on:{submit:this.onFormSubmit,schemaReady:this.onSchemaReady}}):null}},render:function(){var t=arguments[0];return t("div",[this.ready&&this._renderForm(),this.ready&&this._renderFormAtomClass()])}},listLayoutBlockListTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0];return t("f7-nav-right",[this.layoutManager.order_renderAction(),this.layoutManager.filter_renderAction()])}},listLayoutBlockListSubnavbar:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},methods:{_renderActionsLeft:function(){return(0,this.$createElement)("div",{class:"actions-block actions-block-left"},[this.layoutManager.bulk_renderActionsLeft()])},_renderActionsRight:function(){return(0,this.$createElement)("div",{class:"actions-block actions-block-right"},[this.layoutManager.bulk_renderActionsRight()])}},render:function(){var t=arguments[0];return t("f7-subnavbar",[t("div",{class:"atom-list-subnavbar-container"},[this._renderActionsLeft(),this._renderActionsRight()])])}},listLayoutBlockListItems:{meta:{global:!1},mixins:[i().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions],props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{radioName:i().prototype.$meta.util.nextId("radio")}},mounted:function(){this.$meta.eventHub.$on("atom:star",this.onStarChanged),this.$meta.eventHub.$on("atom:labels",this.onLabelsChanged),this.$meta.eventHub.$on("atom:action",this.onActionChanged),this.$meta.eventHub.$on("atom:actions",this.onActionsChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:star",this.onStarChanged),this.$meta.eventHub.$off("atom:labels",this.onLabelsChanged),this.$meta.eventHub.$off("atom:action",this.onActionChanged),this.$meta.eventHub.$off("atom:actions",this.onActionsChanged)},methods:{onItemClick:function(t,e){if(!this.layoutManager.bulk.selecting)return this.onAction(t,e,{module:e.module,atomClassName:e.atomClassName,name:"read"})},onSwipeoutOpened:function(t,e){this.layoutManager.actions_fetchActions(e)},onLabel:function(t,e){var n=this;this.layoutManager.base_user.anonymous?this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){n.$meta.vueLayout.openLogin()})):(this.$view.navigate("/a/basefront/atom/labels?atomId=".concat(e.atomId),{target:"_self"}),this.$meta.util.swipeoutClose(t.target))},onStarSwitch:function(t,e){var n=e.star?0:1;return this._onStarSwitch(t,e,n,"swipeoutClose")},onAction:function(t,e,n){var a=this,r=this.getAction(n);if(r)return this.$meta.util.performAction({ctx:this,action:r,item:e}).then((function(){a.$meta.util.swipeoutClose(t.target)}))},onStarChanged:function(t){var e=this.layout.items,n=this.layoutManager.base_prepareSelectParams({setOrder:!1}).options.star,a=this.layout.items.findIndex((function(e){return e.atomId===t.key.atomId}));n?0===t.star&&-1!==a?e.splice(a,1):1===t.star&&-1===a?this.layout.onPageRefresh():-1!==a&&(e[a].star=t.star):-1!==a&&(e[a].star=t.star)},onLabelsChanged:function(t){var e=this.layout.items,n=this.layoutManager.base_prepareSelectParams({setOrder:!1}).options.label,a=this.layout.items.findIndex((function(e){return e.atomId===t.key.atomId}));if(n){var r=t.labels.indexOf(String(n))>-1;r||-1===a?r&&-1===a?this.layout.onPageRefresh():-1!==a&&(e[a].labels=JSON.stringify(t.labels)):e.splice(a,1)}else-1!==a&&(e[a].labels=JSON.stringify(t.labels))},onActionChanged:function(t){var e=this,n=t.key,a=t.action;if(1!==a.menu||"create"!==a.action){var r=this.layout.items.findIndex((function(t){return t.atomId===n.atomId}));if("delete"!==a.name){if(-1!==r){var o=this.layoutManager.base_prepareReadOptions();this.$api.post("/a/base/atom/read",{key:n,options:o}).then((function(t){i().set(e.layout.items,r,t)}))}}else-1!==r&&this.layout.items.splice(r,1)}},onActionsChanged:function(t){var e=t.key,n=this.layout.items.findIndex((function(t){return t.atomId===e.atomId}));-1!==n&&i().set(this.layout.items[n],"_actions",null)},onItemChange:function(t,e){this.layoutManager.bulk_onItemChange(t,e)},_onStarSwitch:function(t,e,n,a){var r=this;if(!this.layoutManager.base_user.anonymous){var o={atomId:e.atomId,itemId:e.itemId};return this.$api.post("/a/base/atom/star",{key:o,atom:{star:n}}).then((function(e){r.$meta.eventHub.$emit("atom:star",{key:o,star:e.star,starCount:e.starCount}),r.$meta.util[a](t.target)}))}this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){r.$meta.vueLayout.openLogin()}))},_getItemMetaMedia:function(t){var e=t._meta&&t._meta.media||t.avatar||this.$meta.config.modules["a-base"].user.avatar.default;return this.$meta.util.combineImageUrl(e,24)},_getItemMetaMediaLabel:function(t){return t._meta&&t._meta.mediaLabel||t.userName},_getItemMetaSummary:function(t){var e=t._meta&&t._meta.summary||"";if(this.layoutManager.container.atomClass)return e;var n=this.layoutManager.getAtomClass({module:t.module,atomClassName:t.atomClassName});return n?"".concat(n.titleLocale," ").concat(e):e},_getItemMetaFlags:function(t){var e=t._meta&&t._meta.flags||[];return Array.isArray(e)||(e=e.split(",")),t.atomDisabled&&(e=[this.$text("Disabled")].concat(e)),e},_getLabel:function(t){return this.layoutManager.base_userLabels?this.layoutManager.base_userLabels[t]:null},_getActionColor:function(t,e){return 0===e?"orange":1===e?"red":"blue"},_getActionTitle:function(t,e){return this.getActionTitle(t,e.atomStage)},_getItemChecked:function(t){return this.layoutManager.bulk.selectedAtoms.findIndex((function(e){return e.atomId===t.atomId}))>-1},_renderListItem:function(t){var e=this,n=this.$createElement,a=this.layoutManager.bulk.selecting?null:n("div",{slot:"media"},[n("img",{class:"avatar avatar24",attrs:{src:this._getItemMetaMedia(t)}})]),r=n("div",{slot:"root-start",class:"header"},[n("div",{class:"mediaLabel"},[n("span",[this._getItemMetaMediaLabel(t)])]),n("div",{class:"date"},[t.star>0&&n("span",["⭐"]),t.attachmentCount>0&&n("span",["🧷"]),t.attachmentCount>1&&n("span",["".concat(t.attachmentCount)]),t.commentCount>0&&n("span",["💬"]),t.commentCount>1&&n("span",["".concat(t.commentCount)]),n("span",[this.$meta.util.formatDateTimeRelative(t.atomUpdatedAt)])])]),o=n("div",{slot:"title",class:"title"},[n("div",[t.atomNameLocale||t.atomName])]),i=n("div",{slot:"root-end",class:"summary"},[this._getItemMetaSummary(t)]),s=[];t.flowNodeNameCurrentLocale&&s.push(n("f7-badge",{key:"flowNodeNameCurrent",attrs:{color:"orange"}},[t.flowNodeNameCurrentLocale]));var l,c=u(this._getItemMetaFlags(t));try{for(c.s();!(l=c.n()).done;){var m=l.value;s.push(n("f7-badge",{key:m},[m]))}}catch(t){c.e(t)}finally{c.f()}var f=[];if(t.labels&&this.layoutManager.base_userLabels){var d,h=u(JSON.parse(t.labels));try{for(h.s();!(d=h.n()).done;){var g=d.value,p=this._getLabel(g);f.push(n("f7-badge",{key:g,style:{backgroundColor:p.color}},[p.text]))}}catch(t){h.e(t)}finally{h.f()}}var y=n("div",{slot:"after",class:"after"},[s,f]);return n("eb-list-item",{class:"item",key:t.atomId,attrs:{link:!this.layoutManager.bulk.selecting&&"#",name:this.radioName,checkbox:this.layoutManager.bulk.selecting,checked:this._getItemChecked(t),swipeout:!0},props:{onPerform:function(n){return e.onItemClick(n,t)}},on:{swipeoutOpened:function(n){e.onSwipeoutOpened(n,t)},contextmenuOpened:function(n){e.onSwipeoutOpened(n,t)},change:function(n){return e.onItemChange(n,t)}}},[a,r,o,i,y,this._renderListItemContextMenu(t)])},_renderListItemContextMenu:function(t){var e,n=this,a=this.$createElement;if(1===t.atomStage){var r=a("div",{attrs:{color:"teal"},props:{onPerform:function(e){return n.onStarSwitch(e,t)}}},[a("f7-icon",{slot:"media",attrs:{material:t.star?"star_border":"star"}}),this.$device.desktop&&a("div",{slot:"title"},[this.$text(t.star?"Unstar":"UserStar")])]),o=a("div",{attrs:{color:"blue"},props:{onPerform:function(e){return n.onLabel(e,t)}}},[a("f7-icon",{slot:"media",attrs:{material:"label"}}),this.$device.desktop&&a("div",{slot:"title"},[this.$text("UserLabels")])]);e=a("div",{slot:"left"},[r,o])}var i=[];if(t._actions){var s=function(e){e=parseInt(e);var r=t._actions[e],o=n.getAction(r);i.push(a("div",{key:r.id,attrs:{color:n._getActionColor(r,e)},props:{onPerform:function(e){return n.onAction(e,t,r)}}},[a("f7-icon",{slot:"media",attrs:{material:o.icon.material}}),n.$device.desktop&&a("div",{slot:"title"},[n._getActionTitle(r,t)])])),l=e};for(var l in t._actions)s(l)}var u=a("div",{slot:"right",attrs:{ready:!!t._actions}},[i]);return a("eb-context-menu",[e,u])},_renderList:function(){var t,e=this.$createElement,n=[],a=u(this.layout.items);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push(this._renderListItem(r))}}catch(t){a.e(t)}finally{a.f()}return e("f7-list",[n])}},render:function(){var t=arguments[0];return t("div",[this._renderList()])}},listLayoutBlockSelectTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},created:function(){},methods:{onPerformAdd:function(){var t=this,e=this.layoutManager.select_getSelectedAtoms(),n={selectMode:this.layoutManager.container.params.selectMode,selectedAtoms:e};this.$view.navigate("/a/basefront/atom/selecting",{target:"_self",context:{params:{atomClass:this.layoutManager.container.atomClass,options:this.layoutManager.container.options,params:n},callback:function(e,n){200===e&&(Array.isArray(n)||(n=[n]),t.layoutManager.container.params.selectedAtomIds=n.map((function(t){return t.atomId})),t.layoutManager.page_onRefresh())}}})},onPerformDone:function(){var t=this.getSelectedAtoms();this.layoutManager.contextCallback(200,t),this.$f7router.back()},getSelectedAtoms:function(){var t=this.layoutManager.select_getSelectedAtoms();return"single"===this.layoutManager.container.params.selectMode?t&&t.length>0?t[0]:null:t&&t.length>0?t:null}},render:function(){var t=arguments[0];return t("f7-nav-right",[t("eb-link",{attrs:{iconMaterial:"add"},props:{onPerform:this.onPerformAdd}}),t("eb-link",{attrs:{iconMaterial:"done"},props:{onPerform:this.onPerformDone}})])}},listLayoutBlockSelectItems:{meta:{global:!1},mixins:[i().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions],props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{}},methods:{onItemClick:function(t,e){return this.onAction(t,e,{module:e.module,atomClassName:e.atomClassName,name:"read"})},onActionSelectRemove:function(t,e){this.$meta.util.swipeoutClose(t.target);var n=this.layoutManager.container.params.selectedAtomIds;if(n){var a=n.findIndex((function(t){return t===e.atomId}));-1!==a&&n.splice(a,1)}var r=this.layoutManager.base_getItems(),o=r.findIndex((function(t){return t.atomId===e.atomId}));-1!==o&&r.splice(o,1)},onAction:function(t,e,n){var a=this,r=this.getAction(n);if(r)return this.$meta.util.performAction({ctx:this,action:r,item:e}).then((function(){a.$meta.util.swipeoutClose(t.target)}))},_getItemMetaMedia:function(t){var e=t._meta&&t._meta.media||t.avatar||this.$meta.config.modules["a-base"].user.avatar.default;return this.$meta.util.combineImageUrl(e,32)},_getItemMetaMediaLabel:function(t){return t._meta&&t._meta.mediaLabel||t.userName},_getItemMetaSummary:function(t){var e=t._meta&&t._meta.summary||"";if(this.layoutManager.container.atomClass)return e;var n=this.layoutManager.getAtomClass({module:t.module,atomClassName:t.atomClassName});return n?"".concat(n.titleLocale," ").concat(e):e},_getItemMetaFlags:function(t){var e=t._meta&&t._meta.flags||[];return Array.isArray(e)||(e=e.split(",")),t.atomDisabled&&(e=[this.$text("Disabled")].concat(e)),e},_getLabel:function(t){return this.layoutManager.base_userLabels?this.layoutManager.base_userLabels[t]:null},_renderListItem:function(t){var e=this,n=this.$createElement,a=n("div",{slot:"media"},[n("img",{class:"avatar avatar24",attrs:{src:this._getItemMetaMedia(t)}})]),r=n("div",{slot:"root-start",class:"header"},[n("div",{class:"mediaLabel"},[n("span",[this._getItemMetaMediaLabel(t)])]),n("div",{class:"date"},[t.star>0&&n("span",["⭐"]),t.attachmentCount>0&&n("span",["🧷"]),t.attachmentCount>1&&n("span",["".concat(t.attachmentCount)]),t.commentCount>0&&n("span",["💬"]),t.commentCount>1&&n("span",["".concat(t.commentCount)]),n("span",[this.$meta.util.formatDateTimeRelative(t.atomUpdatedAt)])])]),o=n("div",{slot:"title",class:"title"},[n("div",[t.atomNameLocale||t.atomName])]),i=n("div",{slot:"root-end",class:"summary"},[this._getItemMetaSummary(t)]),s=[];t.flowNodeNameCurrentLocale&&s.push(n("f7-badge",{key:"flowNodeNameCurrent",attrs:{color:"orange"}},[t.flowNodeNameCurrentLocale]));var l,u=m(this._getItemMetaFlags(t));try{for(u.s();!(l=u.n()).done;){var c=l.value;s.push(n("f7-badge",{key:c},[c]))}}catch(t){u.e(t)}finally{u.f()}var f=[];if(t.labels&&this.layoutManager.base_userLabels){var d,h=m(JSON.parse(t.labels));try{for(h.s();!(d=h.n()).done;){var g=d.value,p=this._getLabel(g);f.push(n("f7-badge",{key:g,style:{backgroundColor:p.color}},[p.text]))}}catch(t){h.e(t)}finally{h.f()}}var y=n("div",{slot:"after",class:"after"},[s,f]);return n("eb-list-item",{class:"item",key:t.atomId,attrs:{link:"#",swipeout:!0},props:{onPerform:function(n){return e.onItemClick(n,t)}}},[a,r,o,i,y,this._renderListItemContextMenu(t)])},_renderListItemContextMenu:function(t){var e=this,n=this.$createElement;return n("eb-context-menu",[n("div",{slot:"right"},[n("div",{attrs:{color:"teal"},props:{onPerform:function(n){return e.onActionSelectRemove(n,t)}}},[this.$text("Remove")])])])},_renderList:function(){var t,e=this.$createElement,n=[],a=m(this.layout.items);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push(this._renderListItem(r))}}catch(t){a.e(t)}finally{a.f()}return e("f7-list",[n])}},render:function(){var t=arguments[0];return t("div",[this._renderList()])}},listLayoutBlockSelectingTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},computed:{selectedAtoms:function(){return this.layoutManager.select_getSelectedAtoms()}},created:function(){},methods:{onPerformAtomOrders:function(t){this.layoutManager.order_onPerformPopover(t.currentTarget)},onPerformFilter:function(){this.layoutManager.filter_onPerform()},onPerformDone:function(){var t="single"===this.layoutManager.container.params.selectMode?this.selectedAtoms[0]:this.selectedAtoms;this.layoutManager.contextCallback(200,t),this.$f7router.back()}},render:function(){var t=this,e=arguments[0];return e("f7-nav-right",[e("eb-link",{attrs:{iconMaterial:"sort"},props:{onPerform:function(e){return t.onPerformAtomOrders(e)}}}),e("eb-link",{attrs:{iconMaterial:"search"},props:{onPerform:this.onPerformFilter}}),this.selectedAtoms.length>0&&e("eb-link",{attrs:{iconMaterial:"done"},props:{onPerform:this.onPerformDone}})])}},listLayoutBlockSelectingItems:{meta:{global:!1},mixins:[i().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions],props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{radioName:i().prototype.$meta.util.nextId("radio")}},computed:{selectedAtoms:function(){return this.layoutManager.select_getSelectedAtoms()}},methods:{onItemChange:function(t,e){if("single"===this.layoutManager.container.params.selectMode)t.target.checked&&(this.layoutManager.select.selectedAtoms=[e]);else{var n=this.layoutManager.select.selectedAtoms,a=n.findIndex((function(t){return t.atomId===e.atomId}));t.target.checked&&-1===a?n.push(e):!t.target.checked&&a>-1&&n.splice(a,1)}},onActionView:function(t,e){return this.onAction(t,e,{module:e.module,atomClassName:e.atomClassName,name:"read"})},onAction:function(t,e,n){var a=this,r=this.getAction(n);if(r)return this.$meta.util.performAction({ctx:this,action:r,item:e}).then((function(){a.$meta.util.swipeoutClose(t.target)}))},_getItemMetaMediaLabel:function(t){return t._meta&&t._meta.mediaLabel||t.userName},_getItemMetaSummary:function(t){var e=t._meta&&t._meta.summary||"";if(this.layoutManager.container.atomClass)return e;var n=this.layoutManager.getAtomClass({module:t.module,atomClassName:t.atomClassName});return n?"".concat(n.titleLocale," ").concat(e):e},_getItemMetaFlags:function(t){var e=t._meta&&t._meta.flags||[];return Array.isArray(e)||(e=e.split(",")),t.atomDisabled&&(e=[this.$text("Disabled")].concat(e)),e},_getLabel:function(t){return this.layoutManager.base_userLabels?this.layoutManager.base_userLabels[t]:null},_getItemChecked:function(t){return this.selectedAtoms.findIndex((function(e){return e.atomId===t.atomId}))>-1},_renderListItem:function(t){var e=this,n=this.$createElement,a=n("div",{slot:"root-start",class:"header"},[n("div",{class:"mediaLabel"},[n("span",[this._getItemMetaMediaLabel(t)])]),n("div",{class:"date"},[t.star>0&&n("span",["⭐"]),t.attachmentCount>0&&n("span",["🧷"]),t.attachmentCount>1&&n("span",["".concat(t.attachmentCount)]),t.commentCount>0&&n("span",["💬"]),t.commentCount>1&&n("span",["".concat(t.commentCount)]),n("span",[this.$meta.util.formatDateTimeRelative(t.atomUpdatedAt)])])]),r=n("div",{slot:"title",class:"title"},[n("div",[t.atomNameLocale||t.atomName])]),o=n("div",{slot:"root-end",class:"summary"},[this._getItemMetaSummary(t)]),i=[];t.flowNodeNameCurrentLocale&&i.push(n("f7-badge",{key:"flowNodeNameCurrent",attrs:{color:"orange"}},[t.flowNodeNameCurrentLocale]));var s,l=d(this._getItemMetaFlags(t));try{for(l.s();!(s=l.n()).done;){var u=s.value;i.push(n("f7-badge",{key:u},[u]))}}catch(t){l.e(t)}finally{l.f()}var c=[];if(t.labels&&this.layoutManager.base_userLabels){var m,f=d(JSON.parse(t.labels));try{for(f.s();!(m=f.n()).done;){var h=m.value,g=this._getLabel(h);c.push(n("f7-badge",{key:h,style:{backgroundColor:g.color}},[g.text]))}}catch(t){f.e(t)}finally{f.f()}}var p=n("div",{slot:"after",class:"after"},[i,c]);return n("eb-list-item",{class:"item",key:t.atomId,attrs:{name:this.radioName,radio:"single"===this.layoutManager.container.params.selectMode,checkbox:"multiple"===this.layoutManager.container.params.selectMode,checked:this._getItemChecked(t),swipeout:!0},on:{change:function(n){return e.onItemChange(n,t)}}},[a,r,o,p,this._renderListItemContextMenu(t)])},_renderListItemContextMenu:function(t){var e=this,n=this.$createElement;return n("eb-context-menu",[n("div",{slot:"right"},[n("div",{attrs:{color:"teal"},props:{onPerform:function(n){return e.onActionView(n,t)}}},[this.$text("View")])])])},_renderList:function(){var t,e=this.$createElement,n=[],a=d(this.layout.items);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push(this._renderListItem(r))}}catch(t){a.e(t)}finally{a.f()}return e("f7-list",[n])}},render:function(){var t=arguments[0];return t("div",[this._renderList()])}},listLayoutTable:{meta:{global:!1},mixins:[g],props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{info:{pageCurrent:0,pageSize:20,total:0},itemsPages:{},loading:!1}},computed:{dataSource:function(){return this.itemsPages[this.info.pageCurrent]}},created:function(){this.layoutManager.layout.instance=this,this.layoutManager.bottombar.enable=!0,this.layoutManager.container.atomClass&&"select"!==this.layoutManager.container.scene&&"selecting"!==this.layoutManager.container.scene&&this.layoutManager.bulk_loadActions(),this.onPageRefresh()},methods:{onPageRefresh:function(){this.onPageClear(),this._loadTotal()},onPageInfinite:function(){},onPageClear:function(){this.layoutManager.bulk.selectedAtoms=[],this.itemsPages={},this.info={pageCurrent:0,pageSize:20,total:0},this.loading=!1},getItems:function(){return this.dataSource||[]},_findItem:function(t){for(var e in this.itemsPages){var n=this.itemsPages[e],a=n.findIndex((function(e){return e.atomId===t}));if(-1!==a)return{pageNum:parseInt(e),items:n,index:a}}return{pageNum:null,items:null,index:-1}},_loadTotal:function(){var t=this,e=this.layoutManager.base_prepareSelectParams();this.loading=!0,this.$api.post("/a/base/atom/count",e).then((function(e){t.loading=!1,t.info.total=e,0!==t.info.total&&t.gotoPage(1)})).catch((function(e){t.$view.toast.show({text:e.message}),t.loading=!1}))},_loadMore:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){var a,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.index,r=t.size,(o=n.layoutManager.base_prepareSelectParams()).options.page={index:a,size:r},e.next=5,n.$api.post("/a/base/atom/select",o);case 5:return i=e.sent,e.abrupt("return",i.list);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(t){p(o,a,r,i,s,"next",t)}function s(t){p(o,a,r,i,s,"throw",t)}i(void 0)}))})()},gotoPage:function(t){var e=this;if(this.info.pageCurrent!==t)if(this.layoutManager.bulk.selectedAtoms=[],this.itemsPages[t])this.info.pageCurrent=t;else{var n=(t-1)*this.info.pageSize;this.loading=!0,this._loadMore({index:n,size:this.info.pageSize}).then((function(n){e.$set(e.itemsPages,t,n),e.info.pageCurrent=t,e.loading=!1})).catch((function(t){e.$view.toast.show({text:t.message}),e.loading=!1}))}},getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this.layoutManager,layout:this,blockConfig:e}}},_renderBlock:function(t){var e=t.blockName,n=this.$createElement,a=this.layoutConfig.blocks[e];return a?n("eb-component",{attrs:{module:a.component.module,name:a.component.name,options:this.getBlockComponentOptions({blockConfig:a})}}):null},_renderEmpty:function(){var t=this.$createElement;return this.loading?t("f7-preloader"):t("div",[this.$text("No Data")])},_renderConfigProvider:function(){var t=this.$createElement;return this.antdv.locales?t("a-config-provider",{attrs:{locale:this.antdv_getLocale(),renderEmpty:this._renderEmpty}},[this._renderBlock({blockName:"items"})]):null}},render:function(){var t=arguments[0];return t("div",{class:"eb-antdv"},[this._renderConfigProvider()])}},listLayoutBlockTableTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0];return t("f7-nav-right",[this.layoutManager.bulk_renderActionsRight(),this.layoutManager.bulk_renderActionsLeftB(),this.layoutManager.order_renderAction(),this.layoutManager.filter_renderAction()])}},listLayoutBlockTableItems:{meta:{global:!1},mixins:[i().prototype.$meta.module.get("a-base").options.mixins.ebAtomActions,i().prototype.$meta.module.get("a-components").options.mixins.ebViewSizeChange],props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{tableHeight:0,contextmenuRecord:null,header:!0,toolbar:!0}},computed:{columns:function(){var t,e=[],n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(this.blockConfig.columns);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(!1!==a.visible){var r=this.$meta.util.extend({},a);r.key=r.key||r.dataIndex,r.title=this.$text(r.title),r.ellipsis=!0,r.customRender=this._customRender,r.sorter=!!this._columnSorterFind(r.dataIndex),r.sortOrder=this._columnSorterCurrent(r.dataIndex),e.push(r)}}}catch(t){n.e(t)}finally{n.f()}return e},rowSelection:function(){return this.layoutManager.bulk.selecting?{selectedRowKeys:this.layoutManager.bulk.selectedAtoms.map((function(t){return t.atomId})),onChange:this.onSelectChange}:null}},mounted:function(){this.$meta.eventHub.$on("atom:star",this.onStarChanged),this.$meta.eventHub.$on("atom:labels",this.onLabelsChanged),this.$meta.eventHub.$on("atom:action",this.onActionChanged),this.$meta.eventHub.$on("atom:actions",this.onActionsChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("atom:star",this.onStarChanged),this.$meta.eventHub.$off("atom:labels",this.onLabelsChanged),this.$meta.eventHub.$off("atom:action",this.onActionChanged),this.$meta.eventHub.$off("atom:actions",this.onActionsChanged)},methods:{onViewSizeChange:function(t){this.tableHeight=t.height-44},onTableChange:function(t,e,n){var a=n.field,r=n.order,o=void 0===r?"ascend":r;if(this._columnSorterCurrent(a)!==o){var i=this._columnSorterFind(a);this.layoutManager.order_onPerformChange(null,i)}},onSelectChange:function(t){var e=this.layoutManager.base_getItems();this.layoutManager.bulk.selectedAtoms=e.filter((function(e){return t.findIndex((function(t){return t===e.atomId}))>-1}))},onItemClick:function(t,e){return this.onAction(t,e,{module:e.module,atomClassName:e.atomClassName,name:"read"})},onSwipeoutOpened:function(t,e){this.layoutManager.actions_fetchActions(e)},onLabel:function(t,e){var n=this;this.layoutManager.base_user.anonymous?this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){n.$meta.vueLayout.openLogin()})):(this.$view.navigate("/a/basefront/atom/labels?atomId=".concat(e.atomId),{}),this.$meta.util.swipeoutClose(t.target))},onStarSwitch:function(t,e){var n=e.star?0:1;return this._onStarSwitch(t,e,n,"swipeoutClose")},onAction:function(t,e,n){var a=this,r=this.getAction(n);if(r)return this.$meta.util.performAction({ctx:this,action:r,item:e}).then((function(){a.$meta.util.swipeoutClose(t.target)}))},onStarChanged:function(t){var e=this.layout._findItem(t.key.atomId),n=e.items,a=e.index;-1!==a&&(n[a].star=t.star)},onLabelsChanged:function(t){var e=this.layout._findItem(t.key.atomId),n=e.items,a=e.index;-1!==a&&(n[a].labels=JSON.stringify(t.labels))},onActionChanged:function(t){var e=t.key,n=t.action;if(1!==n.menu||"create"!==n.action){var a=this.layout._findItem(e.atomId),r=a.items,o=a.index;if("delete"!==n.name){if(-1!==o){var s=this.layoutManager.base_prepareReadOptions();this.$api.post("/a/base/atom/read",{key:e,options:s}).then((function(t){i().set(r,o,t)}))}}else-1!==o&&(r.splice(o,1),this.layout.info.total-=1)}},onActionsChanged:function(t){var e=t.key,n=this.layout._findItem(e.atomId),a=n.items,r=n.index;-1!==r&&i().set(a[r],"_actions",null)},_onStarSwitch:function(t,e,n,a){var r=this;if(!this.layoutManager.base_user.anonymous){var o={atomId:e.atomId,itemId:e.itemId};return this.$api.post("/a/base/atom/star",{key:o,atom:{star:n}}).then((function(e){r.$meta.eventHub.$emit("atom:star",{key:o,star:e.star,starCount:e.starCount}),r.$meta.util[a](t.target)}))}this.$view.dialog.confirm(this.$text("Please Sign In")).then((function(){r.$meta.vueLayout.openLogin()}))},_getItemMetaMedia:function(t){var e=t._meta&&t._meta.media||t.avatar||this.$meta.config.modules["a-base"].user.avatar.default;return this.$meta.util.combineImageUrl(e,24)},_getItemMetaMediaLabel:function(t){return t._meta&&t._meta.mediaLabel||t.userName},_getItemMetaSummary:function(t){var e=t._meta&&t._meta.summary||"";if(this.layoutManager.container.atomClass)return e;var n=this.layoutManager.getAtomClass({module:t.module,atomClassName:t.atomClassName});return n?"".concat(n.titleLocale," ").concat(e):e},_getItemMetaFlags:function(t){var e=t._meta&&t._meta.flags||[];return Array.isArray(e)||(e=e.split(",")),t.atomDisabled&&(e=[this.$text("Disabled")].concat(e)),e},_getLabel:function(t){return this.layoutManager.base_userLabels?this.layoutManager.base_userLabels[t]:null},_getActionColor:function(t,e){return 0===e?"orange":1===e?"red":"blue"},_getActionTitle:function(t,e){return this.getActionTitle(t,e.atomStage)},_checkColumnNameEqualOrder:function(t,e){var n=this.layoutManager.order_getKey(t);return n==="a.".concat(e)||n==="f.".concat(e)||n===e},_columnSorterFind:function(t){var e=this;return this.layoutManager.order_list.find((function(n){return e._checkColumnNameEqualOrder(n,t)}))},_columnSorterCurrent:function(t){var e=this.layoutManager.order_current;return!!this._checkColumnNameEqualOrder(e,t)&&("desc"===e.by?"descend":"ascend")},_customRender:function(t,e,n,a){var r=this.$createElement,o={props:{layoutManager:this.layoutManager,layout:this.layout,layoutItems:this,info:{text:t,record:e,index:n,column:a}}};return a.component?(a.component.options&&(o=this.$meta.util.extend({},a.component.options,o)),r("eb-component",{attrs:{module:a.component.module,name:a.component.name,options:o}})):r("eb-component",{attrs:{module:"a-basefront",name:"renderTableCellDefault",options:o}})},_customRow:function(t){var e=this;return{props:{},on:{contextmenu:function(n){var a=e.$$(e.$el).find(".popover");if(0!==a.length){n.stopPropagation(),n.preventDefault();var r=n.target;e.$nextTick((function(){e.$f7.popover.open(a,r),e.contextmenuRecord=t,e.onSwipeoutOpened(null,t)}))}}}}},_renderListItemContextMenu:function(){var t,e=this,n=this.$createElement,a=this.contextmenuRecord;if(a&&1===a.atomStage){var r=n("div",{attrs:{color:"teal"},props:{onPerform:function(t){return e.onStarSwitch(t,a)}}},[n("f7-icon",{slot:"media",attrs:{material:a.star?"star_border":"star"}}),n("div",{slot:"title"},[this.$text(a.star?"Unstar":"UserStar")])]),o=n("div",{attrs:{color:"blue"},props:{onPerform:function(t){return e.onLabel(t,a)}}},[n("f7-icon",{slot:"media",attrs:{material:"label"}}),n("div",{slot:"title"},[this.$text("UserLabels")])]);t=n("div",{slot:"left"},[r,o])}var i=[];if(a&&a._actions){var s=function(t){t=parseInt(t);var r=a._actions[t],o=e.getAction(r);i.push(n("div",{key:r.id,attrs:{color:e._getActionColor(r,t)},props:{onPerform:function(t){return e.onAction(t,a,r)}}},[n("f7-icon",{slot:"media",attrs:{material:o.icon.material}}),n("div",{slot:"title"},[e._getActionTitle(r,a)])])),l=t};for(var l in a._actions)s(l)}var u=n("div",{slot:"right",attrs:{ready:a&&!!a._actions}},[i]);return n("eb-context-menu",{attrs:{mode:"menu"}},[t,u])},_renderTable:function(){return(0,this.$createElement)("a-table",{attrs:{bordered:!0,rowSelection:this.rowSelection,columns:this.columns,rowKey:function(t){return t.atomId},dataSource:this.layout.dataSource,pagination:!1,scroll:{y:this.tableHeight},customRow:this._customRow},on:{change:this.onTableChange}})}},render:function(){var t=arguments[0];return t("div",{class:"atom-list-layout-table-container"},[this._renderTable(),this._renderListItemContextMenu()])}},listLayoutBlockTableBottombar:{meta:{global:!1},mixins:[g],props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},computed:{layout:function(){return this.layoutManager.layout.instance}},created:function(){},methods:{onPageChange:function(t){this.layout.gotoPage(t)},_renderPagination:function(){return(0,this.$createElement)("a-pagination",{attrs:{value:this.layout.info.pageCurrent,"page-size":this.layout.info.pageSize,total:this.layout.info.total,disabled:!1},on:{change:this.onPageChange}})},_renderTotal:function(){var t,e=this.$createElement;return this.layout.info.total>0&&(t=e("f7-badge",[this.layout.info.total])),e("div",[t])},_renderConfigProvider:function(){var t=this.$createElement;return this.antdv.locales?t("a-config-provider",{attrs:{locale:this.antdv_getLocale()}},[this._renderPagination()]):null}},render:function(){var t=arguments[0];return t("div",{class:"eb-antdv atom-list-layout-table-pagination-container"},[this._renderTotal(),this._renderConfigProvider()])}},listLayoutTableCellUserName:{meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0];return t("div",[t("img",{class:"avatar avatar24 eb-vertical-align",attrs:{src:this.layoutItems._getItemMetaMedia(this.info.record)}}),t("span",[" ",this.info.text])])}},listLayoutTableCellAtomName:{meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object}},data:function(){return{}},created:function(){},methods:{onItemClick:function(t){return this.layoutItems.onItemClick(t,this.info.record)}},render:function(){var t=this,e=arguments[0],n=this.info.record,a=[];n.flowNodeNameCurrentLocale&&a.push(e("f7-badge",{key:"flowNodeNameCurrent",attrs:{color:"orange"}},[n.flowNodeNameCurrentLocale]));var r,o=b(this.layoutItems._getItemMetaFlags(n));try{for(o.s();!(r=o.n()).done;){var i=r.value;a.push(e("f7-badge",{key:i},[i]))}}catch(t){o.e(t)}finally{o.f()}var s=[];if(n.labels&&this.layoutManager.base_userLabels){var l,u=b(JSON.parse(n.labels));try{for(u.s();!(l=u.n()).done;){var c=l.value,m=this.layoutItems._getLabel(c);s.push(e("f7-badge",{key:c,style:{backgroundColor:m.color}},[m.text]))}}catch(t){u.e(t)}finally{u.f()}}var f=e("div",{class:"atomName-summary"},[this.layoutItems._getItemMetaSummary(n)]);return e("div",{class:"atom-list-layout-table-cell-atomName"},[e("div",{class:"atomName-inner"},[e("div",{class:"atomName-left"},[e("eb-link",{props:{onPerform:function(e){return t.onItemClick(e)}}},[this.info.record.atomNameLocale||this.info.record.atomName])]),e("div",{class:"atomName-right"},[e("span",{class:"stats"},[n.star>0&&e("span",["⭐"]),n.attachmentCount>0&&e("span",["🧷"]),n.attachmentCount>1&&e("span",["".concat(n.attachmentCount)]),n.commentCount>0&&e("span",["💬"]),n.commentCount>1&&e("span",["".concat(n.commentCount)])]),a,s])]),f])}},itemLayoutMobile:{meta:{global:!1},props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{}},created:function(){this.layoutManager.layout.instance=this,this.layoutManager.subnavbar.enable=!0},methods:{getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this.layoutManager,layout:this,blockConfig:e}}},_renderBlock:function(t){var e=t.blockName,n=this.$createElement,a=this.layoutConfig.blocks[e];return a?n("eb-component",{attrs:{module:a.component.module,name:a.component.name,options:this.getBlockComponentOptions({blockConfig:a})}}):null}},render:function(){var t=arguments[0];return t("div",[this._renderBlock({blockName:"main"})])}},itemLayoutBlockMobileTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0];return t("f7-nav-right",[this.layoutManager.actions_render()])}},itemLayoutBlockMobileSubnavbar:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},methods:{_renderActionsLeft:function(){return(0,this.$createElement)("div",{class:"actions-block actions-block-left"},[this.layoutManager.info_renderActionsLeft()])},_renderActionsRight:function(){return(0,this.$createElement)("div",{class:"actions-block actions-block-right"},[this.layoutManager.info_renderActionsRight()])}},render:function(){var t=arguments[0];return t("f7-subnavbar",[t("div",{class:"atom-item-subnavbar-container"},[this._renderActionsLeft(),this._renderActionsRight()])])}},itemLayoutBlockMobileMain:{meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{}},render:function(){return this.layoutManager.validate_render()}},itemLayoutPC:{meta:{global:!1},props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{}},created:function(){this.layoutManager.layout.instance=this,this.layoutManager.subnavbar.enable=!1},methods:{getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this.layoutManager,layout:this,blockConfig:e}}},_renderBlock:function(t){var e=t.blockName,n=this.$createElement,a=this.layoutConfig.blocks[e];return a?n("eb-component",{attrs:{module:a.component.module,name:a.component.name,options:this.getBlockComponentOptions({blockConfig:a})}}):null}},render:function(){var t=arguments[0];return t("div",[this._renderBlock({blockName:"main"})])}},itemLayoutBlockPCTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0];return t("f7-nav-right",{class:"atom-item-title-info-container"},[this.layoutManager.info_renderActionsLeft(),this.layoutManager.info_renderActionsRight(),this.layoutManager.actions_render()])}},resourceTreeLayoutTree:{meta:{global:!1},props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{items:[]}},created:function(){this.layoutManager.layout.instance=this},methods:{getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this.layoutManager,layout:this,blockConfig:e}}},getItems:function(){return this.items},_renderBlock:function(t){var e=t.blockName,n=this.$createElement,a=this.layoutConfig.blocks[e];return a?n("eb-component",{attrs:{module:a.component.module,name:a.component.name,options:this.getBlockComponentOptions({blockConfig:a})}}):null}},render:function(){var t=arguments[0];return t("div",[this._renderBlock({blockName:"items"})])}},resourceTreeLayoutBlockTreeTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0];return t("f7-nav-right",[this.layoutManager.actions_render()])}},resourceTreeLayoutBlockTreeItems:{meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{root:{attrs:{itemToggle:!1,selectable:!0}}}},mounted:function(){},beforeDestroy:function(){},methods:{_loadNodeCategories:function(t){var e=this;return I(regeneratorRuntime.mark((function n(){var a,r,o,i,s,l,u,c,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=t.data&&t.data.__level||0,r=a+1,o=t.root?e.layoutManager.base.treeData:t.data.children,i=[],s=k(o),n.prev=5,s.s();case 7:if((l=s.n()).done){n.next=20;break}if(u=l.value,c={id:u.id,attrs:{label:u.categoryNameLocale,toggle:!0,itemToggle:!0,loadChildren:!0},data:_(_({},u),{},{__level:r})},!(r<=e.layoutManager.container.maxLevelAutoOpened||-1===e.layoutManager.container.maxLevelAutoOpened)){n.next=17;break}return n.next=13,e.onLoadChildren(c);case 13:m=n.sent,e.$refs.tree.childrenLoaded(c,m),c.attrs.loadChildren=!1,c.attrs.opened=!0;case 17:i.push(c);case 18:n.next=7;break;case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(5),s.e(n.t0);case 25:return n.prev=25,s.f(),n.finish(25);case 28:return n.abrupt("return",i);case 29:case"end":return n.stop()}}),n,null,[[5,22,25,28]])})))()},_loadNodeResources:function(t){var e=this;return I(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.layoutManager.base.resourcesArrayAll.filter((function(e){return e.atomCategoryId===t.id})),n.abrupt("return",a.map((function(t){return{id:t.atomId,attrs:{link:"#",label:t.atomNameLocale,toggle:!1,loadChildren:!1},data:t}})));case 2:case"end":return n.stop()}}),n)})))()},onLoadChildren:function(t){var e=this;return I(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.root&&1!==t.data.categoryCatalog){n.next=4;break}return n.next=3,e._loadNodeCategories(t);case 3:return n.abrupt("return",n.sent);case 4:return n.next=6,e._loadNodeResources(t);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))()},onNodePerformClick:function(t,e,n){return this.layoutManager.base_onPerformResource(t,n.data)},_renderTree:function(){var t=this.$createElement;if(this.layoutManager.base_ready)return t("eb-treeview",{ref:"tree",attrs:{root:this.root},props:{onLoadChildren:this.onLoadChildren,onNodePerform:this.onNodePerformClick}})}},render:function(){var t=arguments[0];return t("div",[this._renderTree(),t("f7-block")])}},resourceTreeLayoutAccordion:{meta:{global:!1},props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{items:[]}},created:function(){this.layoutManager.layout.instance=this},methods:{getBlockComponentOptions:function(t){var e=t.blockConfig;return{props:{layoutManager:this.layoutManager,layout:this,blockConfig:e}}},getItems:function(){return this.items},_renderBlock:function(t){var e=t.blockName,n=this.$createElement,a=this.layoutConfig.blocks[e];return a?n("eb-component",{attrs:{module:a.component.module,name:a.component.name,options:this.getBlockComponentOptions({blockConfig:a})}}):null}},render:function(){var t=arguments[0];return t("div",[this._renderBlock({blockName:"items"})])}},resourceTreeLayoutBlockAccordionTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0];return t("f7-nav-right",[this.layoutManager.actions_render()])}},resourceTreeLayoutBlockAccordionItems:{meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{accordionItemOpened:0,layoutConfigKeyOpened:null}},created:function(){this.layoutConfigKeyOpened="resource.".concat(this.layoutManager.container.resourceType,".tree.layouts.accordion.opened"),this.accordionItemOpened=this.layoutManager.base.layoutConfig[this.layoutConfigKeyOpened]||0},mounted:function(){},beforeDestroy:function(){},methods:{onItemClick:function(t,e){return this.layoutManager.base_onPerformResource(t,e)},onAccordionOpen:function(t,e){this.accordionItemOpened=e.id,this.$store.commit("a/base/setLayoutConfigKey",{module:"a-basefront",key:this.layoutConfigKeyOpened,value:e.id})},_renderCategories:function(t){var e=this.$createElement,n=[];if(!t.children)return n;var a,r=x(t.children);try{for(r.s();!(a=r.n()).done;){var o=a.value,i=this._renderListItems(o),s=e("f7-list-group",{key:o.id},[e("f7-list-item",{attrs:{"group-title":!0,title:o.categoryNameLocale}}),i]);n.push(s)}}catch(t){r.e(t)}finally{r.f()}return n},_renderResources:function(t){var e,n=this,a=this.$createElement,r=[],o=x(this.layoutManager.base.resourcesArrayAll.filter((function(e){return e.atomCategoryId===t.id})));try{var i=function(){var t=e.value,o=a("eb-list-item",{class:"item",key:t.atomId,attrs:{link:"#",title:t.atomNameLocale},props:{onPerform:function(e){return n.onItemClick(e,t)}}});r.push(o)};for(o.s();!(e=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}return r},_renderListItems:function(t){return 1===t.categoryCatalog?this._renderCategories(t):this._renderResources(t)},_renderAccordion:function(t,e){var n=this,a=this.$createElement,r=a("div",{slot:"title",class:"title"},[a("div",[t.categoryNameLocale])]),o=a("f7-accordion-content",[a("eb-list",{attrs:{inset:!0}},[this._renderListItems(t)])]),i=this.accordionItemOpened===t.id||0===this.accordionItemOpened&&0===e;return a("eb-list-item",{key:t.id,attrs:{"accordion-item":!0,"accordion-item-opened":i},on:{accordionOpen:function(e){return n.onAccordionOpen(e,t)}}},[r,o])},_renderAccordions:function(){var t=this.$createElement;if(this.layoutManager.base_ready){for(var e=this.layoutManager.base.treeData,n=[],a=0;a<e.length;a++)n.push(this._renderAccordion(e[a],a));return t("eb-list",{attrs:{"accordion-list":!0}},[n])}}},render:function(){var t=arguments[0];return t("div",[this._renderAccordions()])}}}},788:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={}},978:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={Filter:"筛选",Stage:"阶段"}},137:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={"zh-cn":n(978).Z}},751:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={}},644:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a=[{path:"listLayoutFilter",component:("listLayoutFilter",n(990)("./".concat("listLayoutFilter",".jsx")).default)}]},81:(t,e,n)=>{"use strict";function a(t){return{state:{},getters:{},mutations:{},actions:{}}}n.d(e,{Z:()=>a})},82:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var a=n(5);const r={mixins:[n.n(a)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){return{immediate:!0}},computed:{pageTitle:function(){return this.$text("Filter")},filterComponentInstance:function(){return this.$refs.filter&&this.$refs.filter.getComponentInstance()}},created:function(){this.immediate=this.contextParams.immediate},mounted:function(){this.contextParams.layoutManager.$on("layoutManager:destroy",this.onLayoutManagerDestroy)},beforeDestroy:function(){this.contextParams.layoutManager.$off("layoutManager:destroy",this.onLayoutManagerDestroy)},methods:{onPerformSearch:function(){this.filterComponentInstance&&this.filterComponentInstance.onPerformSearch()},onLayoutManagerDestroy:function(){this.$view.close()},_getFilterComponentOptions:function(){return{props:{layoutManager:this.contextParams.layoutManager,filterConfig:this.contextParams.filterConfig,filterContainer:this}}},_renderNavbar:function(){var t=this.$createElement;return t("eb-navbar",{attrs:{title:this.pageTitle,"eb-back-link":"Back"}},[t("f7-nav-right",[!this.immediate&&t("eb-link",{ref:"buttonSubmit",attrs:{iconMaterial:"search"},props:{onPerform:this.onPerformSearch}})])])}},render:function(){var t,e=arguments[0];if(this.contextParams){var n=this.contextParams.filterConfig;t=e("eb-component",{ref:"filter",attrs:{module:n.component.module,name:n.component.name,options:this._getFilterComponentOptions()}})}return e("eb-page",[this._renderNavbar(),t])}}},891:(t,e,n)=>{var a=n(233),r=n(361)(a);r.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.exports=r},361:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,a){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);a&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},233:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}t.exports=function(t){var n,a,r=(a=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){r=!0,o=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(n,a)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(t,n):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[1],i=r[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),u="/*# ".concat(l," */"),c=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(c).concat([u]).join("\n")}return[o].join("\n")}},824:(t,e,n)=>{var a=n(891);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals),(0,n(159).Z)("19fa62f7",a,!0,{})},159:(t,e,n)=>{"use strict";function a(t,e){for(var n=[],a={},r=0;r<e.length;r++){var o=e[r],i=o[0],s={id:t+":"+r,css:o[1],media:o[2],sourceMap:o[3]};a[i]?a[i].parts.push(s):n.push(a[i]={id:i,parts:[s]})}return n}n.d(e,{Z:()=>h});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},i=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,u=!1,c=function(){},m=null,f="data-vue-ssr-id",d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,e,n,r){u=n,m=r||{};var i=a(t,e);return g(i),function(e){for(var n=[],r=0;r<i.length;r++){var s=i[r];(l=o[s.id]).refs--,n.push(l)}for(e?g(i=a(t,e)):i=[],r=0;r<n.length;r++){var l;if(0===(l=n[r]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete o[l.id]}}}}function g(t){for(var e=0;e<t.length;e++){var n=t[e],a=o[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(y(n.parts[r]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var i=[];for(r=0;r<n.parts.length;r++)i.push(y(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:i}}}}function p(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function y(t){var e,n,a=document.querySelector("style["+f+'~="'+t.id+'"]');if(a){if(u)return c;a.parentNode.removeChild(a)}if(d){var r=l++;a=s||(s=p()),e=C.bind(null,a,r,!1),n=C.bind(null,a,r,!0)}else a=p(),e=_.bind(null,a),n=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else n()}}var b,v=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function C(t,e,n,a){var r=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var o=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function _(t,e){var n=e.css,a=e.media,r=e.sourceMap;if(a&&t.setAttribute("media",a),m.ssrId&&t.setAttribute(f,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},990:(t,e,n)=>{var a={"./listLayoutFilter.jsx":82};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id=990},142:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=142,t.exports=e},5:t=>{"use strict";t.exports=window.Vue}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={id:a,exports:{}};return t[a](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};(()=>{"use strict";var t;n.r(a),n.d(a,{default:()=>e}),n(824);const e={install:function(e,a){return t?console.error("already installed."):(t=e,a({routes:n(644).Z,store:n(81).Z(t),config:n(788).Z,locales:n(137).Z,components:n(998).Z,mixins:n(751).Z}))}}})(),window["a-baselayout"]=a})();
//# sourceMappingURL=front.js.map