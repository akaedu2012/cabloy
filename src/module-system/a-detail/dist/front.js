(()=>{var t={733:(t,e,n)=>{"use strict";n.d(e,{Z:()=>et});var r=n(3),a=n.n(r);function i(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const o={methods:{_onActionCreate:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,i,o,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$api.post("/a/detail/detail/create",{flowTaskId:e.meta.flowTaskId,atomKey:e.atomKey,detailClass:e.detailClass,item:e.detailItem});case 3:if(i=t.sent,r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:i,action:a}),!a.actionComponent&&!a.actionPath){t.next=14;break}return o=r.$utils.extend({},e.detailItem,i),t.next=9,r.$store.dispatch("a/base/getDetailActions");case 9:return s=t.sent,u=s[o.module][o.detailClassName].write,u=r.$utils.extend({},u),t.next=14,r.$meta.util.performAction({ctx:r,action:u,item:{item:o,meta:e.meta}});case 14:return t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){i(o,r,a,s,u,"next",t)}function u(t){i(o,r,a,s,u,"throw",t)}s(void 0)}))})()}}};function s(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const u={methods:{_onActionWrite:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.$props,r=n.ctx,a=n.action,i={mode:"edit",detailId:e.detailItem.detailId,detailItemId:e.detailItem.detailItemId,flowTaskId:e.flowTaskId},o=r.$meta.util.combineQueries("/a/detail/detail/item",i),r.$view.navigate(o,a.navigateOptions);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){s(i,r,a,o,u,"next",t)}function u(t){s(i,r,a,o,u,"throw",t)}o(void 0)}))})()}}};function c(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const l={methods:{_onActionDelete:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$view.dialog.confirm();case 3:return t.next=5,r.$api.post("/a/detail/detail/delete",{flowTaskId:e.flowTaskId,key:e.detailKey});case 5:r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:e.detailKey,action:a}),"/a/detail/detail/item"===r.$pageRoute.path&&r.$f7router.back();case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){c(i,r,a,o,s,"next",t)}function s(t){c(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};function d(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const f={methods:{_onActionSave:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$api.post("/a/detail/detail/write",{flowTaskId:e.flowTaskId,key:e.detailKey,item:e.detailItem});case 3:return r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:e.detailKey,action:a}),t.abrupt("return",r.$text("Saved"));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){d(i,r,a,o,s,"next",t)}function s(t){d(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};function m(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const p={methods:{_onActionRead:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.$props,r=n.ctx,a=n.action,i={mode:"view",detailId:e.detailItem.detailId,detailItemId:e.detailItem.detailItemId,flowTaskId:e.flowTaskId},o=r.$meta.util.combineQueries("/a/detail/detail/item",i),r.$view.navigate(o,a.navigateOptions);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){m(i,r,a,o,s,"next",t)}function s(t){m(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const g={methods:{_onActionClone:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,i,o,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.prev=1,t.next=4,r.$api.post("/a/detail/detail/clone",{flowTaskId:e.flowTaskId,key:e.detailKey});case 4:return i=t.sent,o=h(h({},e.detailItem),{},{detailId:i.detailId,detailItemId:i.detailItemId}),r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:i,action:{name:"create"}}),t.next=9,r.$store.dispatch("a/base/getDetailActions");case 9:return s=t.sent,u=s[e.detailItem.module][e.detailItem.detailClassName].write,u=r.$utils.extend({},u),"/a/detail/detail/item"===r.$pageRoute.path?u.navigateOptions={target:"_self"}:u.navigateOptions=a.navigateOptions,t.next=15,r.$meta.util.performAction({ctx:r,action:u,item:{item:o,meta:e.meta}});case 15:t.next=22;break;case 17:if(t.prev=17,t.t0=t.catch(1),422!==t.t0.code){t.next=21;break}throw new Error(t.t0.message[0].message);case 21:throw t.t0;case 22:case"end":return t.stop()}}),t,null,[[1,17]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){b(i,r,a,o,s,"next",t)}function s(t){b(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};function w(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const x={methods:{_onActionMoveUp:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$api.post("/a/detail/detail/moveUp",{flowTaskId:e.flowTaskId,key:e.detailKey});case 3:i=t.sent,r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:e.detailKey,action:a,result:i});case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){w(i,r,a,o,s,"next",t)}function s(t){w(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};function _(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const I={methods:{_onActionMoveDown:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$props,r=n.ctx,a=n.action,t.next=3,r.$api.post("/a/detail/detail/moveDown",{flowTaskId:e.flowTaskId,key:e.detailKey});case 3:i=t.sent,r.$meta.eventHub.$emit("detail:action",{atomKey:e.atomKey,detailClass:e.detailClass,key:e.detailKey,action:a,result:i});case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){_(i,r,a,o,s,"next",t)}function s(t){_(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};function k(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const C={meta:{global:!1},mixins:[a().prototype.$meta.module.get("a-base").options.mixins.ebActionBase,o,u,l,f,p,g,x,I],data:function(){return{detailItem:null,meta:null,flowTaskId:0,atomKey:null,detailKey:null,detailClass:null}},created:function(){this.init()},methods:{init:function(){this.detailItem=this.item.item,this.meta=this.item.meta,this.flowTaskId=this.meta&&this.meta.flowTaskId||0,this.atomKey={atomId:this.detailItem.atomId},this.detailKey={detailId:this.detailItem.detailId,detailItemId:this.detailItem.detailItemId},this.detailClass={module:this.detailItem.module,detailClassName:this.detailItem.detailClassName}},onAction:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("create"!==(n=e.action).name&&"create"!==n.action){t.next=7;break}return t.next=4,e._onActionCreate();case 4:case 10:case 16:case 22:case 28:case 34:case 40:case 46:return t.abrupt("return",t.sent);case 7:if("delete"!==n.name){t.next=13;break}return t.next=10,e._onActionDelete();case 13:if("save"!==n.name){t.next=19;break}return t.next=16,e._onActionSave();case 19:if("read"!==n.name){t.next=25;break}return t.next=22,e._onActionRead();case 25:if("write"!==n.name){t.next=31;break}return t.next=28,e._onActionWrite();case 31:if("clone"!==n.name){t.next=37;break}return t.next=34,e._onActionClone();case 37:if("moveUp"!==n.name){t.next=43;break}return t.next=40,e._onActionMoveUp();case 43:if("moveDown"!==n.name){t.next=47;break}return t.next=46,e._onActionMoveDown();case 47:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){k(i,r,a,o,s,"next",t)}function s(t){k(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};function $(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const A={data:function(){return{base:{configDetailBase:null,configDetail:null}}},computed:{},methods:{base_onInit:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("a/base/getDetailClasses");case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){$(i,r,a,o,s,"next",t)}function s(t){$(i,r,a,o,s,"throw",t)}o(void 0)}))})()},base_prepareReadOptions:function(){var t={};return t.layout=this.layout.current,t},base_prepareSelectOptions:function(){var t={where:{}};return t.layout=this.layout.current,t.orders=null,this.container.options&&(t=this.$utils.extend({},t,this.container.options)),t},base_prepareSelectParams:function(){var t=this.base_prepareSelectOptions();return{flowTaskId:this.container.flowTaskId,atomKey:{atomId:this.container.atomId},detailClass:this.container.detailClass,options:t}}}};function P(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const O={data:function(){return{}},methods:{layout_onGetLayoutConfigKeyCurrent:function(){var t=this.container.detailClass?"".concat(this.container.detailClass.module,"_").concat(this.container.detailClass.detailClassName):null;return"detail.".concat(t,".render.list.layout.current.").concat(this.$view.size)},layout_onGetLayoutNames:function(){return this.$meta.util.getProperty(this.layout.configFull,"info.layout.viewSize")[this.$view.size]},layout_onPrepareConfigFull:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.container.detailClass,r=e.getDetailClass(n),t.next=4,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:"a-detail:layoutDetailListBase"});case 4:if(a=t.sent,e.base.configDetailBase=a.content,i=e.$meta.util.getProperty(r,"layout.config.detailList"),!(i=e.$meta.util.normalizeResourceKey(i,n.module))){t.next=13;break}return t.next=11,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:i});case 11:a=t.sent,e.base.configDetail=a.content;case 13:return t.abrupt("return",e.$meta.util.extend({},e.base.configDetailBase,e.base.configDetail));case 14:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){P(i,r,a,o,s,"next",t)}function s(t){P(i,r,a,o,s,"throw",t)}o(void 0)}))})()},layout_renderTitle:function(){var t=this.$createElement;return t("f7-list-item",{attrs:{groupTitle:!0}},[t("div",{class:"detail-list-title-container"},[this.layout_renderTitleLeft(),this.layout_renderTitleRight()])])},layout_renderTitleLeft:function(){return(0,this.$createElement)("div",{class:"actions-block actions-block-left"},[this.container.title])},layout_renderTitleRight:function(){return(0,this.$createElement)("div",{class:"actions-block actions-block-right"},[this.bulk_renderActionsRight()])}}};function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const T={data:function(){return{bulk:{actions:null}}},created:function(){this.bulk_loadActions()},methods:{bulk_onAction:function(t,e){this.$f7.tooltip.hide(t.currentTarget);var n=this.getDetailAction(e);if(n){n=this.$utils.extend({},n,{targetEl:t.currentTarget});var r={atomId:this.container.atomId,module:e.module,detailClassName:e.detailClassName};return this.$meta.util.performAction({ctx:this,action:n,item:{item:r,meta:{flowTaskId:this.container.flowTaskId}}})}},bulk_loadActions:function(){var t=this;this.bulk.actions||this.$api.post("/a/detail/detail/actionsBulk",{flowTaskId:this.container.flowTaskId,atomKey:{atomId:this.container.atomId},detailClass:this.container.detailClass,mode:this.container.mode}).then((function(e){t.bulk.actions=e}))},bulk_renderActionsRight:function(){var t=this,e=this.$createElement,n=[];if(this.bulk.actions&&this.detailActionsAll){var r,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(this.bulk.actions);try{var i=function(){var a=r.value,i=t.getDetailAction(a);n.push(e("eb-link",{key:"actionsRight:".concat(i.name),attrs:{iconMaterial:i.icon&&i.icon.material,iconF7:i.icon&&i.icon.f7,tooltip:i.icon&&i.titleLocale},props:{onPerform:function(e){return t.bulk_onAction(e,a)}}},[!i.icon&&i.titleLocale]))};for(a.s();!(r=a.n()).done;)i()}catch(t){a.e(t)}finally{a.f()}}return n}}};function D(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function M(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){D(i,r,a,o,s,"next",t)}function s(t){D(i,r,a,o,s,"throw",t)}o(void 0)}))}}const S={data:function(){return{data:{provider:{itemKey:"detailId"}}}},methods:{data_adapter_onProviderSwitch:function(){return M(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},data_provider_onItemsClear:function(){},data_provider_onPageCurrentChanged:function(){},data_provider_onLoadItemsAll:function(){var t=this;return M(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.base_prepareSelectParams(),e.next=3,t.$api.post("/a/detail/detail/select",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()}}};function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){K(i,r,a,o,s,"next",t)}function s(t){K(i,r,a,o,s,"throw",t)}o(void 0)}))}}const U={created:function(){this.$meta.eventHub.$on("detail:action",this.event_onActionChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("detail:action",this.event_onActionChanged)},methods:{event_onActionChanged:function(t){var e=this;return E(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.atomKey,a=t.detailClass,r.atomId===e.container.atomId&&a.module===e.container.detailClass.module&&a.detailClassName===e.container.detailClass.detailClassName){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e.event_onActionChanged2(t);case 5:n.sent&&e.$meta.eventHub.$emit("details:change",N(N({},t),{},{details:e.data_getItemsAll()}));case 7:case"end":return n.stop()}}),n)})))()},event_onActionChanged2:function(t){var e=this;return E(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!1,n.next=3,e.data.adapter._loopProviders(function(){var n=E(regeneratorRuntime.mark((function n(a){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.event_onActionChanged2_provider(t,a);case 2:(i=n.sent)&&(r=i);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 3:return n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))()},event_onActionChanged2_provider:function(t,e){var n=this;return E(regeneratorRuntime.mark((function r(){var a,i,o,s,u,c,l,d,f,m,p,v,h,y,b,g;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.key,i=t.action,o=t.result,"create"!==i.name){r.next=4;break}return n.data.adapter._callMethodProvider(e,"onPageRefresh"),r.abrupt("return",!0);case 4:if("moveUp"!==i.name&&"moveDown"!==i.name){r.next=20;break}if(o){r.next=7;break}return r.abrupt("return",!1);case 7:if(s="moveUp"===i.name?o.to:o.from,u="moveUp"===i.name?o.from:o.to,c=n.data.adapter.findItemProvier(e,s),l=c.items,d=c.index,f=n.data.adapter.findItemProvier(e,u),m=f.index,-1!==d&&-1!==m){r.next=17;break}return n.data.adapter._callMethodProvider(e,"onPageRefresh"),r.abrupt("return",!1);case 17:return p=n.data.adapter._callMethodProvider(e,"spliceItem",{items:l,index:m}),n.data.adapter._callMethodProvider(e,"spliceItem",{items:l,index:d},0,p[0]),r.abrupt("return",!1);case 20:if(v=n.data.adapter.findItemProvier(e,a.detailId),h=v.items,-1!==(y=v.index)){r.next=23;break}return r.abrupt("return",!1);case 23:if("delete"!==i.name){r.next=26;break}return n.data.adapter._callMethodProvider(e,"spliceItem",{items:h,index:y}),r.abrupt("return",!0);case 26:return b=n.base_prepareReadOptions(),r.next=29,n.$api.post("/a/detail/detail/read",{flowTaskId:n.container.flowTaskId,key:a,options:b});case 29:return g=r.sent,n.$set(h,y,g),r.abrupt("return",!0);case 32:case"end":return r.stop()}}),r)})))()}}};function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function F(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){Z(i,r,a,o,s,"next",t)}function s(t){Z(i,r,a,o,s,"throw",t)}o(void 0)}))}}const H={methods:{item_onAction:function(t,e,n){var r=this;return F(regeneratorRuntime.mark((function a(){var i,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=r.getDetailAction(n)){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,r.$meta.util.performAction({ctx:r,action:i,item:{item:e,meta:{flowTaskId:r.container.flowTaskId}}});case 5:return o=a.sent,r.$meta.util.swipeoutClose(t.currentTarget),a.abrupt("return",o);case 8:case"end":return a.stop()}}),a)})))()},item_onItemClick:function(t,e){var n=this;return F(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.item_onAction(t,e,{module:e.module,detailClassName:e.detailClassName,name:"view"===n.container.mode?"read":"write"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},item_getDetailName:function(t){return t.detailName},item_getMetaSummary:function(t){return t._meta&&t._meta.summary||""},item_getMetaFlags:function(t){var e=t._meta&&t._meta.flags||[];return Array.isArray(e)||(e=e.split(",")),e},item_getActionColor:function(t,e){return 0===e?"orange":1===e?"red":"blue"},item_getActionTitle:function(t){return this.getDetailActionTitle(t)},item_getActions:function(t){var e=this.actions.list;return e?"menu"===t||!t&&this.$device.desktop?e:e.filter((function(t){return["read","write","delete"].indexOf(t.name)>-1})):e},item_renderContextMenu:function(t,e){var n=this,r=this.$createElement,a=this.item_getActions(e),i=[];if(a){var o=function(o){o=parseInt(o);var u=a[o],c=n.getDetailAction(u),l=void 0;("menu"===e||!e&&n.$device.desktop)&&(l=r("div",{slot:"title"},[n.item_getActionTitle(u)])),i.push(r("div",{key:u.code,attrs:{color:n.item_getActionColor(u,o)},props:{onPerform:function(e){return n.item_onAction(e,t,u)}}},[r("f7-icon",{slot:"media",attrs:{material:c.icon&&c.icon.material,f7:c.icon&&c.icon.f7}}),l])),s=o};for(var s in a)o(s)}var u=r("div",{slot:"right",attrs:{ready:!!a}},[i]);return r("eb-context-menu",{attrs:{mode:e}},[u])},item_renderMedia:function(t,e){return(0,this.$createElement)("f7-badge",[e+1])},item_renderMetaFlags:function(t){var e,n=this.$createElement,r=[],a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(this.item_getMetaFlags(t));try{for(a.s();!(e=a.n()).done;){var i=e.value;r.push(n("f7-badge",{key:i},[i]))}}catch(t){a.e(t)}finally{a.f()}return r}}};function z(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}var G=a().prototype.$meta.module.get("a-base").options.mixins.ebLayoutManagerBase,V=a().prototype.$meta.module.get("a-base").options.mixins.ebDetailClasses,W=a().prototype.$meta.module.get("a-base").options.mixins.ebDetailActions;const q={props:{context:{type:Object}},data:function(){return{}},mounted:function(){var t=this.context.validate;"edit"===(t.host&&t.host.mode)&&this.$meta.eventHub.$on("details:change",this.onActionChanged)},beforeDestroy:function(){var t=this.context.validate;"edit"===(t.host&&t.host.mode)&&this.$meta.eventHub.$off("details:change",this.onActionChanged)},methods:{onActionChanged:function(t){var e=this,n=t.atomKey,r=t.detailClass,a=t.details,i=this.context,o=i.parcel,s=i.property,u=i.validate;if(n.atomId===o.data.atomId&&r.module===s.ebParams.detailClass.module&&r.detailClassName===s.ebParams.detailClass.detailClassName){var c={details:a};this.$meta.util.sandbox.evaluate(s.ebParams.expression,c).then((function(t){e.context.setValue(t),s.ebAutoSubmit&&e.$nextTick((function(){u.onSubmit()}))})).catch((function(t){throw t}))}}},render:function(){var t=arguments[0],e=this.context,n=e.parcel,r=e.key,a=e.property,i=this.$utils.extend({},a,{ebType:"text"});return t("eb-list-item-validate",{attrs:{parcel:n,dataKey:r,property:i}})}};function J(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function Q(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const X={meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},blockConfig:{type:Object}},data:function(){return{}},methods:{onItemClick:function(t,e){var n,r=this;return(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.layoutManager.item_onItemClick(t,e));case 1:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(t){Q(i,r,a,o,s,"next",t)}function s(t){Q(i,r,a,o,s,"throw",t)}o(void 0)}))})()},onSwipeoutOpened:function(){},_renderListItem:function(t,e){var n=this,r=this.$createElement,a=r("div",{slot:"media"},[this.layoutManager.item_renderMedia(t,e)]),i=r("div",{slot:"title",class:"title"},[r("div",[this.layoutManager.item_getDetailName(t)])]),o=r("div",{slot:"root-end",class:"summary"},[this.layoutManager.item_getMetaSummary(t)]),s=r("div",{slot:"after",class:"after"},[this.layoutManager.item_renderMetaFlags(t)]);return r("eb-list-item",{class:"item",key:t.detailId,attrs:{link:"#",swipeout:!0},props:{onPerform:function(e){return n.onItemClick(e,t)}},on:{swipeoutOpened:function(e){n.onSwipeoutOpened(e,t)},contextmenuOpened:function(e){n.onSwipeoutOpened(e,t)}}},[a,i,o,s,this._renderListItemContextMenu(t)])},_renderListItemContextMenu:function(t){return this.layoutManager.item_renderContextMenu(t)},_renderList:function(){for(var t=this.$createElement,e=this.layoutManager.data_getItems(),n=[],r=0;r<e.length;r++)n.push(this._renderListItem(e[r],r));return t("f7-list",[n])}},render:function(){var t=arguments[0];return t("div",{class:"detail-list-main-container"},[this._renderList()])}};function Y(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const tt={meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object}},data:function(){return{}},created:function(){},methods:{onItemClick:function(t){return this.layoutManager.item_onItemClick(t,this.info.record)}},render:function(){var t=this,e=arguments[0],n=this.info.record,r=this.layoutManager.item_renderMetaFlags(n),a=e("div",{class:"atomName-summary"},[this.layoutManager.item_getMetaSummary(n)]);return e("div",{class:"atom-list-layout-table-cell-atomName"},[e("div",{class:"atomName-inner"},[e("div",{class:"atomName-left"},[e("eb-link",{props:{onPerform:function(e){return t.onItemClick(e)}}},[this.layoutManager.item_getDetailName(n)])]),e("div",{class:"atomName-right"},[r])]),a])}},et={action:C,renderDetails:{mixins:[{mixins:[G,V,W,A,O,T,{data:function(){return{actions:{list:null}}},created:function(){this.actions_fetchActions()},methods:{actions_fetchActions:function(){var t=this;this.actions.list||this.$api.post("/a/detail/detail/actions",{flowTaskId:this.container.flowTaskId,atomKey:{atomId:this.container.atomId},detailClass:this.container.detailClass,mode:this.container.mode}).then((function(e){t.actions.list=e}))}}},S,U,H],data:function(){return{}},created:function(){this.index_init()},methods:{index_init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_init();case 2:return t.next=4,e.layout_prepareConfigLayout();case 4:e.base.ready=!0;case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){z(i,r,a,o,s,"next",t)}function s(t){z(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}}],props:{context:{type:Object}},data:function(){var t=this.context,e=t.parcel,n=t.property,r=t.validate;return{container:{title:this.context.getTitle(!0),mode:r.host&&r.host.mode,flowTaskId:r.host&&r.host.flowTaskId||0,atomId:e.data.atomId,atom:e.data,detailClass:n.ebParams.detailClass,options:{},layout:null}}},created:function(){},methods:{},render:function(){return this.layout_renderLayout()}},renderDetailsStat:q,listLayoutList:{meta:{global:!1},props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{}},created:function(){this.init()},beforeDestroy:function(){this.layoutManager.layout_clearInstance(this)},methods:{init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.layoutManager.data_providerSwitch({providerName:"all",autoInit:!0});case 2:return t.next=4,e.layoutManager.layout_setInstance(e);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){J(i,r,a,o,s,"next",t)}function s(t){J(i,r,a,o,s,"throw",t)}o(void 0)}))})()}},render:function(){var t=arguments[0];return t("div",[this.layoutManager.layout_renderBlock({blockName:"title"}),this.layoutManager.layout_renderBlock({blockName:"items"})])}},listLayoutBlockListTitle:{meta:{global:!1},props:{layoutManager:{type:Object},blockConfig:{type:Object}},data:function(){return{}},methods:{},render:function(){return this.layoutManager.layout_renderTitle()}},listLayoutBlockListItems:X,listLayoutTable:{meta:{global:!1},mixins:[{data:function(){return{antdv:{locales:null}}},created:function(){var t=this;this.$meta.util.performAction({ctx:this,action:{actionModule:"a-antdv",actionComponent:"antdv",name:"locales"}}).then((function(e){t.antdv.locales=e}))},methods:{antdv_getLocale:function(){if(!this.antdv.locales)return null;var t=this.$meta.util.getLocale();return t&&"en-us"!==t?this.antdv.locales[t]:null}}}],props:{layoutManager:{type:Object},layoutConfig:{type:Object}},data:function(){return{}},created:function(){this.init()},beforeDestroy:function(){this.layoutManager.layout_clearInstance(this)},methods:{init:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.layoutManager.data_providerSwitch({providerName:"all",autoInit:!0});case 2:return t.next=4,e.layoutManager.layout_setInstance(e);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){Y(i,r,a,o,s,"next",t)}function s(t){Y(i,r,a,o,s,"throw",t)}o(void 0)}))})()},_renderEmpty:function(){var t=this.$createElement;return this.layoutManager.data_getLoading()?t("f7-preloader"):t("div",[this.$text("No Data")])},_renderConfigProvider:function(){var t=this.$createElement;return this.antdv.locales?t("a-config-provider",{attrs:{locale:this.antdv_getLocale(),renderEmpty:this._renderEmpty}},[this.layoutManager.layout_renderBlock({blockName:"items"})]):null}},render:function(){var t=arguments[0];return t("div",{class:"eb-antdv"},[this.layoutManager.layout_renderBlock({blockName:"title"}),this._renderConfigProvider()])}},listLayoutTableCellDetailLineNo:{meta:{global:!1},props:{layoutManager:{type:Object},layout:{type:Object},layoutItems:{type:Object},info:{type:Object}},data:function(){return{}},created:function(){},methods:{},render:function(){var t=arguments[0],e=this.info.index;return t("span",[e+1])}},listLayoutTableCellDetailName:tt}},788:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={}},933:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={}},978:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={}},137:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={"en-us":n(933).Z,"zh-cn":n(978).Z}},644:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=[{path:"detail/item",component:("detail/item",n(990)("./".concat("detail/item",".jsx")).default)}]},81:(t,e,n)=>{"use strict";function r(t){return{state:{},getters:{},mutations:{},actions:{}}}n.d(e,{Z:()=>r})},362:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(3),a=n.n(r);function i(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){i(o,r,a,s,u,"next",t)}function u(t){i(o,r,a,s,u,"throw",t)}s(void 0)}))}}const s={data:function(){return{base:{configDetailBase:null,configDetail:null,item:null,detailClass:null,module:null,validateParams:null}}},computed:{base_ready:function(){return this.base.ready&&this.detailActionsAll}},mounted:function(){this.$meta.eventHub.$on("detail:action",this.base_onActionChanged)},beforeDestroy:function(){this.$meta.eventHub.$off("detail:action",this.base_onActionChanged)},methods:{base_onInit:function(){var t=this;return o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("a/base/getDetailClasses");case 2:case"end":return e.stop()}}),e)})))()},base_loadItem:function(){var t=this;return o(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.base_prepareReadOptions(),e.next=4,t.$api.post("/a/detail/detail/read",{flowTaskId:t.container.flowTaskId,key:{detailId:t.container.detailId},options:n});case 4:return t.base.item=e.sent,t.base.detailClass={id:t.base.item.detailClassId,module:t.base.item.module,detailClassName:t.base.item.detailClassName},e.next=8,t.$meta.module.use(t.base.item.module);case 8:return t.base.module=e.sent,e.next=11,t.$api.post("/a/detail/detail/validator",{detailClass:{id:t.base.item.detailClassId}});case 11:return r=e.sent,t.base.validateParams={module:r.module,validator:r.validator},e.next=15,t.actions_fetchActions();case 15:return e.abrupt("return",!0);case 18:return e.prev=18,e.t0=e.catch(0),t.base.notfound=!0,e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()},base_prepareReadOptions:function(){var t={};return t.layout=this.layout.current,t},base_getCurrentStage:function(){if(!this.base.item)return null;var t=this.base.item.atomStage;return void 0!==t?0===t?"draft":1===t?"formal":"history":void 0},base_onActionChanged:function(t){var e=this;return o(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.key,a=t.action,e.base_ready){n.next=4;break}return n.abrupt("return");case 4:if(e.base.item.detailId===r.detailId){n.next=6;break}return n.abrupt("return");case 6:if("edit"!==e.container.mode){n.next=9;break}return e.base.item.detailUpdatedAt=new Date,n.abrupt("return");case 9:if("create"!==a.name){n.next=11;break}return n.abrupt("return");case 11:if("delete"!==a.name){n.next=16;break}return e.base.item=null,e.base.notfound=!0,e.base.ready=!1,n.abrupt("return");case 16:return n.next=18,e.base_loadItem();case 18:case"end":return n.stop()}}),n)})))()}}};function u(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const c={data:function(){return{}},created:function(){},methods:{layout_onGetLayoutConfigKeyCurrent:function(){var t="".concat(this.base.detailClass.module,"_").concat(this.base.detailClass.detailClassName);return"detail.".concat(t,".render.item.layout.current.").concat(this.container.mode,".").concat(this.$view.size)},layout_onPrepareConfigFull:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.base.detailClass,r=e.getDetailClass(n),t.next=4,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:"a-detail:layoutDetailItemBase"});case 4:if(a=t.sent,e.base.configDetailBase=a.content,i=e.$meta.util.getProperty(r,"layout.config.detailItem"),!(i=e.$meta.util.normalizeResourceKey(i,n.module))){t.next=13;break}return t.next=11,e.$store.dispatch("a/baselayout/getLayoutItem",{layoutKey:i});case 11:a=t.sent,e.base.configDetail=a.content;case 13:return t.abrupt("return",e.$meta.util.extend({},e.base.configDetailBase,e.base.configDetail));case 14:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){u(i,r,a,o,s,"next",t)}function s(t){u(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){d(i,r,a,o,s,"next",t)}function s(t){d(i,r,a,o,s,"throw",t)}o(void 0)}))}}const m={data:function(){return{actions:{list:null,popoverId:a().prototype.$meta.util.nextId("popover")}}},computed:{actions_itemActions:function(){return this.actions.list?this.actions.list.filter((function(t){return-1===["read"].indexOf(t.name)})):null},actions_listPopover:function(){if(!this.base_ready)return null;var t=this.actions_itemActions;return t?(t=t.filter((function(t){return-1===["write"].indexOf(t.name)})),t.length>0?t:null):null}},methods:{actions_fetchActions:function(){var t=this;return f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.actions.list){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$api.post("/a/detail/detail/actions",{flowTaskId:t.container.flowTaskId,atomKey:{atomId:t.base.item.atomId},detailClass:t.base.detailClass,mode:t.container.mode});case 4:t.actions.list=e.sent;case 5:case"end":return e.stop()}}),e)})))()},actions_findAction:function(t){return this.actions_itemActions?this.actions_itemActions.find((function(e){return e.name===t})):null},actions_onSubmit:function(){this.$refs.buttonSave.onClick()},actions_submit:function(t,e){var n=this;return f(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=n.validate_getInstance()){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,a.perform(t,{action:e});case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},actions_onSaveDone:function(t){var e=this;return f(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.actions_onAction(t,"save");case 2:e.$f7router.back();case 3:case"end":return n.stop()}}),n)})))()},actions_onAction:function(t,e){var n=this;return f(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("save"!==e){r.next=4;break}return r.next=3,n.actions_submit(t,e);case 3:case 8:return r.abrupt("return",r.sent);case 4:return"string"==typeof e&&(e={module:n.base.atomClass.module,atomClassName:n.base.atomClass.atomClassName,name:e}),a=n.getDetailAction(e),r.next=8,n.$meta.util.performAction({ctx:n,action:a,item:{item:n.base.item,meta:{flowTaskId:n.container.flowTaskId}}});case 9:case"end":return r.stop()}}),r)})))()},actions_render:function(){var t=this,e=this.$createElement;if(!this.base_ready)return null;var n=[];if(this.actions_findAction("write")){var r="save";n.push(e("eb-link",{key:r,ref:"buttonSave",attrs:{iconF7:"::save"},props:{onPerform:function(e){return t.actions_onAction(e,r)}}})),n.push(e("eb-link",{key:"saveDone",ref:"buttonSaveDone",attrs:{iconF7:"::done"},props:{onPerform:function(e){return t.actions_onSaveDone(e)}}}))}return this.actions_listPopover&&n.push(e("f7-link",{key:"actionsPopover",attrs:{iconF7:"::more-horiz","popover-open":"#".concat(this.actions.popoverId)}})),n},actions_renderPopover:function(){var t,e=this,n=this.$createElement,r=this.actions_listPopover;if(r){var a,i=[],o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(r);try{var s=function(){var t=a.value,r=e.getDetailAction(t);i.push(n("eb-list-item",{key:t.code,attrs:{link:"#","popover-close":!0},props:{onPerform:function(n){return e.actions_onAction(n,t)}}},[n("f7-icon",{slot:"media",attrs:{material:r.icon&&r.icon.material,f7:r.icon&&r.icon.f7}}),n("div",{slot:"title"},[e.getDetailActionTitle(t)])]))};for(o.s();!(a=o.n()).done;)s()}catch(t){o.e(t)}finally{o.f()}t=n("f7-list",{attrs:{inset:!0}},[i])}return n("f7-popover",{attrs:{id:this.actions.popoverId}},[t])}}};function p(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const v={data:function(){return{}},methods:{validate_getInstance:function(){return this.$refs.validate},validate_onSubmit:function(){this.actions_onSubmit()},validate_onPerformValidate:function(t,e){var n,r=this;return(n=regeneratorRuntime.mark((function t(){var n,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e&&e.action,a=r.$utils.extend({},r.actions_findAction("write"),{name:n}),i=r.getDetailAction(a),t.next=5,r.$meta.util.performAction({ctx:r,action:i,item:{item:r.base.item,meta:{flowTaskId:r.container.flowTaskId}}});case 5:return o=t.sent,"save"===n&&r.page_setDirty(!1),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})),function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(t){p(i,r,a,o,s,"next",t)}function s(t){p(i,r,a,o,s,"throw",t)}o(void 0)}))})()},validate_onValidateItemChange:function(){"edit"===this.container.mode&&this.page_setDirty(!0)},validate_render:function(){var t=this.$createElement;return this.base_ready?t("eb-validate",{ref:"validate",attrs:{host:{stage:this.base_getCurrentStage(),mode:this.container.mode,flowTaskId:this.container.flowTaskId,detailId:this.container.detailId},readOnly:"edit"!==this.container.mode,auto:!0,data:this.base.item,params:this.base.validateParams},props:{onPerform:this.validate_onPerformValidate},on:{submit:this.validate_onSubmit,validateItemChange:this.validate_onValidateItemChange}}):null}}};function h(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}const y={meta:{size:"small"},mixins:[{mixins:[a().prototype.$meta.module.get("a-base").options.mixins.ebLayoutManagerBase,a().prototype.$meta.module.get("a-base").options.mixins.ebDetailClasses,a().prototype.$meta.module.get("a-base").options.mixins.ebDetailActions,a().prototype.$meta.module.get("a-components").options.mixins.ebPageDirty,s,{data:function(){return{}},methods:{page_onGetTitle:function(){var t;return t=this.base.item?this.base.item.detailName:this.$text("Details"),this.page_getDirtyTitle(t)},page_onGetTitleSub:function(){return""}}},c,m,v],data:function(){return{}},created:function(){this.index_load()},methods:{index_load:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.base_init();case 2:return t.next=4,e.base_loadItem();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.layout_prepareConfigLayout();case 9:e.base.ready=!0;case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){h(i,r,a,o,s,"next",t)}function s(t){h(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}}],data:function(){var t=this.$f7route.query;return{container:{mode:t.mode,flowTaskId:parseInt(t.flowTaskId||0),detailId:parseInt(t.detailId||0),detailItemId:parseInt(t.detailItemId||0),layout:t.layout}}},render:function(){return this.layout_renderPage()}}},450:(t,e,n)=>{var r=n(233),a=n(361)(r);a.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.exports=a},361:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&a[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},233:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r,a=(r=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){s=!0,a=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(n,r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[1],o=a[3];if(!o)return i;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),c="/*# ".concat(u," */"),l=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[i].concat(l).concat([c]).join("\n")}return[i].join("\n")}},65:(t,e,n)=>{var r=n(450);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals),(0,n(159).Z)("511ffb7e",r,!0,{})},159:(t,e,n)=>{"use strict";function r(t,e){for(var n=[],r={},a=0;a<e.length;a++){var i=e[a],o=i[0],s={id:t+":"+a,css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}n.d(e,{Z:()=>p});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},o=a&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,c=!1,l=function(){},d=null,f="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,a){c=n,d=a||{};var o=r(t,e);return v(o),function(e){for(var n=[],a=0;a<o.length;a++){var s=o[a];(u=i[s.id]).refs--,n.push(u)}for(e?v(o=r(t,e)):o=[],a=0;a<n.length;a++){var u;if(0===(u=n[a]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete i[u.id]}}}}function v(t){for(var e=0;e<t.length;e++){var n=t[e],r=i[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(y(n.parts[a]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var o=[];for(a=0;a<n.parts.length;a++)o.push(y(n.parts[a]));i[n.id]={id:n.id,refs:1,parts:o}}}}function h(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function y(t){var e,n,r=document.querySelector("style["+f+'~="'+t.id+'"]');if(r){if(c)return l;r.parentNode.removeChild(r)}if(m){var a=u++;r=s||(s=h()),e=w.bind(null,r,a,!1),n=w.bind(null,r,a,!0)}else r=h(),e=x.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var b,g=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,a);else{var i=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}function x(t,e){var n=e.css,r=e.media,a=e.sourceMap;if(r&&t.setAttribute("media",r),d.ssrId&&t.setAttribute(f,e.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},990:(t,e,n)=>{var r={"./detail/item.jsx":362};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id=990},142:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=142,t.exports=e},3:t=>{"use strict";t.exports=window.Vue}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";var t;n.r(r),n.d(r,{default:()=>e}),n(65);const e={install:function(e,r){return t?console.error("already installed."):(t=e,r({routes:n(644).Z,store:n(81).Z(t),config:n(788).Z,locales:n(137).Z,components:n(733).Z}))}}})(),window["a-detail"]=r})();
//# sourceMappingURL=front.js.map