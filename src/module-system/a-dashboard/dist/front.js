/*! For license information please see front.js.LICENSE.txt */
(()=>{var t={349:t=>{"use strict";function e(){return e=Object.assign||function(t){for(var e,r=1;r<arguments.length;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},e.apply(this,arguments)}var r=["attrs","props","domProps"],n=["class","style","directives"],o=["on","nativeOn"],i=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=function(t){return t.reduce((function(t,a){for(var s in a)if(t[s])if(-1!==r.indexOf(s))t[s]=e({},t[s],a[s]);else if(-1!==n.indexOf(s)){var d=t[s]instanceof Array?t[s]:[t[s]],c=a[s]instanceof Array?a[s]:[a[s]];t[s]=d.concat(c)}else if(-1!==o.indexOf(s))for(var u in a[s])if(t[s][u]){var l=t[s][u]instanceof Array?t[s][u]:[t[s][u]],h=a[s][u]instanceof Array?a[s][u]:[a[s][u]];t[s][u]=l.concat(h)}else t[s][u]=a[s][u];else if("hook"==s)for(var p in a[s])t[s][p]=t[s][p]?i(t[s][p],a[s][p]):a[s][p];else t[s]=a[s];else t[s]=a[s];return t}),{})}},7:(t,e,r)=>{"use strict";function n(t,e){for(var r=[],n=0,o=[5,10,15,20,25,30,33,35,40,45,50,55,60,65,66,70,75,80,85,90,95,100];n<o.length;n++){var i=o[n];r.push({title:"".concat(i,"%"),value:i})}var a={type:"object",properties:{title:{type:"string",ebType:"text",ebTitle:"Title",ebWidget:{clue:"title",category:"Basic"}},widthSmall:{type:"integer",ebType:"select",ebTitle:"Width(Small)",ebOptions:r,ebWidget:{clue:"width",category:"Basic"}},widthMedium:{type:"integer",ebType:"select",ebTitle:"Width(Medium)",ebOptions:r,ebWidget:{clue:"width",category:"Basic"}},widthLarge:{type:"integer",ebType:"select",ebTitle:"Width(Large)",ebOptions:r,ebWidget:{clue:"width",category:"Basic"}}}},s=t.prototype.$utils.extend({},a,{type:"object",properties:{height:{type:"string",ebType:"text",ebTitle:"Height",ebWidget:{clue:"height",category:"Basic"},ebParams:{immediate:!1}}}}),d={type:"object",properties:{attrTitle:{ebTitle:"Title",ebWidget:{clue:"title",category:"Basic"}},attrWidthSmall:{ebTitle:"Width(Small)",ebWidget:{clue:"width",category:"Basic"}},attrWidthMedium:{ebTitle:"Width(Medium)",ebWidget:{clue:"width",category:"Basic"}},attrWidthLarge:{ebTitle:"Width(Large)",ebWidget:{clue:"width",category:"Basic"}}}},c=t.prototype.$utils.extend({},d,{type:"object",properties:{attrHeight:{ebTitle:"Height",ebWidget:{clue:"height",category:"Basic"}}}});return{meta:{widget:{schema:{props:e?a:s,attrs:e?d:c}}},props:{widget:{type:Object},title:{type:String},widthSmall:{type:Number},widthMedium:{type:Number},widthLarge:{type:Number},height:e?void 0:{type:String}},data:function(){return{attrTitle:null,attrWidthSmall:null,attrWidthMedium:null,attrWidthLarge:null,attrHeight:e?void 0:null}},watch:{title:function(){this.attrTitle=this.title},widthSmall:function(){this.attrWidthSmall=this.widthSmall},widthMedium:function(){this.attrWidthMedium=this.widthMedium},widthLarge:function(){this.attrWidthLarge=this.widthLarge},height:function(){e||(this.attrHeight=this.height)}},created:function(){this.attrTitle=this.title,this.attrWidthSmall=this.widthSmall,this.attrWidthMedium=this.widthMedium,this.attrWidthLarge=this.widthLarge,e||(this.attrHeight=this.height)},mounted:function(){this.$emit("widgetReal:ready",this),this.$emit("widgetRealReady",this)},beforeDestroy:function(){this.$emit("widgetReal:destroy",this),this.$emit("widgetRealDestroy",this)},methods:{getAttrsSchema:function(){return null},getPropsSchema:function(){return null},getPropSchemaExtra:function(){return null}}}}r.d(e,{Z:()=>n})},981:(t,e,r)=>{"use strict";r.d(e,{Z:()=>_});var n=r(349),o=r.n(n);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=d(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function d(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(){u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var d=l(t,e,r);if("normal"===d.type){if(n=r.done?"completed":"suspendedYield",d.arg===h)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(n="completed",r.method="throw",r.arg=d.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function p(){}function f(){}function g(){}var y={};d(y,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(k([])));b&&b!==e&&r.call(b,o)&&(y=b);var v=g.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,s,d){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==a(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,d)}),(function(t){n("throw",t,s,d)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,d)}))}d(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=g,d(v,"constructor",g),d(g,"constructor",f),f.displayName=d(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,d(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},w(_.prototype),d(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),d(v,s,"Generator"),d(v,o,(function(){return this})),d(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function l(t,e,r,n,o,i,a){try{var s=t[i](a),d=s.value}catch(t){return void r(t)}s.done?e(d):Promise.resolve(d).then(n,o)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){l(i,n,o,a,s,"next",t)}function s(t){l(i,n,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=[5,10,15,20,25,30,33,35,40,45,50,55,60,65,66,70,75,80,85,90,95,100];const m={meta:{global:!0},name:"eb-dashboard-widget",components:{widgetToolbar:{render:function(){var t=this,e=arguments[0],r=[];r.push(e("eb-link",{key:"remove",attrs:{iconF7:"::remove",iconSize:"16"},props:{onPerform:function(){return t.onWidgetDelete(t.widget)}}})),r.push(e("eb-link",{key:"settings",attrs:{iconF7:"::settings",iconSize:"16"},props:{onPerform:function(){return t.onWidgetProperties(t.widget)}}}));var n=[{name:"eb-dragdrop",value:{scene:this.dragdropScene,widgetId:this.widget.id,onDragStart:this.onDragStart,onDragElement:this.onDragElement,onDropElement:this.onDropElement,onDropLeave:this.onDropLeave,onDropEnter:this.onDropEnter,onDragEnd:this.onDragEnd,onDragDone:this.onDragDone}}];return r.push(e("eb-link",o()([{key:"open_with",attrs:{iconF7:"::open-with",iconSize:"16"}},{directives:n}]))),e("div",[r])},props:{widget:{type:Object},dragdropScene:{type:String},onDragStart:{type:Function},onDragElement:{type:Function},onDropElement:{type:Function},onDropLeave:{type:Function},onDropEnter:{type:Function},onDragEnd:{type:Function},onDragDone:{type:Function},onWidgetDelete:{type:Function},onWidgetProperties:{type:Function}},data:function(){return{}},methods:{}}},render:function(t){var e=arguments[0],r=[];if(this.dashboard.lock||r.push(e("widget-toolbar",{key:"widget-toolbar",staticClass:"widget-toolbar",attrs:{widget:this.options,dragdropScene:this.dragdropScene},props:{onDragStart:this.onDragStart,onDragElement:this.onDragElement,onDropElement:this.onDropElement,onDropLeave:this.onDropLeave,onDropEnter:this.onDropEnter,onDragEnd:this.onDragEnd,onDragDone:this.onDragDone,onWidgetDelete:this.onWidgetDelete,onWidgetProperties:this.onWidgetProperties}})),!this.dashboard.lock){var n=[{name:"eb-dragdrop",value:{scene:this.dragdropSceneResize,resizable:!0,widgetId:this.options.id,onDragStart:this.onDragStartResizable,onDragMove:this.onDragMoveResizable}}];r.push(e("span",o()([{key:"resize-handler",staticClass:"resize-handler"},{directives:n}])))}if(this.options.group){var i={widget:this,root:!1,dashboard:this.dashboard,widgets:this.options.widgets};this.__combineWidgetProps(i),r.push(e("eb-dashboard-widget-group",{key:"group",ref:"group",props:f({},i),on:{widgetRealReady:this.__onWidgetRealReady,widgetRealDestroy:this.__onWidgetRealDestroy}}))}else if(!this.errorMessage&&this.ready){var a={widget:this};this.__combineWidgetProps(a),r.push(t(this.__getFullName(),{key:"widget-inner",staticClass:"widget-inner",props:a,style:{height:this.__getPropertyRealValue("height")},on:{"widgetReal:ready":this.__onWidgetRealReady,"widgetReal:destroy":this.__onWidgetRealDestroy}}))}else if(this.errorMessage){var s;this.errorMessage2&&(s=e("f7-link",{attrs:{external:!0,target:"_blank",href:this.errorMessage2}},[this.errorMessage2])),r.push(e("div",{key:"errorMessage",staticClass:"widget-inner widget-inner-error",style:{height:this.__getPropertyRealValue("height")}},[e("div",[this.errorMessage]),s]))}var d={"data-widget-id":this.options.id},c={resizable:!0,resizableHandler:!1,width:this.__getPropertyRealValue("widthSmall"),medium:this.__getPropertyRealValue("widthMedium"),large:this.__getPropertyRealValue("widthLarge")};return e("f7-col",{staticClass:this.__getClassName(),attrs:f({},d),props:f({},c)},[r])},props:{dashboard:{type:Object},group:{type:Object},options:{type:Object},resource:{type:Object},dragdropSceneResize:{type:String},dragdropScene:{type:String}},data:function(){return{ready:!1,errorMessage:null,errorMessage2:null}},created:function(){this.__init()},beforeDestroy:function(){this.$emit("widget:destroy")},methods:{__init:function(){var t=this;return h(u().mark((function e(){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.options.group){e.next=2;break}return e.abrupt("return");case 2:if(r=t.__getFullName(),t.resource){e.next=7;break}return t.__setErrorMessage(r),t.ready=!1,e.abrupt("return");case 7:return e.next=9,t.$meta.module.use(t.resource.resourceConfig.module);case 9:if(n=e.sent,o=n.options.components[t.resource.resourceConfig.component]){e.next=16;break}t.__setErrorMessage(r),t.ready=!1,e.next=22;break;case 16:return e.next=18,t.$meta.util.createComponentOptionsUses(o);case 18:o=t.$meta.util.createComponentOptions(o),t.$options.components[r]=o,t.__setErrorMessage(null),t.ready=!0;case 22:case"end":return e.stop()}}),e)})))()},__setErrorMessage:function(t){if(!t)return this.errorMessage=null,void(this.errorMessage2=null);this.errorMessage="".concat(this.$text("Widget Not Found"),": ").concat(t);var e=t.split(":")[0],r=this.$config.widget.errorMessage.moduleMappings[e];this.errorMessage2=r?this.$meta.util.combineStoreUrl(r):null},__onWidgetRealReady:function(t){this.dashboard.__onWidgetRealReady(this.options.id,t)},__onWidgetRealDestroy:function(t){this.dashboard.__onWidgetRealDestroy(this.options.id,t)},__getBindValue:function(t){if(t&&t.widgetId&&t.propertyName){var e=this.dashboard.__getWidgetRealById(t.widgetId);if(e)return e[t.propertyName]}},__getBindsValue:function(t){var e,r=[],n=s(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.widgetId&&o.propertyName){var i=this.__getBindValue(o);r.push({id:o.id,data:i})}}}catch(t){n.e(t)}finally{n.f()}return r},__getPropertyReal2:function(t,e){return t.properties[e]},__getPropertyReal:function(t){return this.__getPropertyReal2(this.options,t)},__convertPropertyRealValue:function(t,e,r){if(null==r)return r;var n=this._getPropSchema(t,e);if(!n)return r;switch(n.type){case"number":return Number(r);case"integer":return parseInt(r);case"string":return r.toString();case"boolean":return"true"===r||"false"!==r&&Boolean(r);case"array":return"string"==typeof r?r.split(","):r;default:return r}},__getPropertyRealValue2:function(t,e){var r,n=this.__getPropertyReal2(t,e);if(n)return 1===n.type?r=n.value:2===n.type&&(n.bind?r=this.__getBindValue(n.bind):n.binds&&(r=this.__getBindsValue(n.binds))),"title"!==e||r||(r=t.group?this.$text("Group"):this.dashboard.__findWidgetStock(t).titleLocale),this.__convertPropertyRealValue(t,e,r)},__getPropertyRealValue:function(t){return this.__getPropertyRealValue2(this.options,t)},__setPropertyRealValue2:function(t,e,r){r||(r={}),"object"!==a(r)&&(r={type:1,value:r}),r.type||(r.type=1);var n=t.properties[e]||{},o=this.$meta.util.extend({},n,r);return this.$set(t.properties,e,o),this.dashboard.__saveLayoutConfig(),o},__setPropertyRealValue:function(t,e){return this.__setPropertyRealValue2(this.options,t,e)},setPropertyValue:function(t,e){var r=this;return h(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.dashboard.__forceDashboardUser();case 2:return n.abrupt("return",r.__setPropertyRealValue(t,e));case 3:case"end":return n.stop()}}),n)})))()},_getPropSchema:function(t,e){var r=this._getPropsSchema(t);if(r){var n=r.properties[e];if(n)return n}return null},_getAttrSchema:function(t,e){var r=this._getAttrsSchema(t);if(r){var n=r.properties[e];if(n)return n}return null},_getAttrsSchema:function(t){if(t.group)return this.$options.components["eb-dashboard-widget-group"].options.meta.widget.schema.attrs;var e=this.$options.components[this.__getFullName(t)];return e&&e.meta&&e.meta.widget&&e.meta.widget.schema&&e.meta.widget.schema.attrs||null},_getPropsSchema:function(t){if(t.group)return this.$options.components["eb-dashboard-widget-group"].options.meta.widget.schema.props;var e=this.$options.components[this.__getFullName(t)];return e&&e.meta&&e.meta.widget&&e.meta.widget.schema&&e.meta.widget.schema.props||null},_getPropsSchemaCategoryGrouping:function(t){var e=this._getPropsSchema(t);if(!e)return[null,null];var r={};for(var n in e.properties){var o=e.properties[n],i=this.$meta.util.getPropertyDeprecate(o,"ebWidget.category","ebCategory")||"";r[i]||(r[i]={}),r[i][n]=o}return[e,r]},__combineWidgetProps:function(t){var e=this._getPropsSchema(this.options);this.__combineWidgetPropsSchema(t,e)},__combineWidgetPropsSchema:function(t,e){if(e)for(var r in e.properties)t[r]=this.__getPropertyRealValue(r)},_getBindSourceTitle:function(t){return t.widgetReal.widget.__getPropertyRealValue("title")},_getBindSourcePropertyTitle:function(t,e){var r=this._getAttrSchema(t.widgetReal.widget.options,e);return r?this.$text(r.ebTitle):""},_getBindSourceTitleAndPropertyTitle:function(t,e){var r=i(this.dashboard.__findWidgetRealById(t),1)[0];return r?[this._getBindSourceTitle(r),this._getBindSourcePropertyTitle(r,e)]:["",""]},__getClassName:function(){if(this.options.group){var t=0===this.options.widgets.length?"widget-group-empty":"widget-group-some";return"widget widget-id-".concat(this.options.id," widget-group ").concat(t)}var e=this.options.atomStaticKey||"".concat(this.options.module,":").concat(this.options.name);return"widget widget-id-".concat(this.options.id," widget-item widget-name-").concat(e)},__getFullName:function(t){return this.dashboard.__resourceFullName(t||this.options)},onDragStartResizable:function(t){var e=t.context;return{size:{width:this.$$(this.group.$el).width()},tooltip:this.__getTooltipResizable(e)}},onDragMoveResizable:function(t){var e=t.context,r=t.diff,n=this.getViewSize(),o=n.replace(n[0],n[0].toUpperCase()),a="width".concat(o),s=parseInt(100*r.percent.x);if(0!==s){var d=s<0,c=i(this.group.__getWidgetById(e.widgetId),2),u=c[0],l=c[1],h=this.__getPropertyRealValue2(u,a),p=h+s;if(!(p=this.__getPreferWidth(h,p,!1,d)))return!1;if(h===p)return!1;this.__setPropertyRealValue2(u,a,p),this.dashboard.__saveLayoutConfig();var f=this.__getPropertyRealValue2(u,a),g=this.group.widgets[l+1];if(g){var y=this.__getPropertyRealValue2(g,a),m=y-(p-h);(m=this.__getPreferWidth(y,m,!0,!d))&&this.__setPropertyRealValue2(g,a,m),f="".concat(f,":").concat(this.__getPropertyRealValue2(g,a))}return{eaten:!0,tooltip:f}}},__getTooltipResizable:function(t){var e,r=this.getViewSize(),n=r.replace(r[0],r[0].toUpperCase()),o="width".concat(n),a=i(this.group.__getWidgetById(t.widgetId),2),s=a[0],d=a[1];e=this.__getPropertyRealValue2(s,o);var c=this.group.widgets[d+1];return c&&(e="".concat(e,":").concat(this.__getPropertyRealValue2(c,o))),e},getViewSize:function(){return this.$view.size},__getPreferWidth:function(t,e,r,n){for(var o=r?5:2,i=0;i<o;i++){var a,d=s(y);try{for(d.s();!(a=d.n()).done;){var c=a.value;if(n&&c<t&&e-c<=i)return c;if(!n&&c>t&&c-e<=i)return c}}catch(t){d.e(t)}finally{d.f()}}return null},onDragStart:function(t){var e=t.context,r=i(this.group.__getWidgetById(e.widgetId),1)[0];return{tooltip:"".concat(this.__getPropertyRealValue2(r,"title"))}},onDragElement:function(t){var e=t.context;return this.$$(".widget-id-".concat(e.widgetId))},onDropElement:function(t){var e=t.context,r=t.dragContext,n=i(this.group.__getWidgetById(e.widgetId),2),o=n[0],a=n[1],s=i(this.group.__getWidgetById(r.widgetId),2)[1];return a===s||a===s+1?null:{dropElement:this.$$(".widget-id-".concat(e.widgetId)),tooltip:this.__getPropertyRealValue2(o,"title")}},onDropLeave:function(){},onDropEnter:function(){},onDragEnd:function(){},onDragDone:function(t){var e=t.context,r=t.dropContext,n=i(this.group.__getWidgetById(e.widgetId),2),o=n[0],a=n[1];this.group.widgets.splice(a,1);var s=i(this.group.__getWidgetById(r.widgetId),2)[1];this.group.widgets.splice(s,0,o),this.dashboard.__saveLayoutConfig()},onWidgetDelete:function(t){var e=this;this.$view.dialog.confirm().then((function(){var r=i(e.group.__getWidgetById(t.id),2)[1];-1!==r&&(e.group.widgets.splice(r,1),e.dashboard.__saveLayoutConfig())})).catch((function(){}))},onWidgetProperties:function(){this.$view.navigate("/a/dashboard/widget/properties?widgetId=".concat(this.options.id),{scene:"sidebar",sceneOptions:{side:"right",name:"properties",title:"Properties"},context:{params:{dashboard:this.dashboard,widget:this}}})},onWidgetsAdd:function(t){var e,r=s(t.widgets);try{for(r.s();!(e=r.n()).done;){var n=e.value;this.$refs.group.onWidgetAdd(n)}}catch(t){r.e(t)}finally{r.f()}}}};var b=r(136);const v=(0,r(792).Z)({installFactory:function(t){return{mixins:[t.prototype.$meta.module.get("a-dashboard").options.mixins.ebDashboardWidgetBase]}}},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-card",[r("f7-card-header",[t._v(t._s(t.$text("About CabloyJS")))]),t._v(" "),r("f7-card-content",[r("div",{staticClass:"alert-info"},[t._v(t._s(t.$text("CabloyAboutTip1")))]),t._v(" "),r("p",[t._v(t._s(t.$text("CabloyAboutTip2")))]),t._v(" "),r("p",[t._v(t._s(t.$text("CabloyAboutTip3")))]),t._v(" "),r("p",[t._v(t._s(t.$text("CabloyAboutTip4")))])]),t._v(" "),r("f7-card-footer",[r("f7-link",{attrs:{external:"",target:"_blank",href:"https://cabloy.com"}},[t._v(t._s(t.$text("Documentation")))]),t._v(" "),r("f7-link",{attrs:{external:"",target:"_blank",href:"https://community.cabloy.com"}},[t._v(t._s(t.$text("Community")))]),t._v(" "),r("f7-link",{attrs:{external:"",target:"_blank",href:"https://github.com/zhennann/cabloy"}},[t._v("GitHub")])],1)],1)}),[],!1,null,null,null).exports,w={props:{context:{type:Object}},data:function(){return{}},created:function(){},methods:{onSave:function(){return this.context.validate.perform(null,{action:"save"})},onChooseEditContent:function(){var t=this,e=this.context,r=e.parcel,n=e.validate,o="/a/dashboard/dashboard?scene=manager&atomId=".concat(r.data.atomId);this.$view.navigate(o,{target:"_view",context:{params:{ctx:this,item:r.data,readOnly:n.readOnly,onSave:function(){return t.onSave()}},callback:function(e,r){200===e&&t.context.setValue(r.content)}}})}},render:function(){var t=arguments[0],e=this.context.dataPath,r=this.context.getTitle();return t("eb-list-item-choose",{attrs:{link:"#",dataPath:e,title:r},props:{onChoose:this.onChooseEditContent}})}},_={ebDashboardWidget:m,ebDashboardWidgetGroup:b.Z,widgetAbout:v,renderDashboardContent:w}},788:(t,e,r)=>{"use strict";function n(t){return{widget:{errorMessage:{moduleMappings:{"test-note":"test-note","test-party":"test-party"}}},profile:{meta:{widget:{properties:{title:{type:1,value:""},widthSmall:{type:1,value:100},widthMedium:{type:1,value:50},widthLarge:{type:1,value:25},height:{type:1,value:"auto"}}},group:{properties:{title:{type:1,value:""},widthSmall:{type:1,value:100},widthMedium:{type:1,value:100},widthLarge:{type:1,value:100},height:{type:1,value:"auto"}}}}}}}r.d(e,{Z:()=>n})},933:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={Profile2:"Profile",CabloyAboutTip1:"CabloyJS - The Ultimate NodeJS Full Stack Business Development Platform",CabloyAboutTip2:"The frontend of CabloyJS uses VueJS + Framework7 + Webpack, while the backend uses KoaJS + EggJS, and the database uses MySQL",CabloyAboutTip3:"Vertically, CabloyJS make the frontend and the backend work together to form an organic wholeness, so as to avoid working independently between them",CabloyAboutTip4:"Horizontally, CabloyJS has refined a code organization mode called “business modularity”, which could offer a powerful basic framework for the continually growing business demands of large-scale web applications through different module combinations",DashboardUnlockWarningSave:"You should lock again for saving the modified profile",ProfileSwitchedPrompt:"Switched to Profile"}},978:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={Basic:"基本",Clone:"克隆",Dashboard:"仪表板",Delete:"删除",Default:"默认",General:"通用",Group:"组",Height:"高度",Settings:"设置",Profile2:"配置",Property:"属性",Properties:"属性",Title:"标题",Static:"静态",Dynamic:"动态",Documentation:"文档",Community:"社区",CabloyAboutTip1:"CabloyJS - 是一款顶级NodeJS全栈业务开发框架",CabloyAboutTip2:"前端采用VueJS + Framework7 + Webpack，后端采用KoaJS + EggJS，数据库采用MySQL",CabloyAboutTip3:"在纵向上，将前端和后端打通，形成一个有机的整体，避免前端和后端各自为政的状况",CabloyAboutTip4:"在横向上，提炼出“业务模块化”的代码组织模式，通过不同的模块组合实现业务开发，也为大型Web应用不断增长的业务需求提供有力的基础架构",DashboardUnlockWarningSave:"您应该重新加锁，以便保存被修改的配置",ProfileSwitchedPrompt:"切换至配置","About CabloyJS":"关于CabloyJS","Add Group":"添加组","Add Widget":"添加部件","Add Data Source":"添加数据源","Data Source":"数据源","Save As":"保存为","New Profile":"新建配置","Please specify the dashboard name":"请指定仪表板名称","Widget Not Found":"部件未发现","Source Widget Not Found":"源部件未发现","Width(Small)":"宽度(小页面)","Width(Medium)":"宽度(中页面)","Width(Large)":"宽度(大页面)","Source Widget":"源部件","Property Name":"属性名","Change Name":"修改名称","Profile List":"配置列表"}},137:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n={"en-us":r(933).Z,"zh-cn":r(978).Z}},751:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var n=r(7);function o(t){return{ebDashboardWidgetBase:(0,n.Z)(t,!1)}}},644:(t,e,r)=>{"use strict";function n(t){return r(142)("./".concat(t,".vue")).default}r.d(e,{Z:()=>o});const o=[{path:"dashboard",component:("dashboard",r(990)("./".concat("dashboard",".jsx")).default)},{path:"dashboard/settings",component:n("dashboardSettings")},{path:"widget/properties",component:n("widgetProperties")},{path:"widget/property/edit",component:n("widgetPropertyEdit")},{path:"widget/property/bind/add",component:n("widgetPropertyBindAdd")}]},81:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){return t.prototype.$meta.eventHub.$on("auth:login",(function(e){t.prototype.$meta.store.commit("a/dashboard/authLogin",e)})),{state:{dashboardUsers:{}},getters:{},mutations:{authLogin:function(t){t.dashboardUsers={}},setDashboardUsers:function(t,e){var r=e.dashboardAtomId,n=e.dashboardUsers;t.dashboardUsers=o(o({},t.dashboardUsers),{},i({},r,n))}},actions:{getDashboardUsers:function(e,r){var n=e.state,o=e.commit,i=r.dashboardAtomId;return new Promise((function(e,r){var a=i;if(n.dashboardUsers[a])return e(n.dashboardUsers[a]);t.prototype.$meta.api.post("/a/dashboard/dashboard/itemUsers",{key:{atomId:a}}).then((function(t){var r=t;o("setDashboardUsers",{dashboardAtomId:i,dashboardUsers:r}),e(r)})).catch((function(t){r(t)}))}))}}}}r.d(e,{Z:()=>a})},153:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>m});var n=r(3),o=r.n(n),i=r(136);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=h(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function h(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var d=u(t,e,r);if("normal"===d.type){if(n=r.done?"completed":"suspendedYield",d.arg===l)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(n="completed",r.method="throw",r.arg=d.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function p(){}function g(){}var y={};d(y,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(k([])));b&&b!==e&&r.call(b,o)&&(y=b);var v=g.prototype=h.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,s,d){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,d)}),(function(t){n("throw",t,s,d)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,d)}))}d(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=g,d(v,"constructor",g),d(g,"constructor",p),p.displayName=d(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,d(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},w(_.prototype),d(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),d(v,s,"Generator"),d(v,o,(function(){return this})),d(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function g(t,e,r,n,o,i,a){try{var s=t[i](a),d=s.value}catch(t){return void r(t)}s.done?e(d):Promise.resolve(d).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){g(i,n,o,a,s,"next",t)}function s(t){g(i,n,o,a,s,"throw",t)}a(void 0)}))}}const m={meta:{size:"large"},mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{widgetGroup:i.Z},render:function(){var t,e,r=arguments[0],n=this.renderActions(),o="manager"===this.scene||"mobile"===this.$meta.vueApp.layout||"small"===this.$view.size;if(o){var i=this.renderActionsManager();t=r("eb-navbar",{attrs:{title:this.page_title,ebBackLink:"Back"}},[r("f7-nav-right",[i,n])])}return this.ready&&(e=r("widget-group",{ref:"group",attrs:{root:!0,dashboard:this,widgets:this.profile.root.widgets}})),r("eb-page",{ref:"page",staticClass:"dashboard dashboard-profile-".concat(this.dashboardAtomId," ").concat(this.lock?"":"dashboard-unlock")},[t,e,!o&&r("div",{class:"dashboard-actions"},[n])])},data:function(){var t=this.$f7route.query,e=t.key,r=parseInt(t.atomId)||0;return{scene:t.scene,ready:!1,widgetsAll:null,atomStaticKey:e,profile:null,dashboardAtomId:r,dashboardUserId:0,dashboardSystem:null,dashboardUser:null,widgetsReal:[],title:null,lock:!0,page_dirty:!1}},computed:{page_title:function(){var t=this.title;return this.page_dirty?"* ".concat(t):t},user:function(){return this.$store.state.auth.user},readOnly:function(){return this.contextParams&&this.contextParams.readOnly},item:function(){return this.contextParams&&this.contextParams.item},dashboardUsers:function(){return this.$local.state.dashboardUsers[this.dashboardAtomId]}},mounted:function(){this.__init()},created:function(){var t=this;this.__saveDashboardUser=this.$meta.util.debounce((function(){t.__saveDashboardUserNow()}),3e3)},beforeDestroy:function(){this.$emit("dashboard:destroy")},methods:{page_getDirty:function(){return this.page_dirty},page_setDirty:function(t){this.page_dirty!==t&&(this.page_dirty=t,"manager"!==this.scene&&this.$pageContainer.setPageDirty(t))},__setTitle:function(t){var e=this.$text("Dashboard");t?t===this.$text("Default")&&(t=e):t=e,this.title=t,this.$pageContainer.setPageTitle(this.page_title)},renderActionsManager:function(){var t=this,e=this.$createElement;if(!this.ready)return null;if(1===this.user.op.anonymous)return null;if("manager"!==this.scene)return null;var r=[];return this.lock||(r.push(e("eb-link",{key:"dashboard-action-save",class:"dashboard-action-save",attrs:{iconF7:"::save"},props:{onPerform:function(e){return t.onPerformSaveManager(e)}}})),r.push(e("eb-link",{key:"dashboard-action-settings",class:"dashboard-action-settings",attrs:{iconF7:"::settings"},props:{onPerform:function(e){return t.onPerformSettings(e)}}}))),r},renderActions:function(){var t=this,e=this.$createElement;if(!this.ready)return null;if(1===this.user.op.anonymous)return null;if("manager"===this.scene)return null;var r=[];return this.lock&&(r.push(e("eb-link",{key:"dashboard-action-lock",class:"dashboard-action-lock",attrs:{iconF7:"::lock"},props:{onPerform:function(e){return t.onPerformLock(e)}}})),this.dashboardUsers&&this.dashboardUsers.length>1&&r.push(e("eb-link",{key:"dashboard-action-profileSwitch",class:"dashboard-action-profileSwitch",attrs:{iconF7:"::view-list"},props:{onPerform:function(e){return t.onPerformProfileSwitch(e)}}}))),this.lock||r.push(e("eb-link",{key:"dashboard-action-unlock",class:"dashboard-action-unlock",attrs:{iconF7:"::lock-open"},props:{onPerform:function(e){return t.onPerformUnlock(e)}}})),this.lock||r.push(e("eb-link",{key:"dashboard-action-settings",class:"dashboard-action-settings",attrs:{iconF7:"::settings"},props:{onPerform:function(e){return t.onPerformSettings(e)}}})),this.$device.desktop&&this.$meta.util.screenfull.isEnabled&&r.push(e("eb-link",{key:"dashboard-action-fullscreen",class:"dashboard-action-fullscreen",attrs:{iconF7:this.$meta.util.screenfull.isFullscreen?"::fullscreen-exit":"::fullscreen"},props:{onPerform:function(e){return t.onPerformFullscreen(e)}}})),r},__init:function(){var t=this;return y(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._queueForceDashboardUser=t.$meta.util.queue(t._queueTaskForceDashboardUser.bind(t)),"manager"===t.scene&&(t.lock=t.readOnly),e.next=5,t.$store.dispatch("a/base/getResources",{resourceType:"a-dashboard:widget"});case 5:return t.widgetsAll=e.sent,e.next=8,t.__switchProfile({dashboardUserId:t.dashboardUserId});case 8:if("manager"===t.scene){e.next=11;break}return e.next=11,t.$local.dispatch("getDashboardUsers",{dashboardAtomId:t.dashboardAtomId});case 11:t.ready=!0,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.$view.toast.show({text:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},__saveLayoutConfig:function(){"manager"===this.scene&&this.readOnly||1!==this.user.op.anonymous&&(this.page_setDirty(!0),"manager"!==this.scene||this.readOnly||this.contextCallback(200,{content:JSON.stringify(this.profile)}),"manager"!==this.scene&&this.__saveDashboardUser())},__changeProfileUserDefault:function(t){var e=this;return y(f().mark((function r(){var n;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.dashboardUserId,r.next=3,e.$api.post("/a/dashboard/dashboard/changeItemUserDefault",{key:{atomId:e.dashboardAtomId},dashboardUserId:n});case 3:case"end":return r.stop()}}),r)})))()},__switchProfile:function(t){var e=this;return y(f().mark((function r(){var n,o,i,a,s,d;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.dashboardUser,o=t.dashboardUserId,n&&(o=n.id),0!==o){r.next=16;break}if("manager"!==e.scene){r.next=8;break}e.profile=JSON.parse(e.item.content),i=e.item.atomName,r.next=13;break;case 8:return r.next=10,e.$api.post("/a/dashboard/dashboard/itemByKey",{atomStaticKey:e.atomStaticKey});case 10:(a=r.sent).dashboardUser&&(e.dashboardUser=a.dashboardUser,e.dashboardAtomId=e.dashboardUser.dashboardAtomId,e.dashboardUserId=e.dashboardUser.id,e.profile=JSON.parse(e.dashboardUser.content),i=e.dashboardUser.dashboardName),a.dashboardSystem&&(e.dashboardSystem=a.dashboardSystem,e.dashboardAtomId=e.dashboardSystem.atomId,e.dashboardUserId=0,e.profile=JSON.parse(e.dashboardSystem.content),i=e.dashboardSystem.atomNameLocale);case 13:return e.__checkProfile(e.profile),e.__setTitle(i),r.abrupt("return");case 16:if(n){r.next=22;break}return r.next=19,e.$api.post("/a/dashboard/dashboard/loadItemUser",{dashboardUserId:o});case 19:if(n=r.sent){r.next=22;break}throw new Error("Dashboard not found!");case 22:e.dashboardUser=n,e.dashboardAtomId=e.dashboardUser.dashboardAtomId,e.dashboardUserId=e.dashboardUser.id,e.profile=JSON.parse(e.dashboardUser.content),s=e.dashboardUser.dashboardName,e.__checkProfile(e.profile),e.__setTitle(s),e.$emit("dashboard:profileChange",e.dashboardUserId),d="".concat(e.$text("ProfileSwitchedPrompt"),": ").concat(s),e.$view.toast.show({text:d});case 32:case"end":return r.stop()}}),r)})))()},__checkProfile:function(t){t.root.id||(t.root.id=this.$meta.util.uuidv4());var e,r=l(t.root.widgets);try{for(r.s();!(e=r.n()).done;){var n=e.value;this.__initWidget(n,"widget")}}catch(t){r.e(t)}finally{r.f()}return t},__getProfileEmpty:function(){return{root:{id:this.$meta.util.uuidv4(),widgets:[]}}},__initWidget:function(t,e){t.id||(t.id=this.$meta.util.uuidv4()),t.properties||(t.properties=this.$meta.util.extend({},this.$config.profile.meta[e].properties))},__findResourceStock:function(t,e){if(!t)return null;var r=t[this.__resourceFullName(e)];return r?c(c({},e),{},{title:r.atomName,titleLocale:r.atomNameLocale,resourceAtomId:r.atomId,resourceConfig:JSON.parse(r.resourceConfig)}):null},__findWidgetStock:function(t){return t.group?null:this.__findResourceStock(this.widgetsAll,t)},__createDashboardUser:function(){var t=this;return y(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.post("/a/dashboard/dashboard/createItemUser",{key:{atomId:t.dashboardAtomId}});case 2:return r=e.sent,t.dashboardUsers&&t.dashboardUsers.push(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},__saveDashboardUserNow:function(){var t=this;return y(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.page_getDirty()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$api.post("/a/dashboard/dashboard/saveItemUser",{dashboardUserId:t.dashboardUserId,content:JSON.stringify(t.profile)});case 4:t.page_setDirty(!1);case 5:case"end":return e.stop()}}),e)})))()},__setLock:function(t){this.lock=t,this.$emit("dashboard:lockChange",this.lock)},_queueTaskForceDashboardUser:function(t,e){this._queueTaskForceDashboardUser_inner().then((function(){e()})).catch((function(t){e(t)}))},_queueTaskForceDashboardUser_inner:function(){var t=this;return y(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("manager"!==t.scene&&1!==t.user.op.anonymous){e.next=2;break}return e.abrupt("return");case 2:if(0===t.dashboardUserId){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.__createDashboardUser();case 6:return r=e.sent,e.next=9,t.__switchProfile({dashboardUser:r});case 9:case"end":return e.stop()}}),e)})))()},__forceDashboardUser:function(){var t=this;return y(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){t._queueForceDashboardUser.push(null,(function(t){return t?r(t):e()}))})));case 1:case"end":return e.stop()}}),e)})))()},onPerformLock:function(){var t=this;return y(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.__forceDashboardUser();case 2:t.__setLock(!1);case 3:case"end":return e.stop()}}),e)})))()},onPerformUnlock:function(){var t=this;return y(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.__setLock(!0);case 1:case"end":return e.stop()}}),e)})))()},onPerformSaveManager:function(){var t=this;return y(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contextParams.onSave();case 2:return t.page_setDirty(!1),e.abrupt("return",t.$text("Saved"));case 4:case"end":return e.stop()}}),e)})))()},onPerformSettings:function(){this.$view.navigate("/a/dashboard/dashboard/settings?dashboardUserId=".concat(this.dashboardUserId),{scene:"sidebar",sceneOptions:{side:"right",name:"profile",title:"Profile2"},context:{params:{dashboard:this}}})},onPerformFullscreen:function(){this.$meta.util.screenfull.toggle(this.$el)},onPerformProfileSwitch:function(t){var e=this;return y(f().mark((function r(){var n,o,i,a,s,d,c,u,h;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.dashboardUsers){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.$meta.util.combineIcon({f7:"::done"});case 4:n=r.sent,o=e.dashboardUserId,i=[],a=l(e.dashboardUsers);try{for(a.s();!(s=a.n()).done;)d=s.value,i.push({icon:o===d.id?n:'<i class="icon"></i>',text:d.dashboardName,disabled:o===d.id,data:d})}catch(t){a.e(t)}finally{a.f()}return c={forceToPopover:!0,targetEl:t.currentTarget,buttons:i},r.next=12,e.$view.actions.choose(c);case 12:return u=r.sent,h=u.data.id,r.next=16,e.__changeProfileUserDefault({dashboardUserId:h});case 16:return r.next=18,e.__switchProfile({dashboardUserId:h});case 18:case"end":return r.stop()}}),r)})))()},onWidgetsAdd:function(t){var e,r=l(t.widgets);try{for(r.s();!(e=r.n()).done;){var n=e.value;this.$refs.group.onWidgetAdd(n)}}catch(t){r.e(t)}finally{r.f()}},onGroupAdd:function(){var t={group:!0,widgets:[]};this.__initWidget(t,"widget"),this.profile.root.widgets.push(t),this.__saveLayoutConfig()},__onWidgetRealReady:function(t,e){this.__onWidgetRealDestroy(),this.widgetsReal.push({widgetId:t,widgetReal:e})},__onWidgetRealDestroy:function(t){var e=s(this.__findWidgetRealById(t),2)[1];e>-1&&this.widgetsReal.splice(e,1)},__findWidgetRealById:function(t){var e=this.widgetsReal.findIndex((function(e){return e.widgetId===t}));return-1===e?[null,-1]:[this.widgetsReal[e],e]},__getWidgetRealById:function(t){var e=s(this.__findWidgetRealById(t),1)[0];return e?e.widgetReal:null},__resourceFullName:function(t){return t.atomStaticKey?t.atomStaticKey:"".concat(t.module,":").concat(t.name)},onPerformAddWidget:function(t,e){t.$view.navigate("/a/basefront/resource/select?resourceType=a-dashboard:widget",{target:"_self",context:{params:{multiple:!0},callback:function(t,r){if(200===t&&r){var n=r.map((function(t){return{atomStaticKey:t.data.atomStaticKey}}));e.onWidgetsAdd({widgets:n})}}}})}}}},450:(t,e,r)=>{var n=r(233),o=r(361)(n);o.push([t.id,".dashboard-actions {\n  position: fixed;\n  bottom: 6px;\n  right: 6px;\n  z-index: 200;\n}\n.dashboard-actions .link {\n  color: var(--f7-grid-resize-handler-bg-color);\n  margin-left: 4px;\n}\n.dashboard .row {\n  justify-content: space-evenly;\n}\n.dashboard .widget.widget-item .widget-inner {\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.dashboard .widget .widget-inner-error {\n  margin: 30px;\n  text-align: center;\n}\n.dashboard .widget.widget-group-empty .group {\n  background: var(--f7-text-editor-border-color);\n  height: 100px;\n}\n.dashboard .widget .resize-handler {\n  left: auto;\n  right: 0;\n  opacity: 0;\n  transition-duration: 400ms;\n}\n.dashboard .widget .widget-toolbar {\n  position: absolute;\n  top: 0;\n  right: 0;\n  opacity: 0;\n  transition-duration: 400ms;\n  z-index: 200;\n}\n.dashboard .widget .widget-toolbar a.link {\n  color: var(--f7-grid-resize-handler-bg-color);\n}\n.dashboard .widget .widget-toolbar a.link .icon {\n  font-size: 16px;\n}\n.dashboard .widget .widget-toolbar a.link + a.link {\n  margin-left: 8px;\n}\n.dashboard .widget[data-dragdrop-drop] {\n  background: var(--f7-text-editor-border-color);\n}\n.dashboard.dashboard-unlock .widget.widget-group-some:hover > .resize-handler {\n  right: 50%;\n}\n.dashboard.dashboard-unlock .widget.widget-group-some:hover > .widget-toolbar {\n  right: 50%;\n}\n.dashboard.dashboard-unlock .widget:hover .resize-handler {\n  left: auto;\n  right: 0;\n  opacity: 1;\n}\n.dashboard.dashboard-unlock .widget:hover .widget-toolbar {\n  opacity: 1;\n}\n.widget-property-edit .value-types {\n  text-align: right;\n}\n.widget-property-edit .value-types label.radio {\n  margin-left: 8px;\n}\n","",{version:3,sources:["webpack://./front/src/assets/css/module.less"],names:[],mappings:"AAAA;EACE,eAAA;EACA,WAAA;EACA,UAAA;EACA,YAAA;AACF;AALA;EAOI,6CAAA;EACA,gBAAA;AACJ;AAGA;EAGI,6BAAA;AAHJ;AAQI;EAEI,gBAAA;EACA,kBAAA;AAPR;AAJA;EAgBM,YAAA;EACA,kBAAA;AATN;AAYI;EAEI,8CAAA;EACA,aAAA;AAXR;AAZA;EA4BM,UAAA;EACA,QAAA;EACA,UAAA;EACA,0BAAA;AAbN;AAlBA;EAmCM,kBAAA;EACA,MAAA;EACA,QAAA;EACA,UAAA;EACA,0BAAA;EACA,YAAA;AAdN;AA1BA;EA2CQ,6CAAA;AAdR;AA7BA;EA8CU,eAAA;AAdV;AAiBQ;EACE,gBAAA;AAfV;AAqBI;EACE,8CAAA;AAnBN;AA4BI;EAEI,UAAA;AA3BR;AAyBI;EAMI,UAAA;AA5BR;AAgCI;EAGI,UAAA;EACA,QAAA;EACA,UAAA;AAhCR;AA2BI;EASI,UAAA;AAjCR;AAwCA;EAEI,iBAAA;AAvCJ;AAqCA;EAKM,gBAAA;AAvCN",sourcesContent:[".dashboard-actions {\n  position: fixed;\n  bottom: 6px;\n  right: 6px;\n  z-index: 200;\n\n  .link {\n    color: var(--f7-grid-resize-handler-bg-color);\n    margin-left: 4px;\n  }\n}\n\n.dashboard {\n\n  .row {\n    justify-content: space-evenly;\n  }\n\n  .widget {\n\n    &.widget-item {\n      .widget-inner {\n        overflow-y: auto;\n        overflow-x: hidden;\n      }\n    }\n\n    .widget-inner-error {\n      margin: 30px;\n      text-align: center;\n    }\n\n    &.widget-group-empty {\n      .group {\n        background: var(--f7-text-editor-border-color);\n        height: 100px;\n      }\n    }\n\n    .resize-handler {\n      left: auto;\n      right: 0;\n      opacity: 0;\n      transition-duration: 400ms;\n    }\n\n    .widget-toolbar {\n      position: absolute;\n      top: 0;\n      right: 0;\n      opacity: 0;\n      transition-duration: 400ms;\n      z-index: 200;\n\n      a.link {\n        color: var(--f7-grid-resize-handler-bg-color);\n\n        .icon {\n          font-size: 16px;\n        }\n\n        &+a.link {\n          margin-left: 8px;\n        }\n      }\n\n    }\n\n    &[data-dragdrop-drop] {\n      background: var(--f7-text-editor-border-color);\n    }\n  }\n}\n\n.dashboard.dashboard-unlock {\n\n  .widget {\n\n    &.widget-group-some:hover {\n      >.resize-handler {\n        right: 50%;\n      }\n\n      >.widget-toolbar {\n        right: 50%;\n      }\n    }\n\n    &:hover {\n\n      .resize-handler {\n        left: auto;\n        right: 0;\n        opacity: 1;\n      }\n\n      .widget-toolbar {\n        opacity: 1;\n      }\n    }\n\n  }\n}\n\n.widget-property-edit {\n  .value-types {\n    text-align: right;\n\n    label.radio {\n      margin-left: 8px;\n    }\n  }\n}\n"],sourceRoot:""}]),t.exports=o},361:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var d=[].concat(t[s]);n&&o[d[0]]||(r&&(d[2]?d[2]="".concat(r," and ").concat(d[2]):d[2]=r),e.push(d))}},e}},233:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}t.exports=function(t){var r,n,o=(n=4,function(t){if(Array.isArray(t))return t}(r=t)||function(t,e){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(r,n)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],a=o[3];if(!a)return i;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),c="/*# ".concat(d," */"),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[i].concat(u).concat([c]).join("\n")}return[i].join("\n")}},136:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(3),o=r.n(n);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const a={meta:{global:!0},name:"eb-dashboard-widget-group",mixins:[(0,r(7).Z)(o(),!0)],render:function(t){return this.__renderRow(t)},props:{root:{type:Boolean},dashboard:{type:Object},widgets:{type:Array}},data:function(){return{dragdropSceneResize:o().prototype.$meta.util.nextId("dragdrop"),dragdropScene:o().prototype.$meta.util.nextId("dragdrop")}},methods:{__renderRow:function(t){var e,r=[],n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){d=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(d)throw a}}}}(this.widgets);try{for(n.s();!(e=n.n()).done;){var o=e.value,a=this.dashboard.__findWidgetStock(o),s=t("eb-dashboard-widget",{key:o.id,props:{dashboard:this.dashboard,group:this,options:o,resource:a,dragdropSceneResize:this.dragdropSceneResize,dragdropScene:this.dragdropScene}});r.push(s)}}catch(t){n.e(t)}finally{n.f()}return r.push(t("f7-col",{staticClass:"widget widget-last",props:{resizable:!0,resizableHandler:!1,width:100}})),t("f7-row",{staticClass:"group"},r)},__getWidgetById:function(t){var e=this.widgets.findIndex((function(e){return e.id===t}));return-1===e?[null,-1]:[this.widgets[e],e]},onWidgetAdd:function(t){var e=t.atomStaticKey?{atomStaticKey:t.atomStaticKey}:{module:t.module,name:t.name};this.dashboard.__initWidget(e,this.root?"widget":"group"),this.widgets.push(e),this.dashboard.__saveLayoutConfig()}}},s=(0,r(792).Z)(a,void 0,void 0,!1,null,null,null).exports},870:(t,e,r)=>{"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,{Z:()=>a});var o=["attrTitle","attrWidthSmall","attrWidthMedium","attrWidthLarge","attrHeight"];const i={props:{dashboard:{type:Object},widget:{type:Object},widgetId:{type:String},propertyName:{type:String},propertyBind:{type:Object}},data:function(){return{bindCurrent:null,optionsSourceWidget:[],optionsPropertyName:{}}},created:function(){this.bindCurrent=this.$meta.util.extend({widgetId:"",propertyName:""},this.propertyBind),this.combineOptionsSourceWidget()},methods:{onInputSourceWidget:function(t){this.bindCurrent.widgetId=t,this.bindCurrent.propertyName="",this.$emit("bind:change",this.bindCurrent)},onInputPropertyName:function(t){this.bindCurrent.propertyName=t,this.$emit("bind:change",this.bindCurrent)},combineOptionsSourceWidget:function(){var t,e=[{title:"",value:""}],r={},o=this.widget._getPropSchema(this.widget.options,this.propertyName),i=(this.$meta.util.getPropertyDeprecate(o,"ebWidget.clue","ebClue")||"").split(","),a=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){d=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(d)throw a}}}}(this.dashboard.widgetsReal);try{for(a.s();!(t=a.n()).done;){var s=t.value,d=s.widgetReal.widget.options.id;if(d!==this.widgetId){var c=this._getOptionsPropertyName(s,i);c.length>1&&(r[d]=c,e.push({title:s.widgetReal.widget.__getPropertyRealValue("title"),value:d}))}}}catch(t){a.e(t)}finally{a.f()}this.optionsSourceWidget=e,this.optionsPropertyName=r},_getOptionsPropertyName:function(t,e){var r=[{title:"",value:""}],n=this.widget._getAttrsSchema(t.widgetReal.widget.options),o=t.widgetReal.getAttrsSchema();return this._combineOptionsSourceWidgetSchema(r,n,o,e),r},_checkAttrValid:function(t,e){return!t||o.indexOf(e)>-1||t.indexOf(e)>-1},_combineOptionsSourceWidgetSchema:function(t,e,r,n){var o=this;if(e){var i=function(i){if(!o._checkAttrValid(r,i))return"continue";var a=e.properties[i],s=(o.$meta.util.getPropertyDeprecate(a,"ebWidget.clue","ebClue")||"").split(",");n.filter((function(t){return s.indexOf(t)>-1})).length>0&&t.push({title:o.$text(a.ebTitle),value:i})};for(var a in e.properties)i(a)}}}},a=(0,r(792).Z)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-list",[r("f7-list-item",{attrs:{smartSelect:"",smartSelectParams:{openIn:"sheet",closeOnSelect:!0},title:t.$text("Source Widget")}},[r("eb-select",{attrs:{name:"sourceWidget",value:t.bindCurrent.widgetId,options:t.optionsSourceWidget},on:{input:t.onInputSourceWidget}})],1),t._v(" "),r("f7-list-item",{attrs:{smartSelect:"",smartSelectParams:{openIn:"sheet",closeOnSelect:!0},title:t.$text("Property Name")}},[r("eb-select",{attrs:{name:"propertyName",value:t.bindCurrent.propertyName,options:t.optionsPropertyName[this.bindCurrent.widgetId]||[]},on:{input:t.onInputPropertyName}})],1)],1)}),[],!1,null,"076128dc",null).exports},642:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var n=r(3);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",d=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var d=l(t,e,r);if("normal"===d.type){if(n=r.done?"completed":"suspendedYield",d.arg===h)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(n="completed",r.method="throw",r.arg=d.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function p(){}function f(){}function g(){}var y={};c(y,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(k([])));b&&b!==e&&r.call(b,a)&&(y=b);var v=g.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,d){var c=l(t[i],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==o(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,d)}),(function(t){n("throw",t,s,d)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,d)}))}d(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function A(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=g,c(v,"constructor",g),c(g,"constructor",f),f.displayName=c(g,d,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,d,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},w(_.prototype),c(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,d,"Generator"),c(v,a,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function a(t,e,r,n,o,i,a){try{var s=t[i](a),d=s.value}catch(t){return void r(t)}s.done?e(d):Promise.resolve(d).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){a(i,n,o,s,d,"next",t)}function d(t){a(i,n,o,s,d,"throw",t)}s(void 0)}))}}const d={mixins:[r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){return{dashboardUserIdCurrent:parseInt(this.$f7route.query.dashboardUserId||0)}},computed:{dashboard:function(){return this.contextParams.dashboard},dashboardUsers:function(){return this.$local.state.dashboardUsers[this.dashboard.dashboardAtomId]}},created:function(){this.__load()},mounted:function(){this.dashboard.$on("dashboard:destroy",this.onDashboardDestroy),this.dashboard.$on("dashboard:profileChange",this.onDashboardProfileChange)},beforeDestroy:function(){this.dashboard.$off("dashboard:destroy",this.onDashboardDestroy),this.dashboard.$off("dashboard:profileChange",this.onDashboardProfileChange)},methods:{__load:function(){var t=this;return s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("manager"!==t.dashboard.scene){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$local.dispatch("getDashboardUsers",{dashboardAtomId:t.dashboard.dashboardAtomId});case 4:case"end":return e.stop()}}),e)})))()},__findItem:function(t){var e=this.dashboardUsers.findIndex((function(e){return e.id===t}));return-1===e?{item:null,index:e}:{item:this.dashboardUsers[e],index:e}},onDashboardProfileChange:function(t){this.dashboardUserIdCurrent=t},onDashboardDestroy:function(){this.$view.close()},onPerformAddGroup:function(){this.dashboard.onGroupAdd()},onPerformAddWidget:function(){this.dashboard.onPerformAddWidget(this,this.dashboard)},onPerformChangeName:function(t,e){var r=this;return s(i().mark((function n(){var o,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.id,n.next=3,r.$view.dialog.prompt(r.$text("Please specify the dashboard name"),null,e.dashboardName);case 3:if((a=n.sent)&&a!==e.dashboardName){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,r.$api.post("/a/dashboard/dashboard/changeItemUserName",{dashboardUserId:o,dashboardName:a});case 8:r.__findItem(o).item.dashboardName=a,r.dashboardUserIdCurrent===o&&r.dashboard.__setTitle(a),r.$meta.util.swipeoutClose(t.target);case 12:case"end":return n.stop()}}),n)})))()},onPerformDelete:function(t,e){var r=this;return s(i().mark((function n(){var o,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.id,r.dashboardUserIdCurrent!==o){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r.$view.dialog.confirm();case 5:return n.next=7,r.$api.post("/a/dashboard/dashboard/deleteItemUser",{dashboardUserId:o});case 7:a=r.__findItem(o),r.dashboardUsers.splice(a.index,1),r.$meta.util.swipeoutClose(t.target);case 10:case"end":return n.stop()}}),n)})))()},onPerformSwitch:function(t,e){var r=this;return s(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.id,r.dashboardUserIdCurrent!==n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,r.dashboard.__saveDashboardUserNow();case 5:return t.next=7,r.dashboard.__changeProfileUserDefault({dashboardUserId:n});case 7:return t.next=9,r.dashboard.__switchProfile({dashboardUserId:n});case 9:r.dashboardUserIdCurrent=n;case 10:case"end":return t.stop()}}),t)})))()},onPerformProfileCreate:function(){var t=this;return s(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$view.dialog.confirm();case 2:return e.next=4,t.dashboard.__saveDashboardUserNow();case 4:return e.next=6,t.dashboard.__createDashboardUser();case 6:return r=e.sent,e.next=9,t.dashboard.__switchProfile({dashboardUser:r});case 9:t.dashboardUserIdCurrent=r.id;case 10:case"end":return e.stop()}}),e)})))()}}},c=(0,r(792).Z)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("eb-page",[r("eb-navbar",{attrs:{title:t.$text("Dashboard"),"eb-back-link":"Back"}}),t._v(" "),r("f7-list",[t.dashboard.lock?t._e():[r("eb-list-item",{attrs:{link:"#",title:t.$text("Add Widget"),onPerform:t.onPerformAddWidget}},[r("f7-icon",{attrs:{slot:"media",f7:"::add"},slot:"media"})],1),t._v(" "),r("eb-list-item",{attrs:{link:"#",title:t.$text("Add Group"),onPerform:t.onPerformAddGroup}},[r("f7-icon",{attrs:{slot:"media",f7:"::add"},slot:"media"})],1)],t._v(" "),"manager"!==t.dashboard.scene?[r("f7-list-item",{attrs:{"group-title":""}},[r("div",{staticClass:"detail-list-title-container"},[r("div",{staticClass:"actions-block actions-block-left"},[t._v(t._s(t.$text("Profile List")))]),t._v(" "),r("eb-link",{staticClass:"actions-block actions-block-right",attrs:{iconF7:"::add",onPerform:t.onPerformProfileCreate}})],1)]),t._v(" "),t._l(t.dashboardUsers,(function(e){return r("eb-list-item",{key:e.id,attrs:{title:e.dashboardName,radio:"",checked:e.id===t.dashboardUserIdCurrent,context:e,onPerform:t.onPerformSwitch,swipeout:""}},[r("eb-context-menu",[r("div",{attrs:{slot:"right"},slot:"right"},[r("div",{attrs:{color:"orange",context:e,onPerform:t.onPerformChangeName}},[t._v(t._s(t.$text("Change Name")))]),t._v(" "),e.id!==t.dashboardUserIdCurrent?r("div",{attrs:{color:"red",context:e,onPerform:t.onPerformDelete}},[t._v("\n              "+t._s(t.$text("Delete"))+"\n            ")]):t._e()])])],1)}))]:t._e()],2)],1)}),[],!1,null,null,null).exports},57:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var n=r(3);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var a=r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,s=["title","widthSmall","widthMedium","widthLarge","height"];const d={mixins:[a],data:function(){return{widgetId:this.$f7route.query.widgetId,propsSchemaDynamic:null,widget:null,widgetReal:null}},computed:{dashboard:function(){return this.contextParams.dashboard}},created:function(){this.widget=this.contextParams.widget,this.widgetReal=this.dashboard.__getWidgetRealById(this.widget.options.id),this.propsSchemaDynamic=this.widgetReal.getPropsSchema()},mounted:function(){this.widget.$on("widget:destroy",this.onWidgetDestroy),this.widgetReal.$on("widget:propsSchemaChange",this.onWidgetPropsSchemaChange),this.dashboard.$on("dashboard:profileChange",this.onDashboardProfileChange),this.dashboard.$on("dashboard:lockChange",this.onDashboardLockChange)},beforeDestroy:function(){this.widget.$off("widget:destroy",this.onWidgetDestroy),this.widgetReal.$off("widget:propsSchemaChange",this.onWidgetPropsSchemaChange),this.dashboard.$off("dashboard:profileChange",this.onDashboardProfileChange),this.dashboard.$off("dashboard:lockChange",this.onDashboardLockChange),this.widget=null,this.widgetReal=null},render:function(t){var e=[];return e.push(this._renderNavbar(t)),e.push(this._renderList(t)),t("eb-page",{},e)},methods:{onDashboardLockChange:function(t){t&&this.$view.close()},onDashboardProfileChange:function(){this.$view.close()},onWidgetPropsSchemaChange:function(){this.propsSchemaDynamic=this.widgetReal.getPropsSchema()},onWidgetDestroy:function(){this.$view.close()},onPerformAddWidget:function(){this.dashboard.onPerformAddWidget(this,this.widget)},onPerformPropertyEdit:function(t,e){var r=e.propertySchema,n=e.propertyName;this.$view.navigate("/a/dashboard/widget/property/edit?widgetId=".concat(this.widgetId,"&propertyName=").concat(n),{target:"_self",context:{params:{dashboard:this.dashboard,widget:this.widget,propertySchema:r},callback:function(){}}})},_getSchemaData:function(t){var e={};for(var r in t.properties){var n=this.widget.__getPropertyRealValue(r);n&&(Array.isArray(n)||"object"===i(n))?e[r]="➡️":e[r]=n}return e},_getPageTitle:function(){return"".concat(this.$text("Properties"),": ").concat(this.widget.__getPropertyRealValue("title"))},_renderNavbar:function(t){var e=[];this.widget.options.group&&e.push(t("eb-link",{key:"action-addWidget",props:{iconF7:"::add",text:this.$text("Add Widget"),onPerform:this.onPerformAddWidget}}));var r=t("f7-nav-right",{},e);return t("eb-navbar",{props:{title:this._getPageTitle(),ebBackLink:"Back"}},[r])},_checkPropertyValid:function(t){return!this.propsSchemaDynamic||s.indexOf(t)>-1||this.propsSchemaDynamic.indexOf(t)>-1},_renderListGroup:function(t){var e=t.c,r=t.title,n=t.opened,o=t.propsSchema,i=[];for(var a in o)if(this._checkPropertyValid(a)){var s=o[a],d=e("eb-list-item-validate",{props:{dataKey:a}}),c=e("eb-link",{key:a,staticClass:"no-ripple display-block",props:{context:{propertySchema:s,propertyName:a},onPerform:this.onPerformPropertyEdit}},[d]);i.push(c)}var u=e("f7-list",{props:{inset:!0}},i),l=e("f7-accordion-content",{},[u]);return e("f7-list-item",{props:{title:this.$text(r),accordionItem:!0,accordionItemOpened:n}},[l])},_renderList:function(t){var e,r,n=(e=this.widget._getPropsSchemaCategoryGrouping(this.widget.options),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,r)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],a=n[1],s=1===Object.keys(a).length,d=this._getSchemaData(i),c=[];for(var u in a)c.push(this._renderListGroup({c:t,title:u||"General",opened:"Basic"!==u||s,propsSchema:a[u]}));var l=t("eb-list",{props:{noHairlinesMd:!0,accordionList:!0}},c);return t("eb-validate",{ref:"validate",props:{auto:!1,readOnly:!0,data:d,meta:{schema:{module:"a-dashboard",schema:i}}}},[l])}}},c=(0,r(792).Z)(d,void 0,void 0,!1,null,null,null).exports},217:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(870),o=r(3);const i={mixins:[r.n(o)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{widgetPropertyEditDynamic:n.Z},data:function(){return{widgetId:this.$f7route.query.widgetId,propertyName:this.$f7route.query.propertyName}},computed:{dashboard:function(){return this.contextParams.dashboard},widget:function(){return this.contextParams.widget},propertySchema:function(){return this.contextParams.propertySchema},propertyBind:function(){return this.contextParams.propertyBind}},created:function(){},render:function(t){var e=[];return e.push(this._renderNavbar(t)),e.push(this._renderValueDynamicSingle(t,this.propertyBind)),t("eb-page",{},e)},methods:{_getPageTitle:function(){return this.$text("Data Source")},_onBindChange:function(t){this.contextCallback(200,t)},_renderNavbar:function(t){return t("eb-navbar",{props:{title:this._getPageTitle(),ebBackLink:"Back"}})},_renderValueDynamicSingle:function(t,e){return t("widget-property-edit-dynamic",{props:{dashboard:this.dashboard,widget:this.widget,widgetId:this.widgetId,propertyName:this.propertyName,propertyBind:e},on:{"bind:change":this._onBindChange}})}}},a=(0,r(792).Z)(i,void 0,void 0,!1,null,null,null).exports},457:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>d});var n=r(870),o=r(3);function i(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const s={mixins:[r.n(o)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{widgetPropertyEditDynamic:n.Z},data:function(){return{widgetId:this.$f7route.query.widgetId,propertyName:this.$f7route.query.propertyName}},computed:{dashboard:function(){return this.contextParams.dashboard},widget:function(){return this.contextParams.widget},propertySchema:function(){return this.contextParams.propertySchema}},created:function(){},render:function(t){var e=[];if(this.dashboard.__getWidgetRealById(this.widget.options.id)){var r=this.widget.__getPropertyReal(this.propertyName),n=this._getWidgetParamsBindOnly()||r&&2===r.type;e.push(this._renderNavbar(t)),this._getWidgetParamsBindArray()&&e.push(this._renderToolbar(t)),e.push(this._renderValueTypes(t,r,n)),n?e.push(this._renderValueDynamic(t,r)):e.push(this._renderValueStatic(t,r))}return t("eb-page",{staticClass:"widget-property-edit"},e)},methods:{_getPageTitle:function(){return"".concat(this.$text("Property"),": ").concat(this.$text(this.propertySchema.ebTitle))},_setPropertyValue:function(t,e){this.widget.__setPropertyRealValue(e||this.propertyName,t)},_onChangeValueType:function(t){this._setPropertyValue({type:t?2:1})},_onBindChange:function(t){if(this._getWidgetParamsBindArray()){var e=this.widget.__getPropertyReal(this.propertyName),r=e&&e.binds||[],n=r.findIndex((function(e){return e.id===t.id}));n>-1?r.splice(n,1,t):r.push(t),this._setPropertyValue({type:2,binds:r})}else this._setPropertyValue({type:2,bind:t})},_onPerformBindDelete:function(t,e){var r=this.widget.__getPropertyReal(this.propertyName),n=r&&r.binds||[],o=n.findIndex((function(t){return t.id===e.id}));o>-1&&(n.splice(o,1),this._setPropertyValue({type:2,binds:n})),this.$meta.util.swipeoutClose(t.target)},_onPerformBindEdit:function(t,e){this._bindAddOrEdit(e),this.$meta.util.swipeoutClose(t.target)},_onPerformBindAdd:function(){this._bindAddOrEdit({id:this.$meta.util.uuidv4()})},_bindAddOrEdit:function(t){var e=this;this.$view.navigate("/a/dashboard/widget/property/bind/add?widgetId=".concat(this.widgetId,"&propertyName=").concat(this.propertyName),{target:"_self",context:{params:{dashboard:this.dashboard,widget:this.widget,propertySchema:this.propertySchema,propertyBind:t},callback:function(t,r){200===t&&e._onBindChange(r)}}})},_renderNavbar:function(t){return t("eb-navbar",{props:{title:this._getPageTitle(),ebBackLink:"Back"}})},_renderToolbar:function(t){var e=[];return e.push(t("div")),e.push(t("eb-button",{props:{text:this.$text("Add Data Source"),onPerform:this._onPerformBindAdd}})),t("f7-toolbar",{props:{bottomMd:!0}},e)},_renderValueDynamicArray:function(t,e){var r,n,o=[];if(e){var a,s=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=i(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){d=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(d)throw a}}}}(e);try{for(s.s();!(a=s.n()).done;){var d=a.value,c=[];c.push(t("div",{attrs:{color:"orange",context:d,onPerform:this._onPerformBindEdit}},[t("span",{domProps:{innerText:this.$text("Edit")}})])),c.push(t("div",{attrs:{color:"red",context:d,onPerform:this._onPerformBindDelete}},[t("span",{domProps:{innerText:this.$text("Delete")}})]));var u=t("div",{slot:"right"},c),l=t("eb-context-menu",{},[u]),h=(r=this.widget._getBindSourceTitleAndPropertyTitle(d.widgetId,d.propertyName),n=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(r,n)||i(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1];o.push(t("eb-list-item",{key:d.id,props:{title:f,after:p,swipeout:!0}},[l]))}}catch(t){s.e(t)}finally{s.f()}}return t("f7-list",{},o)},_renderValueDynamicSingle:function(t,e){return t("widget-property-edit-dynamic",{props:{dashboard:this.dashboard,widget:this.widget,widgetId:this.widgetId,propertyName:this.propertyName,propertyBind:e},on:{"bind:change":this._onBindChange}})},_renderValueDynamic:function(t,e){return this._getWidgetParamsBindArray()?this._renderValueDynamicArray(t,e&&e.binds):this._renderValueDynamicSingle(t,e&&e.bind)},_preparePropSchemaExtra:function(){var t=this.dashboard.__getWidgetRealById(this.widget.options.id).getPropSchemaExtra(this.propertyName);return t?Object.assign({},this.propertySchema,t):this.propertySchema},_getWidgetParamsBindOnly:function(){return this.$meta.util.getPropertyDeprecate(this.propertySchema,"ebWidget.bindOnly","ebBindOnly")},_getWidgetParamsBindArray:function(){return this.$meta.util.getPropertyDeprecate(this.propertySchema,"ebWidget.bindArray","ebBindArray")},_renderValueStatic:function(t){var e,r,n,o=this;return t("eb-validate",{ref:"validate",props:{auto:!0,readOnly:!1,data:{},host:{hint:{optional:"",must:""}},meta:{schema:{module:"a-dashboard",schema:{type:"object",properties:(e={},r=this.propertyName,n=this._preparePropSchemaExtra(),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e)}},ebPatch:{getValue:function(t,e){return o.widget.__getPropertyRealValue(e)},setValue:function(t,e){return o._setPropertyValue({type:1,value:t},e),t}}}}})},_renderValueTypes:function(t,e,r){var n=this,o=[];return this._getWidgetParamsBindOnly()||(o.push(t("f7-radio",{props:{name:"valueType",value:"static",checked:!r},on:{change:function(){return n._onChangeValueType(!1)}}})),o.push(t("span",{domProps:{innerText:this.$text("Static")}}))),o.push(t("f7-radio",{props:{name:"valueType",value:"dynamic",checked:r},on:{change:function(){return n._onChangeValueType(!0)}}})),o.push(t("span",{domProps:{innerText:this.$text("Dynamic")}})),t("f7-block",{staticClass:"value-types"},o)}}},d=(0,r(792).Z)(s,void 0,void 0,!1,null,null,null).exports},792:(t,e,r)=>{"use strict";function n(t,e,r,n,o,i,a,s){var d,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=d):o&&(d=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),d)if(c.functional){c._injectStyles=d;var u=c.render;c.render=function(t,e){return d.call(e),u(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,d):[d]}return{exports:t,options:c}}r.d(e,{Z:()=>n})},65:(t,e,r)=>{var n=r(450);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,r(159).Z)("6af8c460",n,!0,{})},159:(t,e,r)=>{"use strict";function n(t,e){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],a=i[0],s={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}r.d(e,{Z:()=>f});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,d=0,c=!1,u=function(){},l=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,r,o){c=r,l=o||{};var a=n(t,e);return g(a),function(e){for(var r=[],o=0;o<a.length;o++){var s=a[o];(d=i[s.id]).refs--,r.push(d)}for(e?g(a=n(t,e)):a=[],o=0;o<r.length;o++){var d;if(0===(d=r[o]).refs){for(var c=0;c<d.parts.length;c++)d.parts[c]();delete i[d.id]}}}}function g(t){for(var e=0;e<t.length;e++){var r=t[e],n=i[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(m(r.parts[o]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(m(r.parts[o]));i[r.id]={id:r.id,refs:1,parts:a}}}}function y(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,r,n=document.querySelector("style["+h+'~="'+t.id+'"]');if(n){if(c)return u;n.parentNode.removeChild(n)}if(p){var o=d++;n=s||(s=y()),e=w.bind(null,n,o,!1),r=w.bind(null,n,o,!0)}else n=y(),e=_.bind(null,n),r=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}var b,v=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,r,n){var o=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function _(t,e){var r=e.css,n=e.media,o=e.sourceMap;if(n&&t.setAttribute("media",n),l.ssrId&&t.setAttribute(h,e.id),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}},990:(t,e,r)=>{var n={"./dashboard.jsx":153};function o(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id=990},142:(t,e,r)=>{var n={"./dashboardSettings.vue":642,"./widgetProperties.vue":57,"./widgetPropertyBindAdd.vue":217,"./widgetPropertyEdit.vue":457};function o(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id=142},3:t=>{"use strict";t.exports=window.Vue}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";var t;r.r(n),r.d(n,{default:()=>e}),r(65);const e={install:function(e,n){return t?console.error("already installed."):(t=e,n({routes:r(644).Z,store:r(81).Z(t),config:r(788).Z(t),locales:r(137).Z,components:r(981).Z,mixins:r(751).Z(t)}))}}})(),window["a-dashboard"]=n})();
//# sourceMappingURL=front.js.map