(()=>{var e={349:e=>{"use strict";function t(){return t=Object.assign||function(e){for(var t,r=1;r<arguments.length;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.apply(this,arguments)}var r=["attrs","props","domProps"],n=["class","style","directives"],o=["on","nativeOn"],a=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=function(e){return e.reduce((function(e,i){for(var s in i)if(e[s])if(-1!==r.indexOf(s))e[s]=t({},e[s],i[s]);else if(-1!==n.indexOf(s)){var d=e[s]instanceof Array?e[s]:[e[s]],u=i[s]instanceof Array?i[s]:[i[s]];e[s]=d.concat(u)}else if(-1!==o.indexOf(s))for(var c in i[s])if(e[s][c]){var l=e[s][c]instanceof Array?e[s][c]:[e[s][c]],h=i[s][c]instanceof Array?i[s][c]:[i[s][c]];e[s][c]=l.concat(h)}else e[s][c]=i[s][c];else if("hook"==s)for(var p in i[s])e[s][p]=e[s][p]?a(e[s][p],i[s][p]):i[s][p];else e[s]=i[s];else e[s]=i[s];return e}),{})}},7:(e,t,r)=>{"use strict";function n(e,t){for(var r=[],n=0,o=[5,10,15,20,25,30,33,35,40,45,50,55,60,65,66,70,75,80,85,90,95,100];n<o.length;n++){var a=o[n];r.push({title:"".concat(a,"%"),value:a})}var i={type:"object",properties:{title:{type:"string",ebType:"text",ebTitle:"Title",ebWidget:{clue:"title",category:"Basic"}},widthSmall:{type:"integer",ebType:"select",ebTitle:"Width(Small)",ebOptions:r,ebWidget:{clue:"width",category:"Basic"}},widthMedium:{type:"integer",ebType:"select",ebTitle:"Width(Medium)",ebOptions:r,ebWidget:{clue:"width",category:"Basic"}},widthLarge:{type:"integer",ebType:"select",ebTitle:"Width(Large)",ebOptions:r,ebWidget:{clue:"width",category:"Basic"}}}},s=e.prototype.$utils.extend({},i,{type:"object",properties:{height:{type:"string",ebType:"text",ebTitle:"Height",ebWidget:{clue:"height",category:"Basic"},ebParams:{immediate:!1}}}}),d={type:"object",properties:{attrTitle:{ebTitle:"Title",ebWidget:{clue:"title",category:"Basic"}},attrWidthSmall:{ebTitle:"Width(Small)",ebWidget:{clue:"width",category:"Basic"}},attrWidthMedium:{ebTitle:"Width(Medium)",ebWidget:{clue:"width",category:"Basic"}},attrWidthLarge:{ebTitle:"Width(Large)",ebWidget:{clue:"width",category:"Basic"}}}},u=e.prototype.$utils.extend({},d,{type:"object",properties:{attrHeight:{ebTitle:"Height",ebWidget:{clue:"height",category:"Basic"}}}});return{meta:{widget:{schema:{props:t?i:s,attrs:t?d:u}}},props:{widget:{type:Object},title:{type:String},widthSmall:{type:Number},widthMedium:{type:Number},widthLarge:{type:Number},height:t?void 0:{type:String}},data:function(){return{attrTitle:null,attrWidthSmall:null,attrWidthMedium:null,attrWidthLarge:null,attrHeight:t?void 0:null}},watch:{title:function(){this.attrTitle=this.title},widthSmall:function(){this.attrWidthSmall=this.widthSmall},widthMedium:function(){this.attrWidthMedium=this.widthMedium},widthLarge:function(){this.attrWidthLarge=this.widthLarge},height:function(){t||(this.attrHeight=this.height)}},created:function(){this.attrTitle=this.title,this.attrWidthSmall=this.widthSmall,this.attrWidthMedium=this.widthMedium,this.attrWidthLarge=this.widthLarge,t||(this.attrHeight=this.height)},mounted:function(){this.$emit("widgetReal:ready",this),this.$emit("widgetRealReady",this)},beforeDestroy:function(){this.$emit("widgetReal:destroy",this),this.$emit("widgetRealDestroy",this)},methods:{getAttrsSchema:function(){return null},getPropsSchema:function(){return null},getPropSchemaExtra:function(){return null}}}}r.d(t,{Z:()=>n})},981:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(349),o=r.n(n);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,o,a,i){try{var s=e[a](i),d=s.value}catch(e){return void r(e)}s.done?t(d):Promise.resolve(d).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,s,"next",e)}function s(e){c(a,n,o,i,s,"throw",e)}i(void 0)}))}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=[5,10,15,20,25,30,33,35,40,45,50,55,60,65,66,70,75,80,85,90,95,100];const m={meta:{global:!0},name:"eb-dashboard-widget",components:{widgetToolbar:{render:function(){var e=this,t=arguments[0],r=[];r.push(t("eb-link",{key:"remove",attrs:{iconF7:"::remove",iconSize:"16"},props:{onPerform:function(){return e.onWidgetDelete(e.widget)}}})),r.push(t("eb-link",{key:"settings",attrs:{iconF7:"::settings",iconSize:"16"},props:{onPerform:function(){return e.onWidgetProperties(e.widget)}}}));var n=[{name:"eb-dragdrop",value:{scene:this.dragdropScene,widgetId:this.widget.id,onDragStart:this.onDragStart,onDragElement:this.onDragElement,onDropElement:this.onDropElement,onDropLeave:this.onDropLeave,onDropEnter:this.onDropEnter,onDragEnd:this.onDragEnd,onDragDone:this.onDragDone}}];return r.push(t("eb-link",o()([{key:"open_with",attrs:{iconF7:"::open-with",iconSize:"16"}},{directives:n}]))),t("div",[r])},props:{widget:{type:Object},dragdropScene:{type:String},onDragStart:{type:Function},onDragElement:{type:Function},onDropElement:{type:Function},onDropLeave:{type:Function},onDropEnter:{type:Function},onDragEnd:{type:Function},onDragDone:{type:Function},onWidgetDelete:{type:Function},onWidgetProperties:{type:Function}},data:function(){return{}},methods:{}}},render:function(e){var t=arguments[0],r=[];if(this.dashboard.lock||r.push(t("widget-toolbar",{key:"widget-toolbar",staticClass:"widget-toolbar",attrs:{widget:this.options,dragdropScene:this.dragdropScene},props:{onDragStart:this.onDragStart,onDragElement:this.onDragElement,onDropElement:this.onDropElement,onDropLeave:this.onDropLeave,onDropEnter:this.onDropEnter,onDragEnd:this.onDragEnd,onDragDone:this.onDragDone,onWidgetDelete:this.onWidgetDelete,onWidgetProperties:this.onWidgetProperties}})),!this.dashboard.lock){var n=[{name:"eb-dragdrop",value:{scene:this.dragdropSceneResize,resizable:!0,widgetId:this.options.id,onDragStart:this.onDragStartResizable,onDragMove:this.onDragMoveResizable}}];r.push(t("span",o()([{key:"resize-handler",staticClass:"resize-handler"},{directives:n}])))}if(this.options.group){var a={widget:this,root:!1,dashboard:this.dashboard,widgets:this.options.widgets};this.__combineWidgetProps(a),r.push(t("eb-dashboard-widget-group",{key:"group",ref:"group",props:p({},a),on:{widgetRealReady:this.__onWidgetRealReady,widgetRealDestroy:this.__onWidgetRealDestroy}}))}else if(!this.errorMessage&&this.ready){var i={widget:this};this.__combineWidgetProps(i),r.push(e(this.__getFullName(),{key:"widget-inner",staticClass:"widget-inner",props:i,style:{height:this.__getPropertyRealValue("height")},on:{"widgetReal:ready":this.__onWidgetRealReady,"widgetReal:destroy":this.__onWidgetRealDestroy}}))}else this.errorMessage&&r.push(t("div",{key:"errorMessage",staticClass:"widget-inner widget-inner-error",domProps:{innerText:this.errorMessage},style:{height:this.__getPropertyRealValue("height")}}));var s={"data-widget-id":this.options.id},d={resizable:!0,resizableHandler:!1,width:this.__getPropertyRealValue("widthSmall"),medium:this.__getPropertyRealValue("widthMedium"),large:this.__getPropertyRealValue("widthLarge")};return t("f7-col",{staticClass:this.__getClassName(),attrs:p({},s),props:p({},d)},[r])},props:{dashboard:{type:Object},group:{type:Object},options:{type:Object},resource:{type:Object},dragdropSceneResize:{type:String},dragdropScene:{type:String}},data:function(){return{ready:!1,errorMessage:null}},created:function(){this.__init()},beforeDestroy:function(){this.$emit("widget:destroy")},methods:{__init:function(){var e=this;return l(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.options.group){t.next=2;break}return t.abrupt("return");case 2:if(r=e.__getFullName(),e.resource){t.next=7;break}return e.errorMessage="".concat(e.$text("Widget Not Found"),": ").concat(r),e.ready=!1,t.abrupt("return");case 7:return t.next=9,e.$meta.module.use(e.resource.resourceConfig.module);case 9:if(n=t.sent,o=n.options.components[e.resource.resourceConfig.component]){t.next=16;break}e.errorMessage="".concat(e.$text("Widget Not Found"),": ").concat(r),e.ready=!1,t.next=22;break;case 16:return t.next=18,e.$meta.util.createComponentOptionsUses(o);case 18:o=e.$meta.util.createComponentOptions(o),e.$options.components[r]=o,e.ready=!0,e.errorMessage=null;case 22:case"end":return t.stop()}}),t)})))()},__onWidgetRealReady:function(e){this.dashboard.__onWidgetRealReady(this.options.id,e)},__onWidgetRealDestroy:function(e){this.dashboard.__onWidgetRealDestroy(this.options.id,e)},__getBindValue:function(e){if(e&&e.widgetId&&e.propertyName){var t=this.dashboard.__getWidgetRealById(e.widgetId);if(t)return t[e.propertyName]}},__getBindsValue:function(e){var t,r=[],n=s(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.widgetId&&o.propertyName){var a=this.__getBindValue(o);r.push({id:o.id,data:a})}}}catch(e){n.e(e)}finally{n.f()}return r},__getPropertyReal2:function(e,t){return e.properties[t]},__getPropertyReal:function(e){return this.__getPropertyReal2(this.options,e)},__convertPropertyRealValue:function(e,t,r){if(null==r)return r;var n=this._getPropSchema(e,t);if(!n)return r;switch(n.type){case"number":return Number(r);case"integer":return parseInt(r);case"string":return r.toString();case"boolean":return"true"===r||"false"!==r&&Boolean(r);case"array":return"string"==typeof r?r.split(","):r;default:return r}},__getPropertyRealValue2:function(e,t){var r,n=this.__getPropertyReal2(e,t);if(n)return 1===n.type?r=n.value:2===n.type&&(n.bind?r=this.__getBindValue(n.bind):n.binds&&(r=this.__getBindsValue(n.binds))),"title"!==t||r||(r=e.group?this.$text("Group"):this.dashboard.__findWidgetStock(e).titleLocale),this.__convertPropertyRealValue(e,t,r)},__getPropertyRealValue:function(e){return this.__getPropertyRealValue2(this.options,e)},__setPropertyRealValue2:function(e,t,r){r||(r={}),"object"!==i(r)&&(r={type:1,value:r}),r.type||(r.type=1);var n=e.properties[t]||{},o=this.$meta.util.extend({},n,r);return this.$set(e.properties,t,o),this.dashboard.__saveLayoutConfig(),o},__setPropertyRealValue:function(e,t){return this.__setPropertyRealValue2(this.options,e,t)},setPropertyValue:function(e,t){var r=this;return l(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.dashboard.__forceDashboardUser();case 2:return n.abrupt("return",r.__setPropertyRealValue(e,t));case 3:case"end":return n.stop()}}),n)})))()},_getPropSchema:function(e,t){var r=this._getPropsSchema(e);if(r){var n=r.properties[t];if(n)return n}return null},_getAttrSchema:function(e,t){var r=this._getAttrsSchema(e);if(r){var n=r.properties[t];if(n)return n}return null},_getAttrsSchema:function(e){if(e.group)return this.$options.components["eb-dashboard-widget-group"].options.meta.widget.schema.attrs;var t=this.$options.components[this.__getFullName(e)];return t&&t.meta&&t.meta.widget&&t.meta.widget.schema&&t.meta.widget.schema.attrs||null},_getPropsSchema:function(e){if(e.group)return this.$options.components["eb-dashboard-widget-group"].options.meta.widget.schema.props;var t=this.$options.components[this.__getFullName(e)];return t&&t.meta&&t.meta.widget&&t.meta.widget.schema&&t.meta.widget.schema.props||null},_getPropsSchemaCategoryGrouping:function(e){var t=this._getPropsSchema(e);if(!t)return[null,null];var r={};for(var n in t.properties){var o=t.properties[n],a=this.$meta.util.getPropertyDeprecate(o,"ebWidget.category","ebCategory")||"";r[a]||(r[a]={}),r[a][n]=o}return[t,r]},__combineWidgetProps:function(e){var t=this._getPropsSchema(this.options);this.__combineWidgetPropsSchema(e,t)},__combineWidgetPropsSchema:function(e,t){if(t)for(var r in t.properties)e[r]=this.__getPropertyRealValue(r)},_getBindSourceTitle:function(e){return e.widgetReal.widget.__getPropertyRealValue("title")},_getBindSourcePropertyTitle:function(e,t){var r=this._getAttrSchema(e.widgetReal.widget.options,t);return r?this.$text(r.ebTitle):""},_getBindSourceTitleAndPropertyTitle:function(e,t){var r=a(this.dashboard.__findWidgetRealById(e),1)[0];return r?[this._getBindSourceTitle(r),this._getBindSourcePropertyTitle(r,t)]:["",""]},__getClassName:function(){if(this.options.group){var e=0===this.options.widgets.length?"widget-group-empty":"widget-group-some";return"widget widget-id-".concat(this.options.id," widget-group ").concat(e)}var t=this.options.atomStaticKey||"".concat(this.options.module,":").concat(this.options.name);return"widget widget-id-".concat(this.options.id," widget-item widget-name-").concat(t)},__getFullName:function(e){return this.dashboard.__resourceFullName(e||this.options)},onDragStartResizable:function(e){var t=e.context;return{size:{width:this.$$(this.group.$el).width()},tooltip:this.__getTooltipResizable(t)}},onDragMoveResizable:function(e){var t=e.context,r=e.diff,n=this.getViewSize(),o=n.replace(n[0],n[0].toUpperCase()),i="width".concat(o),s=parseInt(100*r.percent.x);if(0!==s){var d=s<0,u=a(this.group.__getWidgetById(t.widgetId),2),c=u[0],l=u[1],h=this.__getPropertyRealValue2(c,i),p=h+s;if(!(p=this.__getPreferWidth(h,p,!1,d)))return!1;if(h===p)return!1;this.__setPropertyRealValue2(c,i,p),this.dashboard.__saveLayoutConfig();var f=this.__getPropertyRealValue2(c,i),g=this.group.widgets[l+1];if(g){var m=this.__getPropertyRealValue2(g,i),b=m-(p-h);(b=this.__getPreferWidth(m,b,!0,!d))&&this.__setPropertyRealValue2(g,i,b),f="".concat(f,":").concat(this.__getPropertyRealValue2(g,i))}return{eaten:!0,tooltip:f}}},__getTooltipResizable:function(e){var t,r=this.getViewSize(),n=r.replace(r[0],r[0].toUpperCase()),o="width".concat(n),i=a(this.group.__getWidgetById(e.widgetId),2),s=i[0],d=i[1];t=this.__getPropertyRealValue2(s,o);var u=this.group.widgets[d+1];return u&&(t="".concat(t,":").concat(this.__getPropertyRealValue2(u,o))),t},getViewSize:function(){return this.$view.size},__getPreferWidth:function(e,t,r,n){for(var o=r?5:2,a=0;a<o;a++){var i,d=s(g);try{for(d.s();!(i=d.n()).done;){var u=i.value;if(n&&u<e&&t-u<=a)return u;if(!n&&u>e&&u-t<=a)return u}}catch(e){d.e(e)}finally{d.f()}}return null},onDragStart:function(e){var t=e.context,r=a(this.group.__getWidgetById(t.widgetId),1)[0];return{tooltip:"".concat(this.__getPropertyRealValue2(r,"title"))}},onDragElement:function(e){var t=e.context;return this.$$(".widget-id-".concat(t.widgetId))},onDropElement:function(e){var t=e.context,r=e.dragContext,n=a(this.group.__getWidgetById(t.widgetId),2),o=n[0],i=n[1],s=a(this.group.__getWidgetById(r.widgetId),2)[1];return i===s||i===s+1?null:{dropElement:this.$$(".widget-id-".concat(t.widgetId)),tooltip:this.__getPropertyRealValue2(o,"title")}},onDropLeave:function(){},onDropEnter:function(){},onDragEnd:function(){},onDragDone:function(e){var t=e.context,r=e.dropContext,n=a(this.group.__getWidgetById(t.widgetId),2),o=n[0],i=n[1];this.group.widgets.splice(i,1);var s=a(this.group.__getWidgetById(r.widgetId),2)[1];this.group.widgets.splice(s,0,o),this.dashboard.__saveLayoutConfig()},onWidgetDelete:function(e){var t=this;this.$view.dialog.confirm().then((function(){var r=a(t.group.__getWidgetById(e.id),2)[1];-1!==r&&(t.group.widgets.splice(r,1),t.dashboard.__saveLayoutConfig())})).catch((function(){}))},onWidgetProperties:function(){this.$view.navigate("/a/dashboard/widget/properties?widgetId=".concat(this.options.id),{scene:"sidebar",sceneOptions:{side:"right",name:"properties",title:"Properties"},context:{params:{dashboard:this.dashboard,widget:this}}})},onWidgetsAdd:function(e){var t,r=s(e.widgets);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.$refs.group.onWidgetAdd(n)}}catch(e){r.e(e)}finally{r.f()}}}};var b=r(136);const y=(0,r(792).Z)({installFactory:function(e){return{mixins:[e.prototype.$meta.module.get("a-dashboard").options.mixins.ebDashboardWidgetBase]}}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("f7-card",[r("f7-card-header",[e._v(e._s(e.$text("About CabloyJS")))]),e._v(" "),r("f7-card-content",[r("div",{staticClass:"alert-info"},[e._v(e._s(e.$text("CabloyAboutTip1")))]),e._v(" "),r("p",[e._v(e._s(e.$text("CabloyAboutTip2")))]),e._v(" "),r("p",[e._v(e._s(e.$text("CabloyAboutTip3")))]),e._v(" "),r("p",[e._v(e._s(e.$text("CabloyAboutTip4")))])]),e._v(" "),r("f7-card-footer",[r("f7-link",{attrs:{external:"",target:"_blank",href:"https://cabloy.com"}},[e._v(e._s(e.$text("Documentation")))]),e._v(" "),r("f7-link",{attrs:{external:"",target:"_blank",href:"https://community.cabloy.com"}},[e._v(e._s(e.$text("Community")))]),e._v(" "),r("f7-link",{attrs:{external:"",target:"_blank",href:"https://github.com/zhennann/cabloy"}},[e._v("GitHub")])],1)],1)}),[],!1,null,null,null).exports,v={props:{context:{type:Object}},data:function(){return{}},created:function(){},methods:{onSave:function(){return this.context.validate.perform(null,{action:"save"})},onChooseEditContent:function(){var e=this,t=this.context,r=t.parcel,n=t.validate,o="/a/dashboard/dashboard?scene=manager&atomId=".concat(r.data.atomId);this.$view.navigate(o,{target:"_view",context:{params:{ctx:this,item:r.data,readOnly:n.readOnly,onSave:function(){return e.onSave()}},callback:function(t,r){200===t&&e.context.setValue(r.content)}}})}},render:function(){var e=arguments[0],t=this.context.dataPath,r=this.context.getTitle();return e("eb-list-item-choose",{attrs:{link:"#",dataPath:t,title:r},props:{onChoose:this.onChooseEditContent}})}},_={ebDashboardWidget:m,ebDashboardWidgetGroup:b.Z,widgetAbout:y,renderDashboardContent:v}},788:(e,t,r)=>{"use strict";function n(e){return{dashboard:{presets:{anonymous:{default:"a-dashboard:dashboardDefault",home:"a-dashboard:dashboardHome"},authenticated:{default:"a-dashboard:dashboardDefault",home:"a-dashboard:dashboardHome"}}},profile:{meta:{widget:{properties:{title:{type:1,value:""},widthSmall:{type:1,value:100},widthMedium:{type:1,value:50},widthLarge:{type:1,value:25},height:{type:1,value:"auto"}}},group:{properties:{title:{type:1,value:""},widthSmall:{type:1,value:100},widthMedium:{type:1,value:100},widthLarge:{type:1,value:100},height:{type:1,value:"auto"}}}}}}}r.d(t,{Z:()=>n})},933:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={Profile2:"Profile",CabloyAboutTip1:"CabloyJS - The Ultimate NodeJS Full Stack Business Development Platform",CabloyAboutTip2:"The frontend of CabloyJS uses VueJS + Framework7 + Webpack, while the backend uses KoaJS + EggJS, and the database uses MySQL",CabloyAboutTip3:"Vertically, CabloyJS make the frontend and the backend work together to form an organic wholeness, so as to avoid working independently between them",CabloyAboutTip4:"Horizontally, CabloyJS has refined a code organization mode called “business modularity”, which could offer a powerful basic framework for the continually growing business demands of large-scale web applications through different module combinations",DashboardUnlockWarningSave:"You should lock again for saving the modified profile",ProfileSwitchedPrompt:"Switched to Profile"}},978:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={Basic:"基本",Clone:"克隆",Dashboard:"仪表板",Delete:"删除",Default:"缺省",General:"通用",Group:"组",Height:"高度",Settings:"设置",Profile2:"配置",Property:"属性",Properties:"属性",Title:"标题",Static:"静态",Dynamic:"动态",Documentation:"文档",Community:"社区",CabloyAboutTip1:"CabloyJS - 是一款顶级NodeJS全栈业务开发框架",CabloyAboutTip2:"前端采用VueJS + Framework7 + Webpack，后端采用KoaJS + EggJS，数据库采用MySQL",CabloyAboutTip3:"在纵向上，将前端和后端打通，形成一个有机的整体，避免前端和后端各自为政的状况",CabloyAboutTip4:"在横向上，提炼出“业务模块化”的代码组织模式，通过不同的模块组合实现业务开发，也为大型Web应用不断增长的业务需求提供有力的基础架构",DashboardUnlockWarningSave:"您应该重新加锁，以便保存被修改的配置",ProfileSwitchedPrompt:"切换至配置","About CabloyJS":"关于CabloyJS","Add Group":"添加组","Add Widget":"添加部件","Add Data Source":"添加数据源","Data Source":"数据源","Save As":"保存为","New Profile":"新建配置","Please specify the dashboard name":"请指定仪表板名称","Widget Not Found":"部件未发现","Source Widget Not Found":"源部件未发现","Width(Small)":"宽度(小页面)","Width(Medium)":"宽度(中页面)","Width(Large)":"宽度(大页面)","Source Widget":"源部件","Property Name":"属性名","Change Name":"修改名称","Profile List":"配置列表"}},137:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={"en-us":r(933).Z,"zh-cn":r(978).Z}},751:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(7);function o(e){return{ebDashboardWidgetBase:(0,n.Z)(e,!1)}}},644:(e,t,r)=>{"use strict";function n(e){return r(142)("./".concat(e,".vue")).default}r.d(t,{Z:()=>o});const o=[{path:"dashboard",component:("dashboard",r(990)("./".concat("dashboard",".jsx")).default)},{path:"dashboard/settings",component:n("dashboardSettings")},{path:"widget/properties",component:n("widgetProperties")},{path:"widget/property/edit",component:n("widgetPropertyEdit")},{path:"widget/property/bind/add",component:n("widgetPropertyBindAdd")}]},81:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return e.prototype.$meta.eventHub.$on("auth:login",(function(t){e.prototype.$meta.store.commit("a/dashboard/authLogin",t)})),{state:{dashboardUsers:{}},getters:{},mutations:{authLogin:function(e){e.dashboardUsers={}},setDashboardUsers:function(e,t){var r=t.dashboardAtomId,n=t.dashboardUsers;e.dashboardUsers=o(o({},e.dashboardUsers),{},a({},r,n))}},actions:{getDashboardUsers:function(t,r){var n=t.state,o=t.commit,a=r.dashboardAtomId;return new Promise((function(t,r){var i=a;if(n.dashboardUsers[i])return t(n.dashboardUsers[i]);e.prototype.$meta.api.post("/a/dashboard/dashboard/itemUsers",{key:{atomId:i}}).then((function(e){var r=e;o("setDashboardUsers",{dashboardAtomId:a,dashboardUsers:r}),t(r)})).catch((function(e){r(e)}))}))}}}}r.d(t,{Z:()=>i})},153:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(3),o=r.n(n),a=r(136);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function l(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r,n,o,a,i){try{var s=e[a](i),d=s.value}catch(e){return void r(e)}s.done?t(d):Promise.resolve(d).then(n,o)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){p(a,n,o,i,s,"next",e)}function s(e){p(a,n,o,i,s,"throw",e)}i(void 0)}))}}const g={meta:{size:"large"},mixins:[o().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{widgetGroup:a.Z},render:function(){var e,t,r=arguments[0],n=this.renderActions(),o="manager"===this.scene||"mobile"===this.$meta.vueApp.layout||"small"===this.$view.size;if(o){var a=this.renderActionsManager();e=r("eb-navbar",{attrs:{title:this.page_title,ebBackLink:"Back"}},[r("f7-nav-right",[a,n])])}return this.ready&&(t=r("widget-group",{ref:"group",attrs:{root:!0,dashboard:this,widgets:this.profile.root.widgets}})),r("eb-page",{ref:"page",staticClass:"dashboard dashboard-profile-".concat(this.dashboardAtomId," ").concat(this.lock?"":"dashboard-unlock")},[e,t,!o&&r("div",{class:"dashboard-actions"},[n])])},data:function(){var e=this.$f7route.query,t=e.key,r=parseInt(e.atomId)||0;return{scene:e.scene,ready:!1,widgetsAll:null,atomStaticKey:t,profile:null,dashboardAtomId:r,dashboardUserId:0,dashboardSystem:null,dashboardUser:null,widgetsReal:[],title:null,lock:!0,page_dirty:!1}},computed:{page_title:function(){var e=this.title;return this.page_dirty?"* ".concat(e):e},user:function(){return this.$store.state.auth.user},readOnly:function(){return this.contextParams&&this.contextParams.readOnly},item:function(){return this.contextParams&&this.contextParams.item},dashboardUsers:function(){return this.$local.state.dashboardUsers[this.dashboardAtomId]}},mounted:function(){this.__init()},beforeDestroy:function(){this.$emit("dashboard:destroy")},methods:{page_getDirty:function(){return this.page_dirty},page_setDirty:function(e){this.page_dirty!==e&&(this.page_dirty=e,"manager"!==this.scene&&this.$pageContainer.setPageDirty(e))},__setTitle:function(e){var t=this.$text("Dashboard");e?e===this.$text("Default")&&(e=t):e=t,this.title=e,this.$pageContainer.setPageTitle(this.page_title)},renderActionsManager:function(){var e=this,t=this.$createElement;if(!this.ready)return null;if(1===this.user.op.anonymous)return null;if("manager"!==this.scene)return null;var r=[];return this.lock||(r.push(t("eb-link",{key:"dashboard-action-save",class:"dashboard-action-save",attrs:{iconF7:"::save"},props:{onPerform:function(t){return e.onPerformSaveManager(t)}}})),r.push(t("eb-link",{key:"dashboard-action-settings",class:"dashboard-action-settings",attrs:{iconF7:"::settings"},props:{onPerform:function(t){return e.onPerformSettings(t)}}}))),r},renderActions:function(){var e=this,t=this.$createElement;if(!this.ready)return null;if(1===this.user.op.anonymous)return null;if("manager"===this.scene)return null;var r=[];return this.lock&&(r.push(t("eb-link",{key:"dashboard-action-lock",class:"dashboard-action-lock",attrs:{iconF7:"::lock"},props:{onPerform:function(t){return e.onPerformLock(t)}}})),this.dashboardUsers&&this.dashboardUsers.length>1&&r.push(t("eb-link",{key:"dashboard-action-profileSwitch",class:"dashboard-action-profileSwitch",attrs:{iconF7:"::view-list"},props:{onPerform:function(t){return e.onPerformProfileSwitch(t)}}}))),this.lock||r.push(t("eb-link",{key:"dashboard-action-unlock",class:"dashboard-action-unlock",attrs:{iconF7:"::lock-open"},props:{onPerform:function(t){return e.onPerformUnlock(t)}}})),this.page_getDirty()&&r.push(t("eb-link",{key:"dashboard-action-save",class:"dashboard-action-save",attrs:{iconF7:"::save"},props:{onPerform:function(t){return e.onPerformSave(t)}}})),this.lock||r.push(t("eb-link",{key:"dashboard-action-settings",class:"dashboard-action-settings",attrs:{iconF7:"::settings"},props:{onPerform:function(t){return e.onPerformSettings(t)}}})),this.$device.desktop&&this.$meta.util.screenfull.isEnabled&&r.push(t("eb-link",{key:"dashboard-action-fullscreen",class:"dashboard-action-fullscreen",attrs:{iconF7:this.$meta.util.screenfull.isFullscreen?"::fullscreen-exit":"::fullscreen"},props:{onPerform:function(t){return e.onPerformFullscreen(t)}}})),r},__init:function(){var e=this;return f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e._queueForceDashboardUser=e.$meta.util.queue(e._queueTaskForceDashboardUser.bind(e)),"manager"===e.scene&&(e.lock=e.readOnly),t.next=5,e.$store.dispatch("a/base/getResources",{resourceType:"a-dashboard:widget"});case 5:return e.widgetsAll=t.sent,t.next=8,e.__switchProfile({dashboardUserId:e.dashboardUserId});case 8:if("manager"===e.scene){t.next=11;break}return t.next=11,e.$local.dispatch("getDashboardUsers",{dashboardAtomId:e.dashboardAtomId});case 11:e.ready=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),e.$view.toast.show({text:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},__saveLayoutConfig:function(){"manager"===this.scene&&this.readOnly||1!==this.user.op.anonymous&&(this.page_setDirty(!0),"manager"!==this.scene||this.readOnly||this.contextCallback(200,{content:JSON.stringify(this.profile)}))},__adjustDashboardKey:function(e){var t=this.$config.dashboard.presets,r=this.user.op.anonymous?t.anonymous:t.authenticated;return e&&"default"!==e?"home"===e?r.home:e:r.default},__changeProfileUserDefault:function(e){var t=this;return f(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dashboardUserId,r.next=3,t.$api.post("/a/dashboard/dashboard/changeItemUserDefault",{key:{atomId:t.dashboardAtomId},dashboardUserId:n});case 3:case"end":return r.stop()}}),r)})))()},__switchProfile:function(e){var t=this;return f(regeneratorRuntime.mark((function r(){var n,o,a,i,s,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.dashboardUser,o=e.dashboardUserId,n&&(o=n.id),0!==o){r.next=16;break}if("manager"!==t.scene){r.next=8;break}t.profile=JSON.parse(t.item.content),a=t.item.atomName,r.next=13;break;case 8:return r.next=10,t.$api.post("/a/dashboard/dashboard/itemByKey",{atomStaticKey:t.__adjustDashboardKey(t.atomStaticKey)});case 10:(i=r.sent).dashboardUser&&(t.dashboardUser=i.dashboardUser,t.dashboardAtomId=t.dashboardUser.dashboardAtomId,t.dashboardUserId=t.dashboardUser.id,t.profile=JSON.parse(t.dashboardUser.content),a=t.dashboardUser.dashboardName),i.dashboardSystem&&(t.dashboardSystem=i.dashboardSystem,t.dashboardAtomId=t.dashboardSystem.atomId,t.dashboardUserId=0,t.profile=JSON.parse(t.dashboardSystem.content),a=t.dashboardSystem.atomNameLocale);case 13:return t.__checkProfile(t.profile),t.__setTitle(a),r.abrupt("return");case 16:if(n){r.next=22;break}return r.next=19,t.$api.post("/a/dashboard/dashboard/loadItemUser",{dashboardUserId:o});case 19:if(n=r.sent){r.next=22;break}throw new Error("Dashboard not found!");case 22:t.dashboardUser=n,t.dashboardAtomId=t.dashboardUser.dashboardAtomId,t.dashboardUserId=t.dashboardUser.id,t.profile=JSON.parse(t.dashboardUser.content),s=t.dashboardUser.dashboardName,t.__checkProfile(t.profile),t.__setTitle(s),t.$emit("dashboard:profileChange",t.dashboardUserId),d="".concat(t.$text("ProfileSwitchedPrompt"),": ").concat(s),t.$view.toast.show({text:d});case 32:case"end":return r.stop()}}),r)})))()},__checkProfile:function(e){e.root.id||(e.root.id=this.$meta.util.uuidv4());var t,r=c(e.root.widgets);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.__initWidget(n,"widget")}}catch(e){r.e(e)}finally{r.f()}return e},__getProfileEmpty:function(){return{root:{id:this.$meta.util.uuidv4(),widgets:[]}}},__initWidget:function(e,t){e.id||(e.id=this.$meta.util.uuidv4()),e.properties||(e.properties=this.$meta.util.extend({},this.$config.profile.meta[t].properties))},__findResourceStock:function(e,t){if(!e)return null;var r=e[this.__resourceFullName(t)];return r?d(d({},t),{},{title:r.atomName,titleLocale:r.atomNameLocale,resourceAtomId:r.atomId,resourceConfig:JSON.parse(r.resourceConfig)}):null},__findWidgetStock:function(e){return e.group?null:this.__findResourceStock(this.widgetsAll,e)},__createDashboardUser:function(){var e=this;return f(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.post("/a/dashboard/dashboard/createItemUser",{key:{atomId:e.dashboardAtomId}});case 2:return r=t.sent,e.dashboardUsers&&e.dashboardUsers.push(r),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},__saveDashboardUser:function(){var e=this;return f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.page_getDirty()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$api.post("/a/dashboard/dashboard/saveItemUser",{dashboardUserId:e.dashboardUserId,content:JSON.stringify(e.profile)});case 4:return e.page_setDirty(!1),t.abrupt("return",e.$text("Saved"));case 6:case"end":return t.stop()}}),t)})))()},__setLock:function(e){this.lock=e,this.$emit("dashboard:lockChange",this.lock)},_queueTaskForceDashboardUser:function(e,t){this._queueTaskForceDashboardUser_inner().then((function(){t()})).catch((function(e){t(e)}))},_queueTaskForceDashboardUser_inner:function(){var e=this;return f(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("manager"!==e.scene&&1!==e.user.op.anonymous){t.next=2;break}return t.abrupt("return");case 2:if(0===e.dashboardUserId){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.__createDashboardUser();case 6:return r=t.sent,t.next=9,e.__switchProfile({dashboardUser:r});case 9:case"end":return t.stop()}}),t)})))()},__forceDashboardUser:function(){var e=this;return f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e._queueForceDashboardUser.push(null,(function(e){return e?r(e):t()}))})));case 1:case"end":return t.stop()}}),t)})))()},onPerformLock:function(){var e=this;return f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.__forceDashboardUser();case 2:e.__setLock(!1);case 3:case"end":return t.stop()}}),t)})))()},onPerformUnlock:function(){var e=this;return f(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onPerformSave();case 2:return r=t.sent,e.__setLock(!0),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},onPerformSave:function(){var e=this;return f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.__saveDashboardUser();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},onPerformSaveManager:function(){var e=this;return f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.contextParams.onSave();case 2:return e.page_setDirty(!1),t.abrupt("return",e.$text("Saved"));case 4:case"end":return t.stop()}}),t)})))()},onPerformSettings:function(){this.$view.navigate("/a/dashboard/dashboard/settings?dashboardUserId=".concat(this.dashboardUserId),{scene:"sidebar",sceneOptions:{side:"right",name:"profile",title:"Profile2"},context:{params:{dashboard:this}}})},onPerformFullscreen:function(){this.$meta.util.screenfull.toggle(this.$el)},onPerformProfileSwitch:function(e){var t=this;return f(regeneratorRuntime.mark((function r(){var n,o,a,i,s,d,u,l,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.dashboardUsers){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,t.$meta.util.combineIcon({f7:"::done"});case 4:n=r.sent,o=t.dashboardUserId,a=[],i=c(t.dashboardUsers);try{for(i.s();!(s=i.n()).done;)d=s.value,a.push({icon:o===d.id?n:'<i class="icon"></i>',text:d.dashboardName,disabled:o===d.id,data:d})}catch(e){i.e(e)}finally{i.f()}return u={forceToPopover:!0,targetEl:e.currentTarget,buttons:a},r.next=12,t.$view.actions.choose(u);case 12:return l=r.sent,h=l.data.id,r.next=16,t.__changeProfileUserDefault({dashboardUserId:h});case 16:return r.next=18,t.__switchProfile({dashboardUserId:h});case 18:case"end":return r.stop()}}),r)})))()},onWidgetsAdd:function(e){var t,r=c(e.widgets);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.$refs.group.onWidgetAdd(n)}}catch(e){r.e(e)}finally{r.f()}},onGroupAdd:function(){var e={group:!0,widgets:[]};this.__initWidget(e,"widget"),this.profile.root.widgets.push(e),this.__saveLayoutConfig()},__onWidgetRealReady:function(e,t){this.__onWidgetRealDestroy(),this.widgetsReal.push({widgetId:e,widgetReal:t})},__onWidgetRealDestroy:function(e){var t=i(this.__findWidgetRealById(e),2)[1];t>-1&&this.widgetsReal.splice(t,1)},__findWidgetRealById:function(e){var t=this.widgetsReal.findIndex((function(t){return t.widgetId===e}));return-1===t?[null,-1]:[this.widgetsReal[t],t]},__getWidgetRealById:function(e){var t=i(this.__findWidgetRealById(e),1)[0];return t?t.widgetReal:null},__resourceFullName:function(e){return e.atomStaticKey?e.atomStaticKey:"".concat(e.module,":").concat(e.name)},onPerformAddWidget:function(e,t){e.$view.navigate("/a/basefront/resource/select?resourceType=a-dashboard:widget",{target:"_self",context:{params:{multiple:!0},callback:function(e,r){if(200===e&&r){var n=r.map((function(e){return{atomStaticKey:e.data.atomStaticKey}}));t.onWidgetsAdd({widgets:n})}}}})}}}},450:(e,t,r)=>{var n=r(233),o=r(361)(n);o.push([e.id,".dashboard-actions {\n  position: fixed;\n  bottom: 6px;\n  right: 6px;\n  z-index: 200;\n}\n.dashboard-actions .link {\n  color: var(--f7-grid-resize-handler-bg-color);\n  margin-left: 4px;\n}\n.dashboard .row {\n  justify-content: space-evenly;\n}\n.dashboard .widget.widget-item .widget-inner {\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.dashboard .widget .widget-inner-error {\n  margin: 30px;\n  text-align: center;\n}\n.dashboard .widget.widget-group-empty .group {\n  background: var(--f7-text-editor-border-color);\n  height: 100px;\n}\n.dashboard .widget .resize-handler {\n  left: auto;\n  right: 0;\n  opacity: 0;\n  transition-duration: 400ms;\n}\n.dashboard .widget .widget-toolbar {\n  position: absolute;\n  top: 0;\n  right: 0;\n  opacity: 0;\n  transition-duration: 400ms;\n  z-index: 200;\n}\n.dashboard .widget .widget-toolbar a.link {\n  color: var(--f7-grid-resize-handler-bg-color);\n}\n.dashboard .widget .widget-toolbar a.link .icon {\n  font-size: 16px;\n}\n.dashboard .widget .widget-toolbar a.link + a.link {\n  margin-left: 8px;\n}\n.dashboard .widget[data-dragdrop-drop] {\n  background: var(--f7-text-editor-border-color);\n}\n.dashboard.dashboard-unlock .widget.widget-group-some:hover > .resize-handler {\n  right: 50%;\n}\n.dashboard.dashboard-unlock .widget.widget-group-some:hover > .widget-toolbar {\n  right: 50%;\n}\n.dashboard.dashboard-unlock .widget:hover .resize-handler {\n  left: auto;\n  right: 0;\n  opacity: 1;\n}\n.dashboard.dashboard-unlock .widget:hover .widget-toolbar {\n  opacity: 1;\n}\n.widget-property-edit .value-types {\n  text-align: right;\n}\n.widget-property-edit .value-types label.radio {\n  margin-left: 8px;\n}\n","",{version:3,sources:["webpack://./front/src/assets/css/module.less"],names:[],mappings:"AAAA;EACE,eAAA;EACA,WAAA;EACA,UAAA;EACA,YAAA;AACF;AALA;EAOI,6CAAA;EACA,gBAAA;AACJ;AAGA;EAGI,6BAAA;AAHJ;AAQI;EAEI,gBAAA;EACA,kBAAA;AAPR;AAJA;EAgBM,YAAA;EACA,kBAAA;AATN;AAYI;EAEI,8CAAA;EACA,aAAA;AAXR;AAZA;EA4BM,UAAA;EACA,QAAA;EACA,UAAA;EACA,0BAAA;AAbN;AAlBA;EAmCM,kBAAA;EACA,MAAA;EACA,QAAA;EACA,UAAA;EACA,0BAAA;EACA,YAAA;AAdN;AA1BA;EA2CQ,6CAAA;AAdR;AA7BA;EA8CU,eAAA;AAdV;AAiBQ;EACE,gBAAA;AAfV;AAqBI;EACE,8CAAA;AAnBN;AA4BI;EAEI,UAAA;AA3BR;AAyBI;EAMI,UAAA;AA5BR;AAgCI;EAGI,UAAA;EACA,QAAA;EACA,UAAA;AAhCR;AA2BI;EASI,UAAA;AAjCR;AAwCA;EAEI,iBAAA;AAvCJ;AAqCA;EAKM,gBAAA;AAvCN",sourcesContent:[".dashboard-actions {\n  position: fixed;\n  bottom: 6px;\n  right: 6px;\n  z-index: 200;\n\n  .link {\n    color: var(--f7-grid-resize-handler-bg-color);\n    margin-left: 4px;\n  }\n}\n\n.dashboard {\n\n  .row {\n    justify-content: space-evenly;\n  }\n\n  .widget {\n\n    &.widget-item {\n      .widget-inner {\n        overflow-y: auto;\n        overflow-x: hidden;\n      }\n    }\n\n    .widget-inner-error {\n      margin: 30px;\n      text-align: center;\n    }\n\n    &.widget-group-empty {\n      .group {\n        background: var(--f7-text-editor-border-color);\n        height: 100px;\n      }\n    }\n\n    .resize-handler {\n      left: auto;\n      right: 0;\n      opacity: 0;\n      transition-duration: 400ms;\n    }\n\n    .widget-toolbar {\n      position: absolute;\n      top: 0;\n      right: 0;\n      opacity: 0;\n      transition-duration: 400ms;\n      z-index: 200;\n\n      a.link {\n        color: var(--f7-grid-resize-handler-bg-color);\n\n        .icon {\n          font-size: 16px;\n        }\n\n        &+a.link {\n          margin-left: 8px;\n        }\n      }\n\n    }\n\n    &[data-dragdrop-drop] {\n      background: var(--f7-text-editor-border-color);\n    }\n  }\n}\n\n.dashboard.dashboard-unlock {\n\n  .widget {\n\n    &.widget-group-some:hover {\n      >.resize-handler {\n        right: 50%;\n      }\n\n      >.widget-toolbar {\n        right: 50%;\n      }\n    }\n\n    &:hover {\n\n      .resize-handler {\n        left: auto;\n        right: 0;\n        opacity: 1;\n      }\n\n      .widget-toolbar {\n        opacity: 1;\n      }\n    }\n\n  }\n}\n\n.widget-property-edit {\n  .value-types {\n    text-align: right;\n\n    label.radio {\n      margin-left: 8px;\n    }\n  }\n}\n"],sourceRoot:""}]),e.exports=o},361:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);n&&o[d[0]]||(r&&(d[2]?d[2]="".concat(r," and ").concat(d[2]):d[2]=r),t.push(d))}},t}},233:e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=function(e){var r,n,o=(n=4,function(e){if(Array.isArray(e))return e}(r=e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(r,n)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[1],i=o[3];if(!i)return a;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),u="/*# ".concat(d," */"),c=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[a].concat(c).concat([u]).join("\n")}return[a].join("\n")}},136:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3),o=r.n(n);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const i={meta:{global:!0},name:"eb-dashboard-widget-group",mixins:[(0,r(7).Z)(o(),!0)],render:function(e){return this.__renderRow(e)},props:{root:{type:Boolean},dashboard:{type:Object},widgets:{type:Array}},data:function(){return{dragdropSceneResize:o().prototype.$meta.util.nextId("dragdrop"),dragdropScene:o().prototype.$meta.util.nextId("dragdrop")}},methods:{__renderRow:function(e){var t,r=[],n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){d=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(d)throw i}}}}(this.widgets);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=this.dashboard.__findWidgetStock(o),s=e("eb-dashboard-widget",{key:o.id,props:{dashboard:this.dashboard,group:this,options:o,resource:i,dragdropSceneResize:this.dragdropSceneResize,dragdropScene:this.dragdropScene}});r.push(s)}}catch(e){n.e(e)}finally{n.f()}return r.push(e("f7-col",{staticClass:"widget widget-last",props:{resizable:!0,resizableHandler:!1,width:100}})),e("f7-row",{staticClass:"group"},r)},__getWidgetById:function(e){var t=this.widgets.findIndex((function(t){return t.id===e}));return-1===t?[null,-1]:[this.widgets[t],t]},onWidgetAdd:function(e){var t=e.atomStaticKey?{atomStaticKey:e.atomStaticKey}:{module:e.module,name:e.name};this.dashboard.__initWidget(t,this.root?"widget":"group"),this.widgets.push(t),this.dashboard.__saveLayoutConfig()}}},s=(0,r(792).Z)(i,void 0,void 0,!1,null,null,null).exports},870:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:()=>i});var o=["attrTitle","attrWidthSmall","attrWidthMedium","attrWidthLarge","attrHeight"];const a={props:{dashboard:{type:Object},widget:{type:Object},widgetId:{type:String},propertyName:{type:String},propertyBind:{type:Object}},data:function(){return{bindCurrent:null,optionsSourceWidget:[],optionsPropertyName:{}}},created:function(){this.bindCurrent=this.$meta.util.extend({widgetId:"",propertyName:""},this.propertyBind),this.combineOptionsSourceWidget()},methods:{onInputSourceWidget:function(e){this.bindCurrent.widgetId=e,this.bindCurrent.propertyName="",this.$emit("bind:change",this.bindCurrent)},onInputPropertyName:function(e){this.bindCurrent.propertyName=e,this.$emit("bind:change",this.bindCurrent)},combineOptionsSourceWidget:function(){var e,t=[{title:"",value:""}],r={},o=this.widget._getPropSchema(this.widget.options,this.propertyName),a=(this.$meta.util.getPropertyDeprecate(o,"ebWidget.clue","ebClue")||"").split(","),i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){d=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(d)throw i}}}}(this.dashboard.widgetsReal);try{for(i.s();!(e=i.n()).done;){var s=e.value,d=s.widgetReal.widget.options.id;if(d!==this.widgetId){var u=this._getOptionsPropertyName(s,a);u.length>1&&(r[d]=u,t.push({title:s.widgetReal.widget.__getPropertyRealValue("title"),value:d}))}}}catch(e){i.e(e)}finally{i.f()}this.optionsSourceWidget=t,this.optionsPropertyName=r},_getOptionsPropertyName:function(e,t){var r=[{title:"",value:""}],n=this.widget._getAttrsSchema(e.widgetReal.widget.options),o=e.widgetReal.getAttrsSchema();return this._combineOptionsSourceWidgetSchema(r,n,o,t),r},_checkAttrValid:function(e,t){return!e||o.indexOf(t)>-1||e.indexOf(t)>-1},_combineOptionsSourceWidgetSchema:function(e,t,r,n){var o=this;if(t){var a=function(a){if(!o._checkAttrValid(r,a))return"continue";var i=t.properties[a],s=(o.$meta.util.getPropertyDeprecate(i,"ebWidget.clue","ebClue")||"").split(",");n.filter((function(e){return s.indexOf(e)>-1})).length>0&&e.push({title:o.$text(i.ebTitle),value:a})};for(var i in t.properties)a(i)}}}},i=(0,r(792).Z)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("f7-list",[r("f7-list-item",{attrs:{smartSelect:"",smartSelectParams:{openIn:"sheet",closeOnSelect:!0},title:e.$text("Source Widget")}},[r("eb-select",{attrs:{name:"sourceWidget",value:e.bindCurrent.widgetId,options:e.optionsSourceWidget},on:{input:e.onInputSourceWidget}})],1),e._v(" "),r("f7-list-item",{attrs:{smartSelect:"",smartSelectParams:{openIn:"sheet",closeOnSelect:!0},title:e.$text("Property Name")}},[r("eb-select",{attrs:{name:"propertyName",value:e.bindCurrent.propertyName,options:e.optionsPropertyName[this.bindCurrent.widgetId]||[]},on:{input:e.onInputPropertyName}})],1)],1)}),[],!1,null,"076128dc",null).exports},657:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(3);function o(e,t,r,n,o,a,i){try{var s=e[a](i),d=s.value}catch(e){return void r(e)}s.done?t(d):Promise.resolve(d).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,d,"next",e)}function d(e){o(i,n,a,s,d,"throw",e)}s(void 0)}))}}const i={mixins:[r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],data:function(){return{dashboardUserIdCurrent:parseInt(this.$f7route.query.dashboardUserId||0)}},computed:{dashboard:function(){return this.contextParams.dashboard},dashboardUsers:function(){return this.$local.state.dashboardUsers[this.dashboard.dashboardAtomId]}},created:function(){this.__load()},mounted:function(){this.dashboard.$on("dashboard:destroy",this.onDashboardDestroy),this.dashboard.$on("dashboard:profileChange",this.onDashboardProfileChange)},beforeDestroy:function(){this.dashboard.$off("dashboard:destroy",this.onDashboardDestroy),this.dashboard.$off("dashboard:profileChange",this.onDashboardProfileChange)},methods:{__load:function(){var e=this;return a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("manager"!==e.dashboard.scene){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$local.dispatch("getDashboardUsers",{dashboardAtomId:e.dashboard.dashboardAtomId});case 4:case"end":return t.stop()}}),t)})))()},__findItem:function(e){var t=this.dashboardUsers.findIndex((function(t){return t.id===e}));return-1===t?{item:null,index:t}:{item:this.dashboardUsers[t],index:t}},onDashboardProfileChange:function(e){this.dashboardUserIdCurrent=e},onDashboardDestroy:function(){this.$view.close()},onPerformAddGroup:function(){this.dashboard.onGroupAdd()},onPerformAddWidget:function(){this.dashboard.onPerformAddWidget(this,this.dashboard)},onPerformChangeName:function(e,t){var r=this;return a(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.id,n.next=3,r.$view.dialog.prompt(r.$text("Please specify the dashboard name"),null,t.dashboardName);case 3:if((a=n.sent)&&a!==t.dashboardName){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,r.$api.post("/a/dashboard/dashboard/changeItemUserName",{dashboardUserId:o,dashboardName:a});case 8:r.__findItem(o).item.dashboardName=a,r.dashboardUserIdCurrent===o&&r.dashboard.__setTitle(a),r.$meta.util.swipeoutClose(e.target);case 12:case"end":return n.stop()}}),n)})))()},onPerformDelete:function(e,t){var r=this;return a(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.id,r.dashboardUserIdCurrent!==o){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r.$view.dialog.confirm();case 5:return n.next=7,r.$api.post("/a/dashboard/dashboard/deleteItemUser",{dashboardUserId:o});case 7:a=r.__findItem(o),r.dashboardUsers.splice(a.index,1),r.$meta.util.swipeoutClose(e.target);case 10:case"end":return n.stop()}}),n)})))()},onPerformSwitch:function(e,t){var r=this;return a(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r.dashboardUserIdCurrent!==n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r.dashboard.__saveDashboardUser();case 5:return e.next=7,r.dashboard.__changeProfileUserDefault({dashboardUserId:n});case 7:return e.next=9,r.dashboard.__switchProfile({dashboardUserId:n});case 9:r.dashboardUserIdCurrent=n;case 10:case"end":return e.stop()}}),e)})))()},onPerformProfileCreate:function(){var e=this;return a(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$view.dialog.confirm();case 2:return t.next=4,e.dashboard.__saveDashboardUser();case 4:return t.next=6,e.dashboard.__createDashboardUser();case 6:return r=t.sent,t.next=9,e.dashboard.__switchProfile({dashboardUser:r});case 9:e.dashboardUserIdCurrent=r.id;case 10:case"end":return t.stop()}}),t)})))()}}},s=(0,r(792).Z)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("eb-page",[r("eb-navbar",{attrs:{title:e.$text("Dashboard"),"eb-back-link":"Back"}}),e._v(" "),r("f7-list",[e.dashboard.lock?e._e():[r("eb-list-item",{attrs:{link:"#",title:e.$text("Add Widget"),onPerform:e.onPerformAddWidget}},[r("f7-icon",{attrs:{slot:"media",f7:"::add"},slot:"media"})],1),e._v(" "),r("eb-list-item",{attrs:{link:"#",title:e.$text("Add Group"),onPerform:e.onPerformAddGroup}},[r("f7-icon",{attrs:{slot:"media",f7:"::add"},slot:"media"})],1)],e._v(" "),"manager"!==e.dashboard.scene?[r("f7-list-item",{attrs:{"group-title":""}},[r("div",{staticClass:"detail-list-title-container"},[r("div",{staticClass:"actions-block actions-block-left"},[e._v(e._s(e.$text("Profile List")))]),e._v(" "),r("eb-link",{staticClass:"actions-block actions-block-right",attrs:{iconF7:"::add",onPerform:e.onPerformProfileCreate}})],1)]),e._v(" "),e._l(e.dashboardUsers,(function(t){return r("eb-list-item",{key:t.id,attrs:{title:t.dashboardName,radio:"",checked:t.id===e.dashboardUserIdCurrent,context:t,onPerform:e.onPerformSwitch,swipeout:""}},[r("eb-context-menu",[r("div",{attrs:{slot:"right"},slot:"right"},[r("div",{attrs:{color:"orange",context:t,onPerform:e.onPerformChangeName}},[e._v(e._s(e.$text("Change Name")))]),e._v(" "),t.id!==e.dashboardUserIdCurrent?r("div",{attrs:{color:"red",context:t,onPerform:e.onPerformDelete}},[e._v("\n              "+e._s(e.$text("Delete"))+"\n            ")]):e._e()])])],1)}))]:e._e()],2)],1)}),[],!1,null,null,null).exports},57:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(3);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var i=r.n(n)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext,s=["title","widthSmall","widthMedium","widthLarge","height"];const d={mixins:[i],data:function(){return{widgetId:this.$f7route.query.widgetId,propsSchemaDynamic:null,widget:null,widgetReal:null}},computed:{dashboard:function(){return this.contextParams.dashboard}},created:function(){this.widget=this.contextParams.widget,this.widgetReal=this.dashboard.__getWidgetRealById(this.widget.options.id),this.propsSchemaDynamic=this.widgetReal.getPropsSchema()},mounted:function(){this.widget.$on("widget:destroy",this.onWidgetDestroy),this.widgetReal.$on("widget:propsSchemaChange",this.onWidgetPropsSchemaChange),this.dashboard.$on("dashboard:profileChange",this.onDashboardProfileChange),this.dashboard.$on("dashboard:lockChange",this.onDashboardLockChange)},beforeDestroy:function(){this.widget.$off("widget:destroy",this.onWidgetDestroy),this.widgetReal.$off("widget:propsSchemaChange",this.onWidgetPropsSchemaChange),this.dashboard.$off("dashboard:profileChange",this.onDashboardProfileChange),this.dashboard.$off("dashboard:lockChange",this.onDashboardLockChange),this.widget=null,this.widgetReal=null},render:function(e){var t=[];return t.push(this._renderNavbar(e)),t.push(this._renderList(e)),e("eb-page",{},t)},methods:{onDashboardLockChange:function(e){e&&this.$view.close()},onDashboardProfileChange:function(){this.$view.close()},onWidgetPropsSchemaChange:function(){this.propsSchemaDynamic=this.widgetReal.getPropsSchema()},onWidgetDestroy:function(){this.$view.close()},onPerformAddWidget:function(){this.dashboard.onPerformAddWidget(this,this.widget)},onPerformPropertyEdit:function(e,t){var r=t.propertySchema,n=t.propertyName;this.$view.navigate("/a/dashboard/widget/property/edit?widgetId=".concat(this.widgetId,"&propertyName=").concat(n),{target:"_self",context:{params:{dashboard:this.dashboard,widget:this.widget,propertySchema:r},callback:function(){}}})},_getSchemaData:function(e){var t={};for(var r in e.properties){var n=this.widget.__getPropertyRealValue(r);n&&(Array.isArray(n)||"object"===a(n))?t[r]="➡️":t[r]=n}return t},_getPageTitle:function(){return"".concat(this.$text("Properties"),": ").concat(this.widget.__getPropertyRealValue("title"))},_renderNavbar:function(e){var t=[];this.widget.options.group&&t.push(e("eb-link",{key:"action-addWidget",props:{iconF7:"::add",text:this.$text("Add Widget"),onPerform:this.onPerformAddWidget}}));var r=e("f7-nav-right",{},t);return e("eb-navbar",{props:{title:this._getPageTitle(),ebBackLink:"Back"}},[r])},_checkPropertyValid:function(e){return!this.propsSchemaDynamic||s.indexOf(e)>-1||this.propsSchemaDynamic.indexOf(e)>-1},_renderListGroup:function(e){var t=e.c,r=e.title,n=e.opened,o=e.propsSchema,a=[];for(var i in o)if(this._checkPropertyValid(i)){var s=o[i],d=t("eb-list-item-validate",{props:{dataKey:i}}),u=t("eb-link",{key:i,staticClass:"no-ripple display-block",props:{context:{propertySchema:s,propertyName:i},onPerform:this.onPerformPropertyEdit}},[d]);a.push(u)}var c=t("f7-list",{props:{inset:!0}},a),l=t("f7-accordion-content",{},[c]);return t("f7-list-item",{props:{title:this.$text(r),accordionItem:!0,accordionItemOpened:n}},[l])},_renderList:function(e){var t,r,n=(t=this.widget._getPropsSchemaCategoryGrouping(this.widget.options),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],i=n[1],s=1===Object.keys(i).length,d=this._getSchemaData(a),u=[];for(var c in i)u.push(this._renderListGroup({c:e,title:c||"General",opened:"Basic"!==c||s,propsSchema:i[c]}));var l=e("eb-list",{props:{noHairlinesMd:!0,accordionList:!0}},u);return e("eb-validate",{ref:"validate",props:{auto:!1,readOnly:!0,data:d,meta:{schema:{module:"a-dashboard",schema:a}}}},[l])}}},u=(0,r(792).Z)(d,void 0,void 0,!1,null,null,null).exports},217:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(870),o=r(3);const a={mixins:[r.n(o)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{widgetPropertyEditDynamic:n.Z},data:function(){return{widgetId:this.$f7route.query.widgetId,propertyName:this.$f7route.query.propertyName}},computed:{dashboard:function(){return this.contextParams.dashboard},widget:function(){return this.contextParams.widget},propertySchema:function(){return this.contextParams.propertySchema},propertyBind:function(){return this.contextParams.propertyBind}},created:function(){},render:function(e){var t=[];return t.push(this._renderNavbar(e)),t.push(this._renderValueDynamicSingle(e,this.propertyBind)),e("eb-page",{},t)},methods:{_getPageTitle:function(){return this.$text("Data Source")},_onBindChange:function(e){this.contextCallback(200,e)},_renderNavbar:function(e){return e("eb-navbar",{props:{title:this._getPageTitle(),ebBackLink:"Back"}})},_renderValueDynamicSingle:function(e,t){return e("widget-property-edit-dynamic",{props:{dashboard:this.dashboard,widget:this.widget,widgetId:this.widgetId,propertyName:this.propertyName,propertyBind:t},on:{"bind:change":this._onBindChange}})}}},i=(0,r(792).Z)(a,void 0,void 0,!1,null,null,null).exports},457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(870),o=r(3);function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const s={mixins:[r.n(o)().prototype.$meta.module.get("a-components").options.mixins.ebPageContext],components:{widgetPropertyEditDynamic:n.Z},data:function(){return{widgetId:this.$f7route.query.widgetId,propertyName:this.$f7route.query.propertyName}},computed:{dashboard:function(){return this.contextParams.dashboard},widget:function(){return this.contextParams.widget},propertySchema:function(){return this.contextParams.propertySchema}},created:function(){},render:function(e){var t=[];if(this.dashboard.__getWidgetRealById(this.widget.options.id)){var r=this.widget.__getPropertyReal(this.propertyName),n=this._getWidgetParamsBindOnly()||r&&2===r.type;t.push(this._renderNavbar(e)),this._getWidgetParamsBindArray()&&t.push(this._renderToolbar(e)),t.push(this._renderValueTypes(e,r,n)),n?t.push(this._renderValueDynamic(e,r)):t.push(this._renderValueStatic(e,r))}return e("eb-page",{staticClass:"widget-property-edit"},t)},methods:{_getPageTitle:function(){return"".concat(this.$text("Property"),": ").concat(this.$text(this.propertySchema.ebTitle))},_setPropertyValue:function(e,t){this.widget.__setPropertyRealValue(t||this.propertyName,e)},_onChangeValueType:function(e){this._setPropertyValue({type:e?2:1})},_onBindChange:function(e){if(this._getWidgetParamsBindArray()){var t=this.widget.__getPropertyReal(this.propertyName),r=t&&t.binds||[],n=r.findIndex((function(t){return t.id===e.id}));n>-1?r.splice(n,1,e):r.push(e),this._setPropertyValue({type:2,binds:r})}else this._setPropertyValue({type:2,bind:e})},_onPerformBindDelete:function(e,t){var r=this.widget.__getPropertyReal(this.propertyName),n=r&&r.binds||[],o=n.findIndex((function(e){return e.id===t.id}));o>-1&&(n.splice(o,1),this._setPropertyValue({type:2,binds:n})),this.$meta.util.swipeoutClose(e.target)},_onPerformBindEdit:function(e,t){this._bindAddOrEdit(t),this.$meta.util.swipeoutClose(e.target)},_onPerformBindAdd:function(){this._bindAddOrEdit({id:this.$meta.util.uuidv4()})},_bindAddOrEdit:function(e){var t=this;this.$view.navigate("/a/dashboard/widget/property/bind/add?widgetId=".concat(this.widgetId,"&propertyName=").concat(this.propertyName),{target:"_self",context:{params:{dashboard:this.dashboard,widget:this.widget,propertySchema:this.propertySchema,propertyBind:e},callback:function(e,r){200===e&&t._onBindChange(r)}}})},_renderNavbar:function(e){return e("eb-navbar",{props:{title:this._getPageTitle(),ebBackLink:"Back"}})},_renderToolbar:function(e){var t=[];return t.push(e("div")),t.push(e("eb-button",{props:{text:this.$text("Add Data Source"),onPerform:this._onPerformBindAdd}})),e("f7-toolbar",{props:{bottomMd:!0}},t)},_renderValueDynamicArray:function(e,t){var r,n,o=[];if(t){var i,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){d=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(d)throw i}}}}(t);try{for(s.s();!(i=s.n()).done;){var d=i.value,u=[];u.push(e("div",{attrs:{color:"orange",context:d,onPerform:this._onPerformBindEdit}},[e("span",{domProps:{innerText:this.$text("Edit")}})])),u.push(e("div",{attrs:{color:"red",context:d,onPerform:this._onPerformBindDelete}},[e("span",{domProps:{innerText:this.$text("Delete")}})]));var c=e("div",{slot:"right"},u),l=e("eb-context-menu",{},[c]),h=(r=this.widget._getBindSourceTitleAndPropertyTitle(d.widgetId,d.propertyName),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(r,n)||a(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],f=h[1];o.push(e("eb-list-item",{key:d.id,props:{title:f,after:p,swipeout:!0}},[l]))}}catch(e){s.e(e)}finally{s.f()}}return e("f7-list",{},o)},_renderValueDynamicSingle:function(e,t){return e("widget-property-edit-dynamic",{props:{dashboard:this.dashboard,widget:this.widget,widgetId:this.widgetId,propertyName:this.propertyName,propertyBind:t},on:{"bind:change":this._onBindChange}})},_renderValueDynamic:function(e,t){return this._getWidgetParamsBindArray()?this._renderValueDynamicArray(e,t&&t.binds):this._renderValueDynamicSingle(e,t&&t.bind)},_preparePropSchemaExtra:function(){var e=this.dashboard.__getWidgetRealById(this.widget.options.id).getPropSchemaExtra(this.propertyName);return e?Object.assign({},this.propertySchema,e):this.propertySchema},_getWidgetParamsBindOnly:function(){return this.$meta.util.getPropertyDeprecate(this.propertySchema,"ebWidget.bindOnly","ebBindOnly")},_getWidgetParamsBindArray:function(){return this.$meta.util.getPropertyDeprecate(this.propertySchema,"ebWidget.bindArray","ebBindArray")},_renderValueStatic:function(e){var t,r,n,o=this;return e("eb-validate",{ref:"validate",props:{auto:!0,readOnly:!1,data:{},host:{hint:{optional:"",must:""}},meta:{schema:{module:"a-dashboard",schema:{type:"object",properties:(t={},r=this.propertyName,n=this._preparePropSchemaExtra(),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)}},ebPatch:{getValue:function(e,t){return o.widget.__getPropertyRealValue(t)},setValue:function(e,t){return o._setPropertyValue({type:1,value:e},t),e}}}}})},_renderValueTypes:function(e,t,r){var n=this,o=[];return this._getWidgetParamsBindOnly()||(o.push(e("f7-radio",{props:{name:"valueType",value:"static",checked:!r},on:{change:function(){return n._onChangeValueType(!1)}}})),o.push(e("span",{domProps:{innerText:this.$text("Static")}}))),o.push(e("f7-radio",{props:{name:"valueType",value:"dynamic",checked:r},on:{change:function(){return n._onChangeValueType(!0)}}})),o.push(e("span",{domProps:{innerText:this.$text("Dynamic")}})),e("f7-block",{staticClass:"value-types"},o)}}},d=(0,r(792).Z)(s,void 0,void 0,!1,null,null,null).exports},792:(e,t,r)=>{"use strict";function n(e,t,r,n,o,a,i,s){var d,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),i?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=d):o&&(d=s?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),d)if(u.functional){u._injectStyles=d;var c=u.render;u.render=function(e,t){return d.call(t),c(e,t)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,d):[d]}return{exports:e,options:u}}r.d(t,{Z:()=>n})},65:(e,t,r)=>{var n=r(450);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,r(159).Z)("6af8c460",n,!0,{})},159:(e,t,r)=>{"use strict";function n(e,t){for(var r=[],n={},o=0;o<t.length;o++){var a=t[o],i=a[0],s={id:e+":"+o,css:a[1],media:a[2],sourceMap:a[3]};n[i]?n[i].parts.push(s):r.push(n[i]={id:i,parts:[s]})}return r}r.d(t,{Z:()=>f});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},i=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,d=0,u=!1,c=function(){},l=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,r,o){u=r,l=o||{};var i=n(e,t);return g(i),function(t){for(var r=[],o=0;o<i.length;o++){var s=i[o];(d=a[s.id]).refs--,r.push(d)}for(t?g(i=n(e,t)):i=[],o=0;o<r.length;o++){var d;if(0===(d=r[o]).refs){for(var u=0;u<d.parts.length;u++)d.parts[u]();delete a[d.id]}}}}function g(e){for(var t=0;t<e.length;t++){var r=e[t],n=a[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(b(r.parts[o]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var i=[];for(o=0;o<r.parts.length;o++)i.push(b(r.parts[o]));a[r.id]={id:r.id,refs:1,parts:i}}}}function m(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function b(e){var t,r,n=document.querySelector("style["+h+'~="'+e.id+'"]');if(n){if(u)return c;n.parentNode.removeChild(n)}if(p){var o=d++;n=s||(s=m()),t=_.bind(null,n,o,!1),r=_.bind(null,n,o,!0)}else n=m(),t=w.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}var y,v=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function _(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function w(e,t){var r=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),l.ssrId&&e.setAttribute(h,t.id),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}},990:(e,t,r)=>{var n={"./dashboard.jsx":153};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=990},142:(e,t,r)=>{var n={"./dashboardSettings.vue":657,"./widgetProperties.vue":57,"./widgetPropertyBindAdd.vue":217,"./widgetPropertyEdit.vue":457};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=142},3:e=>{"use strict";e.exports=window.Vue}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";var e;r.r(n),r.d(n,{default:()=>t}),r(65);const t={install:function(t,n){return e?console.error("already installed."):(e=t,n({routes:r(644).Z,store:r(81).Z(e),config:r(788).Z(e),locales:r(137).Z,components:r(981).Z,mixins:r(751).Z(e)}))}}})(),window["a-dashboard"]=n})();
//# sourceMappingURL=front.js.map